//>>built
(function(b){"object"===typeof module&&"object"===typeof module.exports?(b=b(require,exports),void 0!==b&&(module.exports=b)):"function"===typeof define&&define.amd&&define(["require","exports","../../shim/global"],b)})(function(b,e){Object.defineProperty(e,"__esModule",{value:!0});var f=b("../../shim/global");b=function(){function b(a){var b=a.onChange,c=a.window,c=void 0===c?f.default.window:c;a=a.base;a=void 0===a?"/":a;var d=this;this._onChange=function(){var a;a=d._base;var b=d._window.location.pathname+
d._window.location.search;"/"===a?a=b:0===b.indexOf(a)?(a=b.slice(a.length),a="/"!==a[0]?"/"+a:a):a="/";d._current!==a&&(d._current=a,d._onChangeFunction(d._current))};if(/(#|\?)/.test(a))throw new TypeError("base must not contain '#' or '?'");this._onChangeFunction=b;this._window=c;this._base=a;this._current=this._window.location.pathname+this._window.location.search;this._window.addEventListener("popstate",this._onChange,!1);this._onChange()}b.prototype.prefix=function(a){var b=/\/$/.test(this._base),
c=/^\//.test(a);return b&&c?this._base+a.slice(1):b||c?this._base+a:this._base+"/"+a};b.prototype.set=function(a){this._window.history.pushState({},"",this.prefix("/"!==a[0]?"/"+a:a));this._onChange()};Object.defineProperty(b.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0});return b}();e.StateHistory=b;e.default=b});