//>>built
(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define(["require","exports","../../shim/global","../process","../state/operations"],a)})(function(a,b){Object.defineProperty(b,"__esModule",{value:!0});var e=a("../../shim/global"),g=a("../process"),h=a("../state/operations");b.collector=function(a,k,c){return function(f,b){var d=k(b.store.path).map(function(a){var d=b.get(a);return{meta:{path:a.path},
state:d}});e.default.localStorage.setItem(a,JSON.stringify(d));c&&c(f,b)}};b.load=function(a,b){if(a=e.default.localStorage.getItem(a))try{var c=JSON.parse(a).map(function(a){return h.add(b.path(a.meta.path),a.state)});g.processExecutor("local-storage-load",[function(){return c}],b,void 0,void 0)({})}catch(f){}}});