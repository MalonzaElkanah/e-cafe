// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.10/esri/copyright.txt for details.
//>>built
define(["require","exports","./nextTick","./libs/gl-matrix-2/gl-matrix"],function(e,f,g,c){Object.defineProperty(f,"__esModule",{value:!0});e=function(){function b(a,b,c){var d=this;this.itemByteSize=a;this.itemCreate=b;this.bufferPtr=0;this.items=[];this.itemsPtr=0;a=Math.ceil(c/this.itemByteSize);this.buffer=new ArrayBuffer(a*this.itemByteSize);this.tickHandle=g.before(function(){return d.reset()});for(b=0;b<a;b++)this.create();this.reset()}b.prototype.destroy=function(){this.tickHandle&&(this.tickHandle.remove(),
this.tickHandle=null)};b.prototype.get=function(){0===this.itemsPtr&&g(function(){});if(this.itemsPtr<this.items.length)return this.items[this.itemsPtr++];this.growIfNeeded();return this.create()};b.prototype.reset=function(){this.itemsPtr=0};b.prototype.create=function(){var a=this.itemCreate(this.buffer,this.bufferPtr);this.bufferPtr+=this.itemByteSize;this.items.push(a);this.itemsPtr++;return a};b.prototype.growIfNeeded=function(){if(this.bufferPtr+this.itemByteSize>this.buffer.byteLength){var a=
new ArrayBuffer(2*this.buffer.byteLength);(new Uint8Array(a)).set(new Uint8Array(this.buffer));this.buffer=a}};b.createVec2f64=function(a){void 0===a&&(a=d);return new b(16,c.vec2f64.createView,a)};b.createVec3f64=function(a){void 0===a&&(a=d);return new b(24,c.vec3f64.createView,a)};b.createVec4f64=function(a){void 0===a&&(a=d);return new b(32,c.vec4f64.createView,a)};b.createMat3f64=function(a){void 0===a&&(a=d);return new b(72,c.mat3f64.createView,a)};b.createMat4f64=function(a){void 0===a&&(a=
d);return new b(128,c.mat4f64.createView,a)};b.createQuatf64=function(a){void 0===a&&(a=d);return new b(32,c.quatf64.createView,a)};return b}();f.VectorStack=e;var d=4096;f.default=e});