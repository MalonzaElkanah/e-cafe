// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.10/esri/copyright.txt for details.
//>>built
define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../request ../core/Error ../core/promiseUtils ../core/accessorSupport/decorators ../geometry/Extent ../geometry/SpatialReference ../geometry/support/aaBoundingRect ./Layer ./mixins/RefreshableLayer ./mixins/ScaleRangeLayer ./support/TileInfo".split(" "),function(k,x,y,n,f,p,q,l,b,r,g,t,u,v,w,m){var e={id:"0/0/0",level:0,row:0,col:0,extent:null};return function(h){function a(){var c=
null!==h&&h.apply(this,arguments)||this;c.tileInfo=m.create({spatialReference:g.WebMercator,size:256});c.type="base-tile";c.fullExtent=new r(-2.0037508342787E7,-2.003750834278E7,2.003750834278E7,2.0037508342787E7,g.WebMercator);c.spatialReference=g.WebMercator;return c}n(a,h);a.prototype.getTileBounds=function(c,a,b,d){d=d||t.create();e.level=c;e.row=a;e.col=b;e.extent=d;this.tileInfo.updateTileInfo(e);e.extent=null;return d};a.prototype.fetchTile=function(c,a,b,d){c=this.getTileUrl(c,a,b);a={responseType:"image"};
d&&d.timestamp&&(a.query={_ts:d.timestamp});return p(c,a).then(function(a){return a.data})};a.prototype.getTileUrl=function(a,b,e){throw new q("basetilelayer:gettileurl-not-implemented","getTileUrl() is not implemented");};a.prototype.importLayerViewModule=function(a){switch(a.type){case "2d":return l.create(function(a){return k(["../views/2d/layers/TileLayerView2D"],a)});case "3d":return l.create(function(a){return k(["../views/3d/layers/TileLayerView3D"],a)})}};f([b.property({type:m})],a.prototype,
"tileInfo",void 0);f([b.property({readOnly:!0,value:"base-tile"})],a.prototype,"type",void 0);f([b.property()],a.prototype,"fullExtent",void 0);f([b.property()],a.prototype,"spatialReference",void 0);return a=f([b.subclass("esri.layers.BaseTileLayer")],a)}(b.declared(u,v,w))});