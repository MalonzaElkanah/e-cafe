// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.10/esri/copyright.txt for details.
//>>built
define("require exports ../../../../geometry/support/aaBoundingRect ../../../../geometry/support/centroid ../../../../geometry/support/jsonUtils ../../../../geometry/support/quantizationUtils ./graphicsUtils".split(" "),function(l,m,p,q,r,n,k){Object.defineProperty(m,"__esModule",{value:!0});l=function(){function b(){this.bounds=p.create();this.graphic=null;this.size=[0,0,0,0]}b.acquire=function(a,t,c,e,d,f,g){void 0===a&&(a=null);var h;0===b._pool.length?h=new b:(h=b._pool.pop(),this._set.delete(h));
h.acquire(a,t,c,e,d,f,g);return h};b.release=function(a){a&&!this._set.has(a)&&(a.release(),this._pool.push(a),this._set.add(a))};b.getCentroidQuantized=function(a,b,c,e){if(r.isPolygon(a.geometry)){var d=a.graphic.symbol;!d&&c&&(d=c.getSymbol(a.graphic,{scale:e}));if(!d)return null;if(k.isMarkerSymbol(d.type))return a=q.polygonCentroid(a.geometry),n.quantizePoint(b,{},{x:a[0],y:a[1]},!1,!1)}return null};b.prototype.acquire=function(a,b,c,e,d,f,g){void 0===a&&(a=null);a&&this.set(a,b,c,e,d,f,g)};
b.prototype.release=function(){this.geometry=this.graphic=null};b.prototype.set=function(a,b,c,e,d,f,g){this.graphic=a;this.geometry=b;k.getBounds(this.bounds,this.size,a,b,c,e,d,f,g)};b.prototype.updateBounds=function(a,b,c,e){k.getBounds(this.bounds,this.size,this.graphic,this.geometry,null,a,b,c,e)};b.prototype.getGeometryQuantized=function(a){return n.quantizeGeometry(a,this.geometry)};b._pool=[];b._set=new Set;return b}();m.default=l});