// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.10/esri/copyright.txt for details.
//>>built
define("require exports ../../../../../../core/libs/gl-matrix-2/gl-matrix ../../definitions ../../number ../../collisions/BoundingBox".split(" "),function(A,B,c,G,e,I){Object.defineProperty(B,"__esModule",{value:!0});var a=c.vec2f32.create();A=function(){function x(a,c,e,x,t,C,D,n,l,E,f,g,u,p,h){this.anchorX=a;this.anchorY=c;this.angle=e;this.bounds=x;this.minZoom=t;this.maxZoom=C;this.materialId=D;this.vertexOffsetUpperLeft=n;this.vertexOffsetUpperRight=l;this.vertexOffsetLowerLeft=E;this.vertexOffsetLowerRight=
f;this.texFontSizeUpperLeft=g;this.texFontSizeUpperRight=u;this.texFontSizeLowerLeft=p;this.texFontSizeLowerRight=h}x.from=function(m,k,A,B,t,C,D,n,l,E,f,g,u,p,h){void 0===p&&(p=!1);void 0===h&&(h=!1);var b=n.rect,d=n.metrics;t=-1===t?255:Math.floor(180*t/Math.PI/360*254);var y=Math.round(b.x/4),z=Math.round(b.y/4);n=y+Math.round(b.width/4);var H=z+Math.round(b.height/4),v=-24-d.top,w=d.left,q=-d.top,r=b.width,b=b.height;l||(h||(v=0),w=4,r=d.width);m+=w;l=h?k+q:k+v;r=m+r;v=l;k=m;q=l+b;b=r;h=q;var w=
k+d.width,F=q-d.height,J=d.width*g/24,d=d.height*g/24;f&&(c.vec2.transformMat2d(a,c.vec2.set(a,m,l),f),m=a[0],l=a[1],c.vec2.transformMat2d(a,c.vec2.set(a,r,v),f),r=a[0],v=a[1],c.vec2.transformMat2d(a,c.vec2.set(a,k,q),f),k=a[0],q=a[1],c.vec2.transformMat2d(a,c.vec2.set(a,b,h),f),b=a[0],h=a[1],c.vec2.transformMat2d(a,c.vec2.set(a,w,F),f),w=a[0],F=a[1]);f=p?new I.default(w,F,J+G.COLLISION_BOX_PADDING,d+G.COLLISION_BOX_PADDING):null;p=e.i1616to32(8*m,8*l);d=e.i1616to32(8*r,8*v);m=e.i1616to32(8*k,8*q);
k=e.i1616to32(8*b,8*h);b=e.i8888to32(y,z,g,u);z=e.i8888to32(n,z,g,u);y=e.i8888to32(y,H,g,u);g=e.i8888to32(n,H,g,u);return new x(A|0,B|0,t,f,C,D,E,p,d,m,k,b,z,y,g)};return x}();B.default=A});