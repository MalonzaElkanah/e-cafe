// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.10/esri/copyright.txt for details.
//>>built
define(["require","exports","../../MaterialInfo","../../util/serializationUtils"],function(g,h,f,k){Object.defineProperty(h,"__esModule",{value:!0});g=function(){function b(){this._materials=[];this._materialsIndex=new Map}b.prototype.insert=function(a){var c=this._materials.length;this._materials.push(a);return c};b.prototype._hashGlyph=function(a,c,d){return"G-"+c+"-"+d+"-"+a.page};b.prototype._hashSprite=function(a,c,d){return a?"S-"+c+"-"+d+"-"+a.page+"-"+(a.sdf?1:0):"S-"+c+"-"+d+"--1}"};b.prototype.createSpriteMaterial=
function(a,c,d){var b=this._hashSprite(a,c,d);if(this._materialsIndex.has(b))return this._materialsIndex.get(b);var e=this._materials.length;a=f.default.fromSprite(a,c,d);this._materials.push(a);this._materialsIndex.set(b,e);return e};b.prototype.createGlyphMaterial=function(a,c,b){var d=this._hashGlyph(a,c,b);if(this._materialsIndex.has(d))return this._materialsIndex.get(d);var e=this._materials.length;a=f.default.fromGlyph(a,c,b);this._materials.push(a);this._materialsIndex.set(d,e);return e};b.prototype.get=
function(a){return this._materials[a]};b.prototype.hydrateObjects=function(a){for(var c=0;c<a.length;c++)for(var b=0,f=a[c].displayRecords;b<f.length;b++){var e=f[b];e.materialInfo=this.get(e.materialIndex)}return a};b.prototype.serialize=function(a){k.serializeList(a,this._materials);return a};b.deserialize=function(a){var c=new b;c._materials=k.deserializeList(a,f.default);return c};return b}();h.default=g});