// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.10/esri/copyright.txt for details.
//>>built
define(["require","exports","../Utils","./VertexBuffer","../util/Writer"],function(h,d,l,m,g){Object.defineProperty(d,"__esModule",{value:!0});var k=function(){function b(a,c){this.data=a;this.stride=c;this.vertexCount=0}b.prototype.transfer=function(a,c){var f=this.data.buffer();a.vertexCount=this.vertexCount;a.data=f;a.stride=this.stride;c.push(f)};return b}();d.default=k;h=function(){function b(a,c,f){this.geometryType=a;this.indexVector=new g.default(Uint32Array,f);this.namedVectors={};a=l.getStrides(a,
c);for(var b in a){c=a[b];var e=void 0;switch(c%4){case 0:case 2:e=new g.default(Uint32Array,c/4*f);break;case 1:case 3:e=new g.default(Uint8Array,c*f)}this.namedVectors[b]=new k(e,c)}}b.prototype.get=function(a){return this.namedVectors[a].data};b.prototype.transfer=function(a,c){var b=this.indexVector.buffer(),d={};c.push(b);for(var e in this.namedVectors){var g=this.namedVectors[e];d[e]={};g.transfer(d[e],c)}a.geometryType=this.geometryType;a.indexBuffer=b;a.namedBuffers=d;this.destroy()};b.prototype.intoBuffers=
function(){var a=m.VertexBuffers.fromVertexVectors(this);this.destroy();return a};b.prototype.destroy=function(){this.namedVectors=this.indexVector=null};return b}();d.VertexVectors=h});