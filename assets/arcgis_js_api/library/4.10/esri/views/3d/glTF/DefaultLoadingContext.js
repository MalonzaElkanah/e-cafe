// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.10/esri/copyright.txt for details.
//>>built
define("require exports ../../../core/tsSupport/awaiterHelper ../../../core/tsSupport/generatorHelper ../../../core/tsSupport/assignHelper dojo/errors/CancelError ../../../request ../../../core/Error ../../../core/promiseUtils ../../../core/urlUtils".split(" "),function(e,f,c,d,p,h,k,l,m,g){Object.defineProperty(f,"__esModule",{value:!0});e=function(){function b(a){this.streamDataSupplier=a}b.prototype.loadJson=function(a){return c(this,void 0,void 0,function(){return d(this,function(b){return[2,
this.load("json",a)]})})};b.prototype.loadBinary=function(a){return c(this,void 0,void 0,function(){return d(this,function(b){return g.isDataProtocol(a)?[2,g.dataToArrayBuffer(a)]:[2,this.load("binary",a)]})})};b.prototype.loadImage=function(a){return c(this,void 0,void 0,function(){return d(this,function(b){return[2,this.load("image",a)]})})};b.prototype.load=function(a,b){return c(this,void 0,void 0,function(){var c,e,f=this;return d(this,function(d){switch(d.label){case 0:if(!this.streamDataSupplier)return[3,
1];c=this.streamDataSupplier.request(b,a);return[2,m.create(function(a,b){c.then(function(b,c){a(c)},function(a){b(a instanceof h?a:new l("","Request for resource failed: "+a))})},function(){f.streamDataSupplier.cancelRequest(c)})];case 1:return[4,k(b,n[a])];case 2:return e=d.sent(),[2,e.data]}})})};return b}();f.DefaultLoadingContext=e;var n={image:{responseType:"image"},binary:{responseType:"array-buffer"},json:void 0}});