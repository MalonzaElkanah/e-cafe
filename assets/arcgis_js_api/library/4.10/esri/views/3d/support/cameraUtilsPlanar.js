// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.10/esri/copyright.txt for details.
//>>built
define("require exports ../../../core/libs/gl-matrix-2/gl-matrix ../../../geometry/Extent ./cameraUtilsInternal ./mathUtils ./projectionUtils".split(" "),function(v,g,a,t,n,k,l){function p(c,b,u,e){void 0===e&&(e=n.createDirectionUp());a.mat4.identity(h);c=e.direction;var f=e.up;a.mat4.rotateZ(h,h,-k.deg2rad(b));a.mat4.rotateX(h,h,k.deg2rad(u));a.vec3.transformMat4(c,q,h);a.vec3.scale(c,c,-1);a.vec3.transformMat4(f,r,h);return e}Object.defineProperty(g,"__esModule",{value:!0});var r=a.vec3f64.fromValues(0,
1,0),q=a.vec3f64.fromValues(0,0,1),h=a.mat4f64.create(),b=a.vec3f64.create(),d=a.vec3f64.create();g.headingTiltToDirectionUp=p;g.directionToHeadingTilt=function(c,a,b,e){return n.directionToHeadingTilt(a,b,e,q,r)};g.eyeForCenterWithHeadingTilt=function(c,b,d,e){var f=p(c,d,e),m=a.vec3f64.create();a.vec3.scale(m,f.direction,-b);a.vec3.add(m,m,c);return{up:f.up,eye:m,heading:d,tilt:e}};g.lookAtTiltToEyeTilt=function(c,b,a){return k.rad2deg(a)};g.eyeTiltToLookAtTilt=function(c,a,b){return k.deg2rad(b)};
g.toExtent=function(a,g,h,e,f){var c=a.renderSpatialReference;a=a.map&&a.spatialReference||g.spatialReference;l.pointToVector(g,b,c);l.pointToVector(g,d,c);b[0]-=h/2;d[0]+=h/2;b[1]-=e/2;d[1]+=e/2;l.vectorToVector(b,c,b,a);l.vectorToVector(d,c,d,a);f?(f.xmin=b[0],f.ymin=b[1],f.xmax=d[0],f.ymax=d[1],f.spatialReference=a):f=new t(b[0],b[1],d[0],d[1],a);return f}});