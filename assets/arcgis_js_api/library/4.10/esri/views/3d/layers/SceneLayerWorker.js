// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.10/esri/copyright.txt for details.
//>>built
require({cache:{"esri/core/libs/gl-matrix-2/gl-matrix":function(){define("require exports ./factories/mat2df32 ./factories/mat2df64 ./factories/mat2f32 ./factories/mat2f64 ./factories/mat3f32 ./factories/mat3f64 ./factories/mat4f32 ./factories/mat4f64 ./factories/quat2f32 ./factories/quat2f64 ./factories/quatf32 ./factories/quatf64 ./factories/vec2f32 ./factories/vec2f64 ./factories/vec3f32 ./factories/vec3f64 ./factories/vec4f32 ./factories/vec4f64 ./math/common ./math/mat2 ./math/mat2d ./math/mat3 ./math/mat4 ./math/quat ./math/quat2 ./math/vec2 ./math/vec3 ./math/vec4".split(" "),
function(a,b,l,p,r,h,n,f,u,m,e,g,c,d,k,w,q,t,v,y,x,D,E,H,L,I,z,A,B,G){Object.defineProperty(b,"__esModule",{value:!0});b.mat2df32=l;b.mat2df64=p;b.mat2f32=r;b.mat2f64=h;b.mat3f32=n;b.mat3f64=f;b.mat4f32=u;b.mat4f64=m;b.quat2f32=e;b.quat2f64=g;b.quatf32=c;b.quatf64=d;b.vec2f32=k;b.vec2f64=w;b.vec3f32=q;b.vec3f64=t;b.vec4f32=v;b.vec4f64=y;b.common=x;b.mat2=D;b.mat2d=E;b.mat3=H;b.mat4=L;b.quat=I;b.quat2=z;b.vec2=A;b.vec3=B;b.vec4=G})},"esri/core/libs/gl-matrix-2/factories/mat2df32":function(){define(["require",
"exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.create=function(){var a=new Float32Array(6);a[0]=1;a[3]=1;return a};b.clone=function(a){var b=new Float32Array(6);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];return b};b.fromValues=function(a,b,r,h,n,f){var l=new Float32Array(6);l[0]=a;l[1]=b;l[2]=r;l[3]=h;l[4]=n;l[5]=f;return l};b.createView=function(a,b){return new Float32Array(a,b,6)}})},"esri/core/libs/gl-matrix-2/factories/mat2df64":function(){define(["require",
"exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.create=function(){return[1,0,0,1,0,0]};b.clone=function(a){return[a[0],a[1],a[2],a[3],a[4],a[5]]};b.fromValues=function(a,b,r,h,n,f){return[a,b,r,h,n,f]};b.createView=function(a,b){return new Float64Array(a,b,6)}})},"esri/core/libs/gl-matrix-2/factories/mat2f32":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.create=function(){var a=new Float32Array(4);a[0]=1;a[3]=1;
return a};b.clone=function(a){var b=new Float32Array(4);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b};b.fromValues=function(a,b,r,h){var n=new Float32Array(4);n[0]=a;n[1]=b;n[2]=r;n[3]=h;return n};b.createView=function(a,b){return new Float32Array(a,b,4)}})},"esri/core/libs/gl-matrix-2/factories/mat2f64":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.create=function(){return[1,0,0,1]};b.clone=function(a){return[a[0],a[1],a[2],a[3]]};b.fromValues=
function(a,b,r,h){return[a,b,r,h]};b.createView=function(a,b){return new Float64Array(a,b,4)}})},"esri/core/libs/gl-matrix-2/factories/mat3f32":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.create=function(){var a=new Float32Array(9);a[0]=1;a[4]=1;a[8]=1;return a};b.clone=function(a){var b=new Float32Array(9);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];return b};b.fromValues=function(a,b,r,h,n,
f,u,m,e){var g=new Float32Array(9);g[0]=a;g[1]=b;g[2]=r;g[3]=h;g[4]=n;g[5]=f;g[6]=u;g[7]=m;g[8]=e;return g};b.createView=function(a,b){return new Float32Array(a,b,9)}})},"esri/core/libs/gl-matrix-2/factories/mat3f64":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.create=function(){return[1,0,0,0,1,0,0,0,1]};b.clone=function(a){return[a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8]]};b.fromValues=function(a,b,r,h,n,f,u,m,e){return[a,b,r,h,n,f,
u,m,e]};b.createView=function(a,b){return new Float64Array(a,b,9)}})},"esri/core/libs/gl-matrix-2/factories/mat4f32":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.create=function(){var a=new Float32Array(16);a[0]=1;a[5]=1;a[10]=1;a[15]=1;return a};b.clone=function(a){var b=new Float32Array(16);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];
b[14]=a[14];b[15]=a[15];return b};b.fromValues=function(a,b,r,h,n,f,u,m,e,g,c,d,k,w,q,t){var v=new Float32Array(16);v[0]=a;v[1]=b;v[2]=r;v[3]=h;v[4]=n;v[5]=f;v[6]=u;v[7]=m;v[8]=e;v[9]=g;v[10]=c;v[11]=d;v[12]=k;v[13]=w;v[14]=q;v[15]=t;return v};b.createView=function(a,b){return new Float32Array(a,b,16)}})},"esri/core/libs/gl-matrix-2/factories/mat4f64":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.create=function(){return[1,0,0,0,0,1,0,0,0,
0,1,0,0,0,0,1]};b.clone=function(a){return[a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15]]};b.fromValues=function(a,b,r,h,n,f,u,m,e,g,c,d,k,w,q,t){return[a,b,r,h,n,f,u,m,e,g,c,d,k,w,q,t]};b.createView=function(a,b){return new Float64Array(a,b,16)}})},"esri/core/libs/gl-matrix-2/factories/quat2f32":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.create=function(){var a=new Float32Array(8);a[3]=1;return a};
b.clone=function(a){var b=new Float32Array(8);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];return b};b.fromValues=function(a,b,r,h,n,f,u,m){var e=new Float32Array(8);e[0]=a;e[1]=b;e[2]=r;e[3]=h;e[4]=n;e[5]=f;e[6]=u;e[7]=m;return e};b.fromRotationTranslationValues=function(a,b,r,h,n,f,u){var m=new Float32Array(8);m[0]=a;m[1]=b;m[2]=r;m[3]=h;n*=.5;f*=.5;u*=.5;m[4]=n*h+f*r-u*b;m[5]=f*h+u*a-n*r;m[6]=u*h+n*b-f*a;m[7]=-n*a-f*b-u*r;return m};b.createView=function(a,b){return new Float32Array(a,
b,8)}})},"esri/core/libs/gl-matrix-2/factories/quat2f64":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.create=function(){return[0,0,0,1,0,0,0,0]};b.clone=function(a){return[a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7]]};b.fromValues=function(a,b,r,h,n,f,u,m){return[a,b,r,h,n,f,u,m]};b.fromRotationTranslationValues=function(a,b,r,h,n,f,u){n*=.5;f*=.5;u*=.5;return[a,b,r,h,n*h+f*r-u*b,f*h+u*a-n*r,u*h+n*b-f*a,-n*a-f*b-u*r]};b.createView=function(a,
b){return new Float64Array(a,b,8)}})},"esri/core/libs/gl-matrix-2/factories/quatf32":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.create=function(){var a=new Float32Array(4);a[3]=1;return a};b.clone=function(a){var b=new Float32Array(4);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b};b.fromValues=function(a,b,r,h){var n=new Float32Array(4);n[0]=a;n[1]=b;n[2]=r;n[3]=h;return n};b.createView=function(a,b){return new Float32Array(a,b,4)}})},
"esri/core/libs/gl-matrix-2/factories/quatf64":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.create=function(){return[0,0,0,1]};b.clone=function(a){return[a[0],a[1],a[2],a[3]]};b.fromValues=function(a,b,r,h){return[a,b,r,h]};b.createView=function(a,b){return new Float64Array(a,b,4)}})},"esri/core/libs/gl-matrix-2/factories/vec2f32":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.create=
function(){return new Float32Array(2)};b.clone=function(a){var b=new Float32Array(2);b[0]=a[0];b[1]=a[1];return b};b.fromValues=function(a,b){var l=new Float32Array(2);l[0]=a;l[1]=b;return l};b.createView=function(a,b){return new Float32Array(a,b,2)}})},"esri/core/libs/gl-matrix-2/factories/vec2f64":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.create=function(){return[0,0]};b.clone=function(a){return[a[0],a[1]]};b.fromValues=function(a,b){return[a,
b]};b.fromArray=function(a){for(var b=[0,0],l=Math.min(2,a.length),h=0;h<l;++h)b[h]=a[h];return b};b.createView=function(a,b){return new Float64Array(a,b,2)}})},"esri/core/libs/gl-matrix-2/factories/vec3f32":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.create=function(){return new Float32Array(3)};b.clone=function(a){var b=new Float32Array(3);b[0]=a[0];b[1]=a[1];b[2]=a[2];return b};b.fromValues=function(a,b,r){var h=new Float32Array(3);h[0]=
a;h[1]=b;h[2]=r;return h};b.createView=function(a,b){return new Float32Array(a,b,3)}})},"esri/core/libs/gl-matrix-2/factories/vec3f64":function(){define(["require","exports"],function(a,b){function l(){return[0,0,0]}Object.defineProperty(b,"__esModule",{value:!0});b.create=l;b.clone=function(a){return[a[0],a[1],a[2]]};b.fromValues=function(a,b,h){return[a,b,h]};b.fromArray=function(a){for(var b=l(),h=Math.min(3,a.length),n=0;n<h;++n)b[n]=a[n];return b};b.createView=function(a,b){return new Float64Array(a,
b,3)}})},"esri/core/libs/gl-matrix-2/factories/vec4f32":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.create=function(){return new Float32Array(4)};b.clone=function(a){var b=new Float32Array(4);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b};b.fromValues=function(a,b,r,h){var n=new Float32Array(4);n[0]=a;n[1]=b;n[2]=r;n[3]=h;return n};b.createView=function(a,b){return new Float32Array(a,b,4)}})},"esri/core/libs/gl-matrix-2/factories/vec4f64":function(){define(["require",
"exports"],function(a,b){function l(){return[0,0,0,0]}Object.defineProperty(b,"__esModule",{value:!0});b.create=l;b.clone=function(a){return[a[0],a[1],a[2],a[3]]};b.fromValues=function(a,b,h,n){return[a,b,h,n]};b.fromArray=function(a){for(var b=l(),h=Math.min(4,a.length),n=0;n<h;++n)b[n]=a[n];return b};b.createView=function(a,b){return new Float64Array(a,b,4)}})},"esri/core/libs/gl-matrix-2/math/common":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});
b.EPSILON=1E-6;b.RANDOM=Math.random;var l=Math.PI/180,p=180/Math.PI;b.toRadian=function(a){return a*l};b.toDegree=function(a){return a*p};b.equals=function(a,h){return Math.abs(a-h)<=b.EPSILON*Math.max(1,Math.abs(a),Math.abs(h))}})},"esri/core/libs/gl-matrix-2/math/mat2":function(){define(["require","exports","./common"],function(a,b,l){function p(a,b,f){var h=b[0],m=b[1],e=b[2];b=b[3];var g=f[0],c=f[1],d=f[2];f=f[3];a[0]=h*g+e*c;a[1]=m*g+b*c;a[2]=h*d+e*f;a[3]=m*d+b*f;return a}function r(a,b,f){a[0]=
b[0]-f[0];a[1]=b[1]-f[1];a[2]=b[2]-f[2];a[3]=b[3]-f[3];return a}Object.defineProperty(b,"__esModule",{value:!0});b.copy=function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];return a};b.identity=function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=1;return a};b.set=function(a,b,f,u,m){a[0]=b;a[1]=f;a[2]=u;a[3]=m;return a};b.transpose=function(a,b){if(a===b){var h=b[1];a[1]=b[2];a[2]=h}else a[0]=b[0],a[1]=b[2],a[2]=b[1],a[3]=b[3];return a};b.invert=function(a,b){var h=b[0],n=b[1],m=b[2];b=b[3];var e=h*b-m*n;if(!e)return null;
e=1/e;a[0]=b*e;a[1]=-n*e;a[2]=-m*e;a[3]=h*e;return a};b.adjoint=function(a,b){var h=b[0];a[0]=b[3];a[1]=-b[1];a[2]=-b[2];a[3]=h;return a};b.determinant=function(a){return a[0]*a[3]-a[2]*a[1]};b.multiply=p;b.rotate=function(a,b,f){var h=b[0],m=b[1],e=b[2];b=b[3];var g=Math.sin(f);f=Math.cos(f);a[0]=h*f+e*g;a[1]=m*f+b*g;a[2]=h*-g+e*f;a[3]=m*-g+b*f;return a};b.scale=function(a,b,f){var h=b[1],m=b[2],e=b[3],g=f[0];f=f[1];a[0]=b[0]*g;a[1]=h*g;a[2]=m*f;a[3]=e*f;return a};b.fromRotation=function(a,b){var h=
Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=h;a[2]=-h;a[3]=b;return a};b.fromScaling=function(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=b[1];return a};b.str=function(a){return"mat2("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};b.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2))};b.LDU=function(a,b,f,u){a[2]=u[2]/u[0];f[0]=u[0];f[1]=u[1];f[3]=u[3]-a[2]*f[1];return[a,b,f]};b.add=function(a,b,f){a[0]=b[0]+f[0];a[1]=b[1]+f[1];a[2]=b[2]+f[2];a[3]=b[3]+f[3];return a};
b.subtract=r;b.exactEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]};b.equals=function(a,b){var h=a[0],n=a[1],m=a[2];a=a[3];var e=b[0],g=b[1],c=b[2];b=b[3];return Math.abs(h-e)<=l.EPSILON*Math.max(1,Math.abs(h),Math.abs(e))&&Math.abs(n-g)<=l.EPSILON*Math.max(1,Math.abs(n),Math.abs(g))&&Math.abs(m-c)<=l.EPSILON*Math.max(1,Math.abs(m),Math.abs(c))&&Math.abs(a-b)<=l.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))};b.multiplyScalar=function(a,b,f){a[0]=b[0]*f;a[1]=b[1]*f;a[2]=
b[2]*f;a[3]=b[3]*f;return a};b.multiplyScalarAndAdd=function(a,b,f,u){a[0]=b[0]+f[0]*u;a[1]=b[1]+f[1]*u;a[2]=b[2]+f[2]*u;a[3]=b[3]+f[3]*u;return a};b.mul=p;b.sub=r})},"esri/core/libs/gl-matrix-2/math/mat2d":function(){define(["require","exports","./common"],function(a,b,l){function p(a,b,f){var h=b[0],m=b[1],e=b[2],g=b[3],c=b[4];b=b[5];var d=f[0],k=f[1],w=f[2],q=f[3],t=f[4];f=f[5];a[0]=h*d+e*k;a[1]=m*d+g*k;a[2]=h*w+e*q;a[3]=m*w+g*q;a[4]=h*t+e*f+c;a[5]=m*t+g*f+b;return a}function r(a,b,f){a[0]=b[0]-
f[0];a[1]=b[1]-f[1];a[2]=b[2]-f[2];a[3]=b[3]-f[3];a[4]=b[4]-f[4];a[5]=b[5]-f[5];return a}Object.defineProperty(b,"__esModule",{value:!0});b.copy=function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];return a};b.identity=function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=0;a[5]=0;return a};b.set=function(a,b,f,u,m,e,g){a[0]=b;a[1]=f;a[2]=u;a[3]=m;a[4]=e;a[5]=g;return a};b.invert=function(a,b){var h=b[0],n=b[1],m=b[2],e=b[3],g=b[4];b=b[5];var c=h*e-n*m;if(!c)return null;c=1/c;a[0]=e*c;
a[1]=-n*c;a[2]=-m*c;a[3]=h*c;a[4]=(m*b-e*g)*c;a[5]=(n*g-h*b)*c;return a};b.determinant=function(a){return a[0]*a[3]-a[1]*a[2]};b.multiply=p;b.rotate=function(a,b,f){var h=b[0],m=b[1],e=b[2],g=b[3],c=b[4];b=b[5];var d=Math.sin(f);f=Math.cos(f);a[0]=h*f+e*d;a[1]=m*f+g*d;a[2]=h*-d+e*f;a[3]=m*-d+g*f;a[4]=c;a[5]=b;return a};b.scale=function(a,b,f){var h=b[1],m=b[2],e=b[3],g=b[4],c=b[5],d=f[0];f=f[1];a[0]=b[0]*d;a[1]=h*d;a[2]=m*f;a[3]=e*f;a[4]=g;a[5]=c;return a};b.translate=function(a,b,f){var h=b[0],m=
b[1],e=b[2],g=b[3],c=b[4];b=b[5];var d=f[0];f=f[1];a[0]=h;a[1]=m;a[2]=e;a[3]=g;a[4]=h*d+e*f+c;a[5]=m*d+g*f+b;return a};b.fromRotation=function(a,b){var h=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=h;a[2]=-h;a[3]=b;a[4]=0;a[5]=0;return a};b.fromScaling=function(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=b[1];a[4]=0;a[5]=0;return a};b.fromTranslation=function(a,b){a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=b[0];a[5]=b[1];return a};b.str=function(a){return"mat2d("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+")"};
b.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+1)};b.add=function(a,b,f){a[0]=b[0]+f[0];a[1]=b[1]+f[1];a[2]=b[2]+f[2];a[3]=b[3]+f[3];a[4]=b[4]+f[4];a[5]=b[5]+f[5];return a};b.subtract=r;b.multiplyScalar=function(a,b,f){a[0]=b[0]*f;a[1]=b[1]*f;a[2]=b[2]*f;a[3]=b[3]*f;a[4]=b[4]*f;a[5]=b[5]*f;return a};b.multiplyScalarAndAdd=function(a,b,f,l){a[0]=b[0]+f[0]*l;a[1]=b[1]+f[1]*l;a[2]=b[2]+f[2]*l;a[3]=b[3]+f[3]*l;
a[4]=b[4]+f[4]*l;a[5]=b[5]+f[5]*l;return a};b.exactEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]};b.equals=function(a,b){var h=a[0],n=a[1],m=a[2],e=a[3],g=a[4];a=a[5];var c=b[0],d=b[1],k=b[2],w=b[3],q=b[4];b=b[5];return Math.abs(h-c)<=l.EPSILON*Math.max(1,Math.abs(h),Math.abs(c))&&Math.abs(n-d)<=l.EPSILON*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(m-k)<=l.EPSILON*Math.max(1,Math.abs(m),Math.abs(k))&&Math.abs(e-w)<=l.EPSILON*Math.max(1,
Math.abs(e),Math.abs(w))&&Math.abs(g-q)<=l.EPSILON*Math.max(1,Math.abs(g),Math.abs(q))&&Math.abs(a-b)<=l.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))};b.mul=p;b.sub=r})},"esri/core/libs/gl-matrix-2/math/mat3":function(){define(["require","exports","./common"],function(a,b,l){function p(a,b,f){var h=b[0],m=b[1],e=b[2],g=b[3],c=b[4],d=b[5],k=b[6],w=b[7];b=b[8];var q=f[0],t=f[1],v=f[2],y=f[3],x=f[4],n=f[5],l=f[6],p=f[7];f=f[8];a[0]=q*h+t*g+v*k;a[1]=q*m+t*c+v*w;a[2]=q*e+t*d+v*b;a[3]=y*h+x*g+n*k;a[4]=y*
m+x*c+n*w;a[5]=y*e+x*d+n*b;a[6]=l*h+p*g+f*k;a[7]=l*m+p*c+f*w;a[8]=l*e+p*d+f*b;return a}function r(a,b,f){a[0]=b[0]-f[0];a[1]=b[1]-f[1];a[2]=b[2]-f[2];a[3]=b[3]-f[3];a[4]=b[4]-f[4];a[5]=b[5]-f[5];a[6]=b[6]-f[6];a[7]=b[7]-f[7];a[8]=b[8]-f[8];return a}Object.defineProperty(b,"__esModule",{value:!0});b.fromMat4=function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[4];a[4]=b[5];a[5]=b[6];a[6]=b[8];a[7]=b[9];a[8]=b[10];return a};b.copy=function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];
a[6]=b[6];a[7]=b[7];a[8]=b[8];return a};b.set=function(a,b,f,l,m,e,g,c,d,k){a[0]=b;a[1]=f;a[2]=l;a[3]=m;a[4]=e;a[5]=g;a[6]=c;a[7]=d;a[8]=k;return a};b.identity=function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a};b.transpose=function(a,b){if(a===b){var h=b[1],n=b[2],m=b[5];a[1]=b[3];a[2]=b[6];a[3]=h;a[5]=b[7];a[6]=n;a[7]=m}else a[0]=b[0],a[1]=b[3],a[2]=b[6],a[3]=b[1],a[4]=b[4],a[5]=b[7],a[6]=b[2],a[7]=b[5],a[8]=b[8];return a};b.invert=function(a,b){var h=b[0],n=b[1],
m=b[2],e=b[3],g=b[4],c=b[5],d=b[6],k=b[7];b=b[8];var w=b*g-c*k,q=-b*e+c*d,t=k*e-g*d,v=h*w+n*q+m*t;if(!v)return null;v=1/v;a[0]=w*v;a[1]=(-b*n+m*k)*v;a[2]=(c*n-m*g)*v;a[3]=q*v;a[4]=(b*h-m*d)*v;a[5]=(-c*h+m*e)*v;a[6]=t*v;a[7]=(-k*h+n*d)*v;a[8]=(g*h-n*e)*v;return a};b.adjoint=function(a,b){var h=b[0],n=b[1],m=b[2],e=b[3],g=b[4],c=b[5],d=b[6],k=b[7];b=b[8];a[0]=g*b-c*k;a[1]=m*k-n*b;a[2]=n*c-m*g;a[3]=c*d-e*b;a[4]=h*b-m*d;a[5]=m*e-h*c;a[6]=e*k-g*d;a[7]=n*d-h*k;a[8]=h*g-n*e;return a};b.determinant=function(a){var b=
a[3],h=a[4],l=a[5],m=a[6],e=a[7],g=a[8];return a[0]*(g*h-l*e)+a[1]*(-g*b+l*m)+a[2]*(e*b-h*m)};b.multiply=p;b.translate=function(a,b,f){var h=b[0],m=b[1],e=b[2],g=b[3],c=b[4],d=b[5],k=b[6],w=b[7];b=b[8];var q=f[0];f=f[1];a[0]=h;a[1]=m;a[2]=e;a[3]=g;a[4]=c;a[5]=d;a[6]=q*h+f*g+k;a[7]=q*m+f*c+w;a[8]=q*e+f*d+b;return a};b.rotate=function(a,b,f){var h=b[0],m=b[1],e=b[2],g=b[3],c=b[4],d=b[5],k=b[6],w=b[7];b=b[8];var q=Math.sin(f);f=Math.cos(f);a[0]=f*h+q*g;a[1]=f*m+q*c;a[2]=f*e+q*d;a[3]=f*g-q*h;a[4]=f*c-
q*m;a[5]=f*d-q*e;a[6]=k;a[7]=w;a[8]=b;return a};b.scale=function(a,b,f){var h=f[0];f=f[1];a[0]=h*b[0];a[1]=h*b[1];a[2]=h*b[2];a[3]=f*b[3];a[4]=f*b[4];a[5]=f*b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];return a};b.fromTranslation=function(a,b){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=b[0];a[7]=b[1];a[8]=1;return a};b.fromRotation=function(a,b){var h=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=h;a[2]=0;a[3]=-h;a[4]=b;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a};b.fromScaling=function(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=
0;a[4]=b[1];a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a};b.fromMat2d=function(a,b){a[0]=b[0];a[1]=b[1];a[2]=0;a[3]=b[2];a[4]=b[3];a[5]=0;a[6]=b[4];a[7]=b[5];a[8]=1;return a};b.fromQuat=function(a,b){var f=b[0],h=b[1],m=b[2];b=b[3];var e=f+f,g=h+h,c=m+m,f=f*e,d=h*e,h=h*g,k=m*e,w=m*g,m=m*c,e=b*e,g=b*g;b*=c;a[0]=1-h-m;a[3]=d-b;a[6]=k+g;a[1]=d+b;a[4]=1-f-m;a[7]=w-e;a[2]=k-g;a[5]=w+e;a[8]=1-f-h;return a};b.normalFromMat4=function(a,b){var f=b[0],h=b[1],m=b[2],e=b[4],g=b[5],c=b[6],d=b[8],k=b[9];b=b[10];var w=
b*g-c*k,q=-b*e+c*d,t=k*e-g*d,v=f*w+h*q+m*t;if(!v)return null;v=1/v;a[0]=w*v;a[1]=(-b*h+m*k)*v;a[2]=(c*h-m*g)*v;a[3]=q*v;a[4]=(b*f-m*d)*v;a[5]=(-c*f+m*e)*v;a[6]=t*v;a[7]=(-k*f+h*d)*v;a[8]=(g*f-h*e)*v;return a};b.projection=function(a,b,f){a[0]=2/b;a[1]=0;a[2]=0;a[3]=0;a[4]=-2/f;a[5]=0;a[6]=-1;a[7]=1;a[8]=1;return a};b.str=function(a){return"mat3("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+")"};b.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],
2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2))};b.add=function(a,b,f){a[0]=b[0]+f[0];a[1]=b[1]+f[1];a[2]=b[2]+f[2];a[3]=b[3]+f[3];a[4]=b[4]+f[4];a[5]=b[5]+f[5];a[6]=b[6]+f[6];a[7]=b[7]+f[7];a[8]=b[8]+f[8];return a};b.subtract=r;b.multiplyScalar=function(a,b,f){a[0]=b[0]*f;a[1]=b[1]*f;a[2]=b[2]*f;a[3]=b[3]*f;a[4]=b[4]*f;a[5]=b[5]*f;a[6]=b[6]*f;a[7]=b[7]*f;a[8]=b[8]*f;return a};b.multiplyScalarAndAdd=function(a,b,f,l){a[0]=
b[0]+f[0]*l;a[1]=b[1]+f[1]*l;a[2]=b[2]+f[2]*l;a[3]=b[3]+f[3]*l;a[4]=b[4]+f[4]*l;a[5]=b[5]+f[5]*l;a[6]=b[6]+f[6]*l;a[7]=b[7]+f[7]*l;a[8]=b[8]+f[8]*l;return a};b.exactEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]};b.equals=function(a,b){var f=a[0],h=a[1],m=a[2],e=a[3],g=a[4],c=a[5],d=a[6],k=a[7];a=a[8];var w=b[0],q=b[1],t=b[2],v=b[3],y=b[4],x=b[5],D=b[6],n=b[7];b=b[8];return Math.abs(f-w)<=l.EPSILON*Math.max(1,
Math.abs(f),Math.abs(w))&&Math.abs(h-q)<=l.EPSILON*Math.max(1,Math.abs(h),Math.abs(q))&&Math.abs(m-t)<=l.EPSILON*Math.max(1,Math.abs(m),Math.abs(t))&&Math.abs(e-v)<=l.EPSILON*Math.max(1,Math.abs(e),Math.abs(v))&&Math.abs(g-y)<=l.EPSILON*Math.max(1,Math.abs(g),Math.abs(y))&&Math.abs(c-x)<=l.EPSILON*Math.max(1,Math.abs(c),Math.abs(x))&&Math.abs(d-D)<=l.EPSILON*Math.max(1,Math.abs(d),Math.abs(D))&&Math.abs(k-n)<=l.EPSILON*Math.max(1,Math.abs(k),Math.abs(n))&&Math.abs(a-b)<=l.EPSILON*Math.max(1,Math.abs(a),
Math.abs(b))};b.mul=p;b.sub=r})},"esri/core/libs/gl-matrix-2/math/mat4":function(){define(["require","exports","../factories/vec3f64","./common"],function(a,b,l,p){function r(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function h(a,b,g){var c=b[0],e=b[1],m=b[2],w=b[3],q=b[4],t=b[5],v=b[6],f=b[7],x=b[8],h=b[9],n=b[10],l=b[11],u=b[12],p=b[13],r=b[14];b=b[15];var A=g[0],B=g[1],G=g[2],C=g[3];a[0]=A*c+B*q+G*x+C*u;a[1]=
A*e+B*t+G*h+C*p;a[2]=A*m+B*v+G*n+C*r;a[3]=A*w+B*f+G*l+C*b;A=g[4];B=g[5];G=g[6];C=g[7];a[4]=A*c+B*q+G*x+C*u;a[5]=A*e+B*t+G*h+C*p;a[6]=A*m+B*v+G*n+C*r;a[7]=A*w+B*f+G*l+C*b;A=g[8];B=g[9];G=g[10];C=g[11];a[8]=A*c+B*q+G*x+C*u;a[9]=A*e+B*t+G*h+C*p;a[10]=A*m+B*v+G*n+C*r;a[11]=A*w+B*f+G*l+C*b;A=g[12];B=g[13];G=g[14];C=g[15];a[12]=A*c+B*q+G*x+C*u;a[13]=A*e+B*t+G*h+C*p;a[14]=A*m+B*v+G*n+C*r;a[15]=A*w+B*f+G*l+C*b;return a}function n(a,b,g){var c=b[0],e=b[1],m=b[2],w=b[3],q=c+c,t=e+e,v=m+m;b=c*q;var f=c*t,c=
c*v,x=e*t,e=e*v,m=m*v,q=w*q,t=w*t,w=w*v;a[0]=1-(x+m);a[1]=f+w;a[2]=c-t;a[3]=0;a[4]=f-w;a[5]=1-(b+m);a[6]=e+q;a[7]=0;a[8]=c+t;a[9]=e-q;a[10]=1-(b+x);a[11]=0;a[12]=g[0];a[13]=g[1];a[14]=g[2];a[15]=1;return a}function f(a,b,g){a[0]=b[0]-g[0];a[1]=b[1]-g[1];a[2]=b[2]-g[2];a[3]=b[3]-g[3];a[4]=b[4]-g[4];a[5]=b[5]-g[5];a[6]=b[6]-g[6];a[7]=b[7]-g[7];a[8]=b[8]-g[8];a[9]=b[9]-g[9];a[10]=b[10]-g[10];a[11]=b[11]-g[11];a[12]=b[12]-g[12];a[13]=b[13]-g[13];a[14]=b[14]-g[14];a[15]=b[15]-g[15];return a}Object.defineProperty(b,
"__esModule",{value:!0});b.copy=function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];a[9]=b[9];a[10]=b[10];a[11]=b[11];a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a};b.set=function(a,b,g,c,d,k,w,q,t,v,f,x,h,n,l,u,p){a[0]=b;a[1]=g;a[2]=c;a[3]=d;a[4]=k;a[5]=w;a[6]=q;a[7]=t;a[8]=v;a[9]=f;a[10]=x;a[11]=h;a[12]=n;a[13]=l;a[14]=u;a[15]=p;return a};b.identity=r;b.transpose=function(a,b){if(a===b){var e=b[1],c=b[2],d=b[3],k=b[6],m=b[7],q=b[11];
a[1]=b[4];a[2]=b[8];a[3]=b[12];a[4]=e;a[6]=b[9];a[7]=b[13];a[8]=c;a[9]=k;a[11]=b[14];a[12]=d;a[13]=m;a[14]=q}else a[0]=b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a};b.invert=function(a,b){var e=b[0],c=b[1],d=b[2],k=b[3],m=b[4],q=b[5],t=b[6],v=b[7],f=b[8],x=b[9],h=b[10],n=b[11],l=b[12],u=b[13],p=b[14];b=b[15];var r=e*q-c*m,A=e*t-d*m,B=e*v-k*m,G=c*t-d*q,C=c*v-k*q,J=d*v-
k*t,M=f*u-x*l,O=f*p-h*l,K=f*b-n*l,F=x*p-h*u,N=x*b-n*u,T=h*b-n*p,P=r*T-A*N+B*F+G*K-C*O+J*M;if(!P)return null;P=1/P;a[0]=(q*T-t*N+v*F)*P;a[1]=(d*N-c*T-k*F)*P;a[2]=(u*J-p*C+b*G)*P;a[3]=(h*C-x*J-n*G)*P;a[4]=(t*K-m*T-v*O)*P;a[5]=(e*T-d*K+k*O)*P;a[6]=(p*B-l*J-b*A)*P;a[7]=(f*J-h*B+n*A)*P;a[8]=(m*N-q*K+v*M)*P;a[9]=(c*K-e*N-k*M)*P;a[10]=(l*C-u*B+b*r)*P;a[11]=(x*B-f*C-n*r)*P;a[12]=(q*O-m*F-t*M)*P;a[13]=(e*F-c*O+d*M)*P;a[14]=(u*A-l*G-p*r)*P;a[15]=(f*G-x*A+h*r)*P;return a};b.adjoint=function(a,b){var e=b[0],
c=b[1],d=b[2],k=b[3],m=b[4],q=b[5],t=b[6],v=b[7],f=b[8],x=b[9],h=b[10],n=b[11],l=b[12],u=b[13],p=b[14];b=b[15];a[0]=q*(h*b-n*p)-x*(t*b-v*p)+u*(t*n-v*h);a[1]=-(c*(h*b-n*p)-x*(d*b-k*p)+u*(d*n-k*h));a[2]=c*(t*b-v*p)-q*(d*b-k*p)+u*(d*v-k*t);a[3]=-(c*(t*n-v*h)-q*(d*n-k*h)+x*(d*v-k*t));a[4]=-(m*(h*b-n*p)-f*(t*b-v*p)+l*(t*n-v*h));a[5]=e*(h*b-n*p)-f*(d*b-k*p)+l*(d*n-k*h);a[6]=-(e*(t*b-v*p)-m*(d*b-k*p)+l*(d*v-k*t));a[7]=e*(t*n-v*h)-m*(d*n-k*h)+f*(d*v-k*t);a[8]=m*(x*b-n*u)-f*(q*b-v*u)+l*(q*n-v*x);a[9]=-(e*
(x*b-n*u)-f*(c*b-k*u)+l*(c*n-k*x));a[10]=e*(q*b-v*u)-m*(c*b-k*u)+l*(c*v-k*q);a[11]=-(e*(q*n-v*x)-m*(c*n-k*x)+f*(c*v-k*q));a[12]=-(m*(x*p-h*u)-f*(q*p-t*u)+l*(q*h-t*x));a[13]=e*(x*p-h*u)-f*(c*p-d*u)+l*(c*h-d*x);a[14]=-(e*(q*p-t*u)-m*(c*p-d*u)+l*(c*t-d*q));a[15]=e*(q*h-t*x)-m*(c*h-d*x)+f*(c*t-d*q);return a};b.determinant=function(a){var b=a[0],g=a[1],c=a[2],d=a[3],k=a[4],m=a[5],q=a[6],t=a[7],v=a[8],f=a[9],x=a[10],h=a[11],n=a[12],l=a[13],p=a[14];a=a[15];return(b*m-g*k)*(x*a-h*p)-(b*q-c*k)*(f*a-h*l)+(b*
t-d*k)*(f*p-x*l)+(g*q-c*m)*(v*a-h*n)-(g*t-d*m)*(v*p-x*n)+(c*t-d*q)*(v*l-f*n)};b.multiply=h;b.translate=function(a,b,g){var c=g[0],e=g[1];g=g[2];var k=void 0,m=void 0,q=void 0,t=void 0,v=void 0,f=void 0,x=void 0,h=void 0,n=void 0,l=void 0,p=void 0,u=void 0;b===a?(a[12]=b[0]*c+b[4]*e+b[8]*g+b[12],a[13]=b[1]*c+b[5]*e+b[9]*g+b[13],a[14]=b[2]*c+b[6]*e+b[10]*g+b[14],a[15]=b[3]*c+b[7]*e+b[11]*g+b[15]):(k=b[0],m=b[1],q=b[2],t=b[3],v=b[4],f=b[5],x=b[6],h=b[7],n=b[8],l=b[9],p=b[10],u=b[11],a[0]=k,a[1]=m,a[2]=
q,a[3]=t,a[4]=v,a[5]=f,a[6]=x,a[7]=h,a[8]=n,a[9]=l,a[10]=p,a[11]=u,a[12]=k*c+v*e+n*g+b[12],a[13]=m*c+f*e+l*g+b[13],a[14]=q*c+x*e+p*g+b[14],a[15]=t*c+h*e+u*g+b[15]);return a};b.scale=function(a,b,g){var c=g[0],e=g[1];g=g[2];a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;a[3]=b[3]*c;a[4]=b[4]*e;a[5]=b[5]*e;a[6]=b[6]*e;a[7]=b[7]*e;a[8]=b[8]*g;a[9]=b[9]*g;a[10]=b[10]*g;a[11]=b[11]*g;a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a};b.rotate=function(a,b,g,c){var e=c[0],k=c[1];c=c[2];var m=Math.sqrt(e*e+
k*k+c*c),q=void 0,t=void 0,v=void 0,f=void 0,x=void 0,h=void 0,n=void 0,l=void 0,u=void 0,r=void 0,z=void 0,A=void 0,B=void 0,G=void 0,C=void 0,J=void 0,M=void 0,O=void 0,K=void 0,F=void 0,N=void 0,T=void 0,t=q=void 0;if(m<p.EPSILON)return null;m=1/m;e*=m;k*=m;c*=m;q=Math.sin(g);t=Math.cos(g);v=1-t;f=b[0];x=b[1];h=b[2];n=b[3];l=b[4];u=b[5];r=b[6];z=b[7];A=b[8];B=b[9];G=b[10];C=b[11];J=e*e*v+t;M=k*e*v+c*q;O=c*e*v-k*q;K=e*k*v-c*q;F=k*k*v+t;N=c*k*v+e*q;T=e*c*v+k*q;q=k*c*v-e*q;t=c*c*v+t;a[0]=f*J+l*M+
A*O;a[1]=x*J+u*M+B*O;a[2]=h*J+r*M+G*O;a[3]=n*J+z*M+C*O;a[4]=f*K+l*F+A*N;a[5]=x*K+u*F+B*N;a[6]=h*K+r*F+G*N;a[7]=n*K+z*F+C*N;a[8]=f*T+l*q+A*t;a[9]=x*T+u*q+B*t;a[10]=h*T+r*q+G*t;a[11]=n*T+z*q+C*t;b!==a&&(a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);return a};b.rotateX=function(a,b,g){var c=Math.sin(g);g=Math.cos(g);var e=b[4],k=b[5],m=b[6],q=b[7],t=b[8],v=b[9],f=b[10],x=b[11];b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[4]=e*g+t*c;a[5]=k*g+v*
c;a[6]=m*g+f*c;a[7]=q*g+x*c;a[8]=t*g-e*c;a[9]=v*g-k*c;a[10]=f*g-m*c;a[11]=x*g-q*c;return a};b.rotateY=function(a,b,g){var c=Math.sin(g);g=Math.cos(g);var e=b[0],k=b[1],m=b[2],q=b[3],t=b[8],v=b[9],f=b[10],x=b[11];b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=e*g-t*c;a[1]=k*g-v*c;a[2]=m*g-f*c;a[3]=q*g-x*c;a[8]=e*c+t*g;a[9]=k*c+v*g;a[10]=m*c+f*g;a[11]=q*c+x*g;return a};b.rotateZ=function(a,b,g){var c=Math.sin(g);g=Math.cos(g);var e=b[0],k=b[1],
m=b[2],q=b[3],t=b[4],v=b[5],f=b[6],x=b[7];b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=e*g+t*c;a[1]=k*g+v*c;a[2]=m*g+f*c;a[3]=q*g+x*c;a[4]=t*g-e*c;a[5]=v*g-k*c;a[6]=f*g-m*c;a[7]=x*g-q*c;return a};b.fromTranslation=function(a,b){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=b[0];a[13]=b[1];a[14]=b[2];a[15]=1;return a};b.fromScaling=function(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b[1];
a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=b[2];a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};b.fromRotation=function(a,b,g){var c=g[0],e=g[1];g=g[2];var k=Math.sqrt(c*c+e*e+g*g),m=void 0,q=void 0,t=void 0;if(k<p.EPSILON)return null;k=1/k;c*=k;e*=k;g*=k;m=Math.sin(b);q=Math.cos(b);t=1-q;a[0]=c*c*t+q;a[1]=e*c*t+g*m;a[2]=g*c*t-e*m;a[3]=0;a[4]=c*e*t-g*m;a[5]=e*e*t+q;a[6]=g*e*t+c*m;a[7]=0;a[8]=c*g*t+e*m;a[9]=e*g*t-c*m;a[10]=g*g*t+q;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};b.fromXRotation=function(a,
b){var e=Math.sin(b);b=Math.cos(b);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=e;a[7]=0;a[8]=0;a[9]=-e;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};b.fromYRotation=function(a,b){var e=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=0;a[2]=-e;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=e;a[9]=0;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};b.fromZRotation=function(a,b){var e=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=e;a[2]=0;a[3]=0;a[4]=-e;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=
0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};b.fromRotationTranslation=n;b.fromQuat2=function(a,b){var e=u,c=-b[0],d=-b[1],k=-b[2],m=b[3],q=b[4],t=b[5],v=b[6],f=b[7],x=c*c+d*d+k*k+m*m;0<x?(e[0]=2*(q*m+f*c+t*k-v*d)/x,e[1]=2*(t*m+f*d+v*c-q*k)/x,e[2]=2*(v*m+f*k+q*d-t*c)/x):(e[0]=2*(q*m+f*c+t*k-v*d),e[1]=2*(t*m+f*d+v*c-q*k),e[2]=2*(v*m+f*k+q*d-t*c));n(a,b,e);return a};var u=l.create();b.getTranslation=function(a,b){a[0]=b[12];a[1]=b[13];a[2]=b[14];return a};b.getScaling=function(a,b){var e=b[0],c=b[1],
d=b[2],k=b[4],m=b[5],q=b[6],t=b[8],v=b[9];b=b[10];a[0]=Math.sqrt(e*e+c*c+d*d);a[1]=Math.sqrt(k*k+m*m+q*q);a[2]=Math.sqrt(t*t+v*v+b*b);return a};b.getRotation=function(a,b){var e=b[0]+b[5]+b[10],c=0;0<e?(c=2*Math.sqrt(e+1),a[3]=.25*c,a[0]=(b[6]-b[9])/c,a[1]=(b[8]-b[2])/c,a[2]=(b[1]-b[4])/c):b[0]>b[5]&&b[0]>b[10]?(c=2*Math.sqrt(1+b[0]-b[5]-b[10]),a[3]=(b[6]-b[9])/c,a[0]=.25*c,a[1]=(b[1]+b[4])/c,a[2]=(b[8]+b[2])/c):b[5]>b[10]?(c=2*Math.sqrt(1+b[5]-b[0]-b[10]),a[3]=(b[8]-b[2])/c,a[0]=(b[1]+b[4])/c,a[1]=
.25*c,a[2]=(b[6]+b[9])/c):(c=2*Math.sqrt(1+b[10]-b[0]-b[5]),a[3]=(b[1]-b[4])/c,a[0]=(b[8]+b[2])/c,a[1]=(b[6]+b[9])/c,a[2]=.25*c);return a};b.fromRotationTranslationScale=function(a,b,g,c){var d=b[0],e=b[1],m=b[2],q=b[3],t=d+d,v=e+e,f=m+m;b=d*t;var x=d*v,d=d*f,h=e*v,e=e*f,m=m*f,t=q*t,v=q*v,q=q*f,f=c[0],n=c[1];c=c[2];a[0]=(1-(h+m))*f;a[1]=(x+q)*f;a[2]=(d-v)*f;a[3]=0;a[4]=(x-q)*n;a[5]=(1-(b+m))*n;a[6]=(e+t)*n;a[7]=0;a[8]=(d+v)*c;a[9]=(e-t)*c;a[10]=(1-(b+h))*c;a[11]=0;a[12]=g[0];a[13]=g[1];a[14]=g[2];
a[15]=1;return a};b.fromRotationTranslationScaleOrigin=function(a,b,g,c,d){var e=b[0],m=b[1],q=b[2],t=b[3],v=e+e,f=m+m,x=q+q;b=e*v;var h=e*f,n=e*x,e=m*f,m=m*x,l=q*x,q=t*v,f=t*f,p=t*x,u=c[0],r=c[1],x=c[2];c=d[0];t=d[1];d=d[2];var v=(1-(e+l))*u,A=(h+p)*u,u=(n-f)*u,h=(h-p)*r,l=(1-(b+l))*r,r=(m+q)*r,n=(n+f)*x,m=(m-q)*x;b=(1-(b+e))*x;a[0]=v;a[1]=A;a[2]=u;a[3]=0;a[4]=h;a[5]=l;a[6]=r;a[7]=0;a[8]=n;a[9]=m;a[10]=b;a[11]=0;a[12]=g[0]+c-(v*c+h*t+n*d);a[13]=g[1]+t-(A*c+l*t+m*d);a[14]=g[2]+d-(u*c+r*t+b*d);a[15]=
1;return a};b.fromQuat=function(a,b){var e=b[0],c=b[1],d=b[2];b=b[3];var k=e+e,m=c+c,q=d+d,e=e*k,t=c*k,c=c*m,v=d*k,f=d*m,d=d*q,k=b*k,m=b*m;b*=q;a[0]=1-c-d;a[1]=t+b;a[2]=v-m;a[3]=0;a[4]=t-b;a[5]=1-e-d;a[6]=f+k;a[7]=0;a[8]=v+m;a[9]=f-k;a[10]=1-e-c;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};b.frustum=function(a,b,g,c,d,k,w){var e=1/(g-b),t=1/(d-c),v=1/(k-w);a[0]=2*k*e;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*k*t;a[6]=0;a[7]=0;a[8]=(g+b)*e;a[9]=(d+c)*t;a[10]=(w+k)*v;a[11]=-1;a[12]=0;a[13]=0;a[14]=w*
k*2*v;a[15]=0;return a};b.perspective=function(a,b,g,c,d){b=1/Math.tan(b/2);var e=void 0;a[0]=b/g;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[11]=-1;a[12]=0;a[13]=0;a[15]=0;null!=d&&Infinity!==d?(e=1/(c-d),a[10]=(d+c)*e,a[14]=2*d*c*e):(a[10]=-1,a[14]=-2*c);return a};b.perspectiveFromFieldOfView=function(a,b,g,c){var d=Math.tan(b.upDegrees*Math.PI/180),e=Math.tan(b.downDegrees*Math.PI/180),w=Math.tan(b.leftDegrees*Math.PI/180);b=Math.tan(b.rightDegrees*Math.PI/180);var q=2/(w+
b),t=2/(d+e);a[0]=q;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=t;a[6]=0;a[7]=0;a[8]=-((w-b)*q*.5);a[9]=(d-e)*t*.5;a[10]=c/(g-c);a[11]=-1;a[12]=0;a[13]=0;a[14]=c*g/(g-c);a[15]=0;return a};b.ortho=function(a,b,g,c,d,k,w){var e=1/(b-g),t=1/(c-d),v=1/(k-w);a[0]=-2*e;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*t;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*v;a[11]=0;a[12]=(b+g)*e;a[13]=(d+c)*t;a[14]=(w+k)*v;a[15]=1;return a};b.lookAt=function(a,b,g,c){var d=void 0,e=void 0,w=void 0,q=void 0,t=void 0,v=void 0,m=void 0,f=void 0,h=
void 0,n=void 0,l=b[0],u=b[1];b=b[2];w=c[0];q=c[1];c=c[2];m=g[0];f=g[1];g=g[2];if(Math.abs(l-m)<p.EPSILON&&Math.abs(u-f)<p.EPSILON&&Math.abs(b-g)<p.EPSILON)return r(a);m=l-m;f=u-f;h=b-g;n=1/Math.sqrt(m*m+f*f+h*h);m*=n;f*=n;h*=n;d=q*h-c*f;e=c*m-w*h;w=w*f-q*m;(n=Math.sqrt(d*d+e*e+w*w))?(n=1/n,d*=n,e*=n,w*=n):w=e=d=0;q=f*w-h*e;t=h*d-m*w;v=m*e-f*d;(n=Math.sqrt(q*q+t*t+v*v))?(n=1/n,q*=n,t*=n,v*=n):v=t=q=0;a[0]=d;a[1]=q;a[2]=m;a[3]=0;a[4]=e;a[5]=t;a[6]=f;a[7]=0;a[8]=w;a[9]=v;a[10]=h;a[11]=0;a[12]=-(d*l+
e*u+w*b);a[13]=-(q*l+t*u+v*b);a[14]=-(m*l+f*u+h*b);a[15]=1;return a};b.targetTo=function(a,b,g,c){var d=b[0],e=b[1];b=b[2];var w=c[0],q=c[1],t=c[2];c=d-g[0];var v=e-g[1];g=b-g[2];var m=c*c+v*v+g*g;0<m&&(m=1/Math.sqrt(m),c*=m,v*=m,g*=m);var f=q*g-t*v,t=t*c-w*g,w=w*v-q*c,m=f*f+t*t+w*w;0<m&&(m=1/Math.sqrt(m),f*=m,t*=m,w*=m);a[0]=f;a[1]=t;a[2]=w;a[3]=0;a[4]=v*w-g*t;a[5]=g*f-c*w;a[6]=c*t-v*f;a[7]=0;a[8]=c;a[9]=v;a[10]=g;a[11]=0;a[12]=d;a[13]=e;a[14]=b;a[15]=1;return a};b.str=function(a){return"mat4("+
a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"};b.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2)+Math.pow(a[9],2)+Math.pow(a[10],2)+Math.pow(a[11],2)+Math.pow(a[12],2)+Math.pow(a[13],2)+Math.pow(a[14],2)+Math.pow(a[15],2))};b.add=function(a,b,
g){a[0]=b[0]+g[0];a[1]=b[1]+g[1];a[2]=b[2]+g[2];a[3]=b[3]+g[3];a[4]=b[4]+g[4];a[5]=b[5]+g[5];a[6]=b[6]+g[6];a[7]=b[7]+g[7];a[8]=b[8]+g[8];a[9]=b[9]+g[9];a[10]=b[10]+g[10];a[11]=b[11]+g[11];a[12]=b[12]+g[12];a[13]=b[13]+g[13];a[14]=b[14]+g[14];a[15]=b[15]+g[15];return a};b.subtract=f;b.multiplyScalar=function(a,b,g){a[0]=b[0]*g;a[1]=b[1]*g;a[2]=b[2]*g;a[3]=b[3]*g;a[4]=b[4]*g;a[5]=b[5]*g;a[6]=b[6]*g;a[7]=b[7]*g;a[8]=b[8]*g;a[9]=b[9]*g;a[10]=b[10]*g;a[11]=b[11]*g;a[12]=b[12]*g;a[13]=b[13]*g;a[14]=b[14]*
g;a[15]=b[15]*g;return a};b.multiplyScalarAndAdd=function(a,b,g,c){a[0]=b[0]+g[0]*c;a[1]=b[1]+g[1]*c;a[2]=b[2]+g[2]*c;a[3]=b[3]+g[3]*c;a[4]=b[4]+g[4]*c;a[5]=b[5]+g[5]*c;a[6]=b[6]+g[6]*c;a[7]=b[7]+g[7]*c;a[8]=b[8]+g[8]*c;a[9]=b[9]+g[9]*c;a[10]=b[10]+g[10]*c;a[11]=b[11]+g[11]*c;a[12]=b[12]+g[12]*c;a[13]=b[13]+g[13]*c;a[14]=b[14]+g[14]*c;a[15]=b[15]+g[15]*c;return a};b.exactEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&
a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]};b.equals=function(a,b){var e=a[0],c=a[1],d=a[2],k=a[3],w=a[4],q=a[5],t=a[6],v=a[7],f=a[8],m=a[9],h=a[10],n=a[11],l=a[12],u=a[13],r=a[14];a=a[15];var z=b[0],A=b[1],B=b[2],G=b[3],C=b[4],J=b[5],M=b[6],O=b[7],K=b[8],F=b[9],N=b[10],T=b[11],P=b[12],R=b[13],V=b[14];b=b[15];return Math.abs(e-z)<=p.EPSILON*Math.max(1,Math.abs(e),Math.abs(z))&&Math.abs(c-A)<=p.EPSILON*Math.max(1,Math.abs(c),Math.abs(A))&&
Math.abs(d-B)<=p.EPSILON*Math.max(1,Math.abs(d),Math.abs(B))&&Math.abs(k-G)<=p.EPSILON*Math.max(1,Math.abs(k),Math.abs(G))&&Math.abs(w-C)<=p.EPSILON*Math.max(1,Math.abs(w),Math.abs(C))&&Math.abs(q-J)<=p.EPSILON*Math.max(1,Math.abs(q),Math.abs(J))&&Math.abs(t-M)<=p.EPSILON*Math.max(1,Math.abs(t),Math.abs(M))&&Math.abs(v-O)<=p.EPSILON*Math.max(1,Math.abs(v),Math.abs(O))&&Math.abs(f-K)<=p.EPSILON*Math.max(1,Math.abs(f),Math.abs(K))&&Math.abs(m-F)<=p.EPSILON*Math.max(1,Math.abs(m),Math.abs(F))&&Math.abs(h-
N)<=p.EPSILON*Math.max(1,Math.abs(h),Math.abs(N))&&Math.abs(n-T)<=p.EPSILON*Math.max(1,Math.abs(n),Math.abs(T))&&Math.abs(l-P)<=p.EPSILON*Math.max(1,Math.abs(l),Math.abs(P))&&Math.abs(u-R)<=p.EPSILON*Math.max(1,Math.abs(u),Math.abs(R))&&Math.abs(r-V)<=p.EPSILON*Math.max(1,Math.abs(r),Math.abs(V))&&Math.abs(a-b)<=p.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))};b.mul=h;b.sub=f})},"esri/core/libs/gl-matrix-2/math/quat":function(){define("require exports ../factories/mat3f64 ../factories/quatf64 ../factories/vec3f64 ./common ./vec3 ./vec4".split(" "),
function(a,b,l,p,r,h,n,f){function u(a,b,c){c*=.5;var d=Math.sin(c);a[0]=d*b[0];a[1]=d*b[1];a[2]=d*b[2];a[3]=Math.cos(c);return a}function m(a,b,c){var d=b[0],e=b[1],k=b[2];b=b[3];var q=c[0],g=c[1],t=c[2];c=c[3];a[0]=d*c+b*q+e*t-k*g;a[1]=e*c+b*g+k*q-d*t;a[2]=k*c+b*t+d*g-e*q;a[3]=b*c-d*q-e*g-k*t;return a}function e(a,b,c,d){var e=b[0],k=b[1],q=b[2];b=b[3];var g=c[0],t=c[1],v=c[2];c=c[3];var w,f,m;f=e*g+k*t+q*v+b*c;0>f&&(f=-f,g=-g,t=-t,v=-v,c=-c);1-f>h.EPSILON?(w=Math.acos(f),m=Math.sin(w),f=Math.sin((1-
d)*w)/m,d=Math.sin(d*w)/m):f=1-d;a[0]=f*e+d*g;a[1]=f*k+d*t;a[2]=f*q+d*v;a[3]=f*b+d*c;return a}function g(a,b){var c=b[0]+b[4]+b[8];if(0<c)c=Math.sqrt(c+1),a[3]=.5*c,c=.5/c,a[0]=(b[5]-b[7])*c,a[1]=(b[6]-b[2])*c,a[2]=(b[1]-b[3])*c;else{var d=0;b[4]>b[0]&&(d=1);b[8]>b[3*d+d]&&(d=2);var e=(d+1)%3,k=(d+2)%3,c=Math.sqrt(b[3*d+d]-b[3*e+e]-b[3*k+k]+1);a[d]=.5*c;c=.5/c;a[3]=(b[3*e+k]-b[3*k+e])*c;a[e]=(b[3*e+d]+b[3*d+e])*c;a[k]=(b[3*k+d]+b[3*d+k])*c}return a}Object.defineProperty(b,"__esModule",{value:!0});
b.identity=function(a){a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a};b.setAxisAngle=u;b.getAxisAngle=function(a,b){var c=2*Math.acos(b[3]),d=Math.sin(c/2);d>h.EPSILON?(a[0]=b[0]/d,a[1]=b[1]/d,a[2]=b[2]/d):(a[0]=1,a[1]=0,a[2]=0);return c};b.multiply=m;b.rotateX=function(a,b,c){c*=.5;var d=b[0],e=b[1],k=b[2];b=b[3];var q=Math.sin(c);c=Math.cos(c);a[0]=d*c+b*q;a[1]=e*c+k*q;a[2]=k*c-e*q;a[3]=b*c-d*q;return a};b.rotateY=function(a,b,c){c*=.5;var d=b[0],e=b[1],k=b[2];b=b[3];var q=Math.sin(c);c=Math.cos(c);a[0]=
d*c-k*q;a[1]=e*c+b*q;a[2]=k*c+d*q;a[3]=b*c-e*q;return a};b.rotateZ=function(a,b,c){c*=.5;var d=b[0],e=b[1],k=b[2];b=b[3];var q=Math.sin(c);c=Math.cos(c);a[0]=d*c+e*q;a[1]=e*c-d*q;a[2]=k*c+b*q;a[3]=b*c-k*q;return a};b.calculateW=function(a,b){var c=b[0],d=b[1];b=b[2];a[0]=c;a[1]=d;a[2]=b;a[3]=Math.sqrt(Math.abs(1-c*c-d*d-b*b));return a};b.slerp=e;b.random=function(a){var b=h.RANDOM(),c=h.RANDOM(),d=h.RANDOM(),e=Math.sqrt(1-b),b=Math.sqrt(b);a[0]=e*Math.sin(2*Math.PI*c);a[1]=e*Math.cos(2*Math.PI*c);
a[2]=b*Math.sin(2*Math.PI*d);a[3]=b*Math.cos(2*Math.PI*d);return a};b.invert=function(a,b){var c=b[0],d=b[1],e=b[2];b=b[3];var k=c*c+d*d+e*e+b*b,k=k?1/k:0;a[0]=-c*k;a[1]=-d*k;a[2]=-e*k;a[3]=b*k;return a};b.conjugate=function(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];a[3]=b[3];return a};b.fromMat3=g;b.fromEuler=function(a,b,c,d){var e=.5*Math.PI/180;b*=e;c*=e;d*=e;e=Math.sin(b);b=Math.cos(b);var k=Math.sin(c);c=Math.cos(c);var q=Math.sin(d);d=Math.cos(d);a[0]=e*c*d-b*k*q;a[1]=b*k*d+e*c*q;a[2]=b*c*q-e*
k*d;a[3]=b*c*d+e*k*q;return a};b.str=function(a){return"quat("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};b.copy=f.copy;b.set=f.set;b.add=f.add;b.mul=m;b.scale=f.scale;b.dot=f.dot;b.lerp=f.lerp;b.length=f.length;b.len=b.length;b.squaredLength=f.squaredLength;b.sqrLen=b.squaredLength;b.normalize=f.normalize;b.exactEquals=f.exactEquals;b.equals=f.equals;b.rotationTo=function(a,e,q){var g=n.dot(e,q);if(-.999999>g)return n.cross(c,d,e),1E-6>n.len(c)&&n.cross(c,k,e),n.normalize(c,c),u(a,c,Math.PI),a;if(.999999<
g)return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a;n.cross(c,e,q);a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=1+g;return b.normalize(a,a)};var c=r.create(),d=r.fromValues(1,0,0),k=r.fromValues(0,1,0);b.sqlerp=function(a,b,c,d,k,g){e(w,b,k,g);e(q,c,d,g);e(a,w,q,2*g*(1-g));return a};var w=p.create(),q=p.create();b.setAxes=function(a,c,d,e){var k=t;k[0]=d[0];k[3]=d[1];k[6]=d[2];k[1]=e[0];k[4]=e[1];k[7]=e[2];k[2]=-c[0];k[5]=-c[1];k[8]=-c[2];return b.normalize(a,g(a,k))};var t=l.create()})},"esri/core/libs/gl-matrix-2/math/vec3":function(){define(["require",
"exports","../factories/vec3f64","./common"],function(a,b,l,p){function r(a){var b=a[0],c=a[1];a=a[2];return Math.sqrt(b*b+c*c+a*a)}function h(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];return a}function n(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2];return a}function f(a,b,c){a[0]=b[0]*c[0];a[1]=b[1]*c[1];a[2]=b[2]*c[2];return a}function u(a,b,c){a[0]=b[0]/c[0];a[1]=b[1]/c[1];a[2]=b[2]/c[2];return a}function m(a,b){var c=b[0]-a[0],d=b[1]-a[1];a=b[2]-a[2];return Math.sqrt(c*c+d*d+a*a)}function e(a,
b){var c=b[0]-a[0],d=b[1]-a[1];a=b[2]-a[2];return c*c+d*d+a*a}function g(a){var b=a[0],c=a[1];a=a[2];return b*b+c*c+a*a}function c(a,b){var c=b[0],d=b[1],e=b[2],c=c*c+d*d+e*e;0<c&&(c=1/Math.sqrt(c),a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c);return a}function d(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}Object.defineProperty(b,"__esModule",{value:!0});b.length=r;b.copy=h;b.set=function(a,b,c,d){a[0]=b;a[1]=c;a[2]=d;return a};b.add=function(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2];return a};b.subtract=
n;b.multiply=f;b.divide=u;b.ceil=function(a,b){a[0]=Math.ceil(b[0]);a[1]=Math.ceil(b[1]);a[2]=Math.ceil(b[2]);return a};b.floor=function(a,b){a[0]=Math.floor(b[0]);a[1]=Math.floor(b[1]);a[2]=Math.floor(b[2]);return a};b.min=function(a,b,c){a[0]=Math.min(b[0],c[0]);a[1]=Math.min(b[1],c[1]);a[2]=Math.min(b[2],c[2]);return a};b.max=function(a,b,c){a[0]=Math.max(b[0],c[0]);a[1]=Math.max(b[1],c[1]);a[2]=Math.max(b[2],c[2]);return a};b.round=function(a,b){a[0]=Math.round(b[0]);a[1]=Math.round(b[1]);a[2]=
Math.round(b[2]);return a};b.scale=function(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;return a};b.scaleAndAdd=function(a,b,c,d){a[0]=b[0]+c[0]*d;a[1]=b[1]+c[1]*d;a[2]=b[2]+c[2]*d;return a};b.distance=m;b.squaredDistance=e;b.squaredLength=g;b.negate=function(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];return a};b.inverse=function(a,b){a[0]=1/b[0];a[1]=1/b[1];a[2]=1/b[2];return a};b.normalize=c;b.dot=d;b.cross=function(a,b,c){var d=b[0],e=b[1];b=b[2];var k=c[0],g=c[1];c=c[2];a[0]=e*c-b*g;a[1]=b*k-d*c;a[2]=
d*g-e*k;return a};b.lerp=function(a,b,c,d){var e=b[0],k=b[1];b=b[2];a[0]=e+d*(c[0]-e);a[1]=k+d*(c[1]-k);a[2]=b+d*(c[2]-b);return a};b.hermite=function(a,b,c,d,e,k){var g=k*k,q=g*(2*k-3)+1,t=g*(k-2)+k,w=g*(k-1);k=g*(3-2*k);a[0]=b[0]*q+c[0]*t+d[0]*w+e[0]*k;a[1]=b[1]*q+c[1]*t+d[1]*w+e[1]*k;a[2]=b[2]*q+c[2]*t+d[2]*w+e[2]*k;return a};b.bezier=function(a,b,c,d,e,k){var g=1-k,q=g*g,t=k*k,w=q*g,q=3*k*q,g=3*t*g;k*=t;a[0]=b[0]*w+c[0]*q+d[0]*g+e[0]*k;a[1]=b[1]*w+c[1]*q+d[1]*g+e[1]*k;a[2]=b[2]*w+c[2]*q+d[2]*
g+e[2]*k;return a};b.random=function(a,b){b=b||1;var c=2*p.RANDOM()*Math.PI,d=2*p.RANDOM()-1,e=Math.sqrt(1-d*d)*b;a[0]=Math.cos(c)*e;a[1]=Math.sin(c)*e;a[2]=d*b;return a};b.transformMat4=function(a,b,c){var d=b[0],e=b[1];b=b[2];a[0]=c[0]*d+c[4]*e+c[8]*b+c[12];a[1]=c[1]*d+c[5]*e+c[9]*b+c[13];a[2]=c[2]*d+c[6]*e+c[10]*b+c[14];return a};b.transformMat3=function(a,b,c){var d=b[0],e=b[1];b=b[2];a[0]=d*c[0]+e*c[3]+b*c[6];a[1]=d*c[1]+e*c[4]+b*c[7];a[2]=d*c[2]+e*c[5]+b*c[8];return a};b.transformQuat=function(a,
b,c){var d=c[0],e=c[1],k=c[2],g=b[0],q=b[1];b=b[2];var t=e*b-k*q,w=k*g-d*b,f=d*q-e*g;c=2*c[3];a[0]=g+t*c+2*(e*f-k*w);a[1]=q+w*c+2*(k*t-d*f);a[2]=b+f*c+2*(d*w-e*t);return a};b.rotateX=function(a,b,c,d){var e=[],k=[];e[0]=b[0]-c[0];e[1]=b[1]-c[1];e[2]=b[2]-c[2];k[0]=e[0];k[1]=e[1]*Math.cos(d)-e[2]*Math.sin(d);k[2]=e[1]*Math.sin(d)+e[2]*Math.cos(d);a[0]=k[0]+c[0];a[1]=k[1]+c[1];a[2]=k[2]+c[2];return a};b.rotateY=function(a,b,c,d){var e=[],k=[];e[0]=b[0]-c[0];e[1]=b[1]-c[1];e[2]=b[2]-c[2];k[0]=e[2]*Math.sin(d)+
e[0]*Math.cos(d);k[1]=e[1];k[2]=e[2]*Math.cos(d)-e[0]*Math.sin(d);a[0]=k[0]+c[0];a[1]=k[1]+c[1];a[2]=k[2]+c[2];return a};b.rotateZ=function(a,b,c,d){var e=[],k=[];e[0]=b[0]-c[0];e[1]=b[1]-c[1];e[2]=b[2]-c[2];k[0]=e[0]*Math.cos(d)-e[1]*Math.sin(d);k[1]=e[0]*Math.sin(d)+e[1]*Math.cos(d);k[2]=e[2];a[0]=k[0]+c[0];a[1]=k[1]+c[1];a[2]=k[2]+c[2];return a};b.angle=function(a,b){h(k,a);h(w,b);c(k,k);c(w,w);a=d(k,w);return 1<a?0:-1>a?Math.PI:Math.acos(a)};var k=l.create(),w=l.create();b.str=function(a){return"vec3("+
a[0]+", "+a[1]+", "+a[2]+")"};b.exactEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]};b.equals=function(a,b){var c=a[0],d=a[1];a=a[2];var e=b[0],k=b[1];b=b[2];return Math.abs(c-e)<=p.EPSILON*Math.max(1,Math.abs(c),Math.abs(e))&&Math.abs(d-k)<=p.EPSILON*Math.max(1,Math.abs(d),Math.abs(k))&&Math.abs(a-b)<=p.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))};b.sub=n;b.mul=f;b.div=u;b.dist=m;b.sqrDist=e;b.len=r;b.sqrLen=g})},"esri/core/libs/gl-matrix-2/math/vec4":function(){define(["require",
"exports","./common"],function(a,b,l){function p(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2];a[3]=b[3]-c[3];return a}function r(a,b,c){a[0]=b[0]*c[0];a[1]=b[1]*c[1];a[2]=b[2]*c[2];a[3]=b[3]*c[3];return a}function h(a,b,c){a[0]=b[0]/c[0];a[1]=b[1]/c[1];a[2]=b[2]/c[2];a[3]=b[3]/c[3];return a}function n(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2];a=b[3]-a[3];return Math.sqrt(c*c+d*d+e*e+a*a)}function f(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2];a=b[3]-a[3];return c*c+d*d+e*e+a*a}function u(a){var b=
a[0],c=a[1],d=a[2];a=a[3];return Math.sqrt(b*b+c*c+d*d+a*a)}function m(a){var b=a[0],c=a[1],d=a[2];a=a[3];return b*b+c*c+d*d+a*a}Object.defineProperty(b,"__esModule",{value:!0});b.copy=function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];return a};b.set=function(a,b,c,d,k){a[0]=b;a[1]=c;a[2]=d;a[3]=k;return a};b.add=function(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2];a[3]=b[3]+c[3];return a};b.subtract=p;b.multiply=r;b.divide=h;b.ceil=function(a,b){a[0]=Math.ceil(b[0]);a[1]=Math.ceil(b[1]);
a[2]=Math.ceil(b[2]);a[3]=Math.ceil(b[3]);return a};b.floor=function(a,b){a[0]=Math.floor(b[0]);a[1]=Math.floor(b[1]);a[2]=Math.floor(b[2]);a[3]=Math.floor(b[3]);return a};b.min=function(a,b,c){a[0]=Math.min(b[0],c[0]);a[1]=Math.min(b[1],c[1]);a[2]=Math.min(b[2],c[2]);a[3]=Math.min(b[3],c[3]);return a};b.max=function(a,b,c){a[0]=Math.max(b[0],c[0]);a[1]=Math.max(b[1],c[1]);a[2]=Math.max(b[2],c[2]);a[3]=Math.max(b[3],c[3]);return a};b.round=function(a,b){a[0]=Math.round(b[0]);a[1]=Math.round(b[1]);
a[2]=Math.round(b[2]);a[3]=Math.round(b[3]);return a};b.scale=function(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;a[3]=b[3]*c;return a};b.scaleAndAdd=function(a,b,c,d){a[0]=b[0]+c[0]*d;a[1]=b[1]+c[1]*d;a[2]=b[2]+c[2]*d;a[3]=b[3]+c[3]*d;return a};b.distance=n;b.squaredDistance=f;b.length=u;b.squaredLength=m;b.negate=function(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];a[3]=-b[3];return a};b.inverse=function(a,b){a[0]=1/b[0];a[1]=1/b[1];a[2]=1/b[2];a[3]=1/b[3];return a};b.normalize=function(a,b){var c=b[0],
d=b[1],k=b[2];b=b[3];var e=c*c+d*d+k*k+b*b;0<e&&(e=1/Math.sqrt(e),a[0]=c*e,a[1]=d*e,a[2]=k*e,a[3]=b*e);return a};b.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]};b.lerp=function(a,b,c,d){var k=b[0],e=b[1],g=b[2];b=b[3];a[0]=k+d*(c[0]-k);a[1]=e+d*(c[1]-e);a[2]=g+d*(c[2]-g);a[3]=b+d*(c[3]-b);return a};b.random=function(a,b){b=b||1;var c,d,k,e,g,t;do c=2*l.RANDOM()-1,d=2*l.RANDOM()-1,g=c*c+d*d;while(1<=g);do k=2*l.RANDOM()-1,e=2*l.RANDOM()-1,t=k*k+e*e;while(1<=t);g=Math.sqrt((1-g)/
t);a[0]=b*c;a[1]=b*d;a[2]=b*k*g;a[3]=b*e*g;return a};b.transformMat4=function(a,b,c){var d=b[0],k=b[1],e=b[2];b=b[3];a[0]=c[0]*d+c[4]*k+c[8]*e+c[12]*b;a[1]=c[1]*d+c[5]*k+c[9]*e+c[13]*b;a[2]=c[2]*d+c[6]*k+c[10]*e+c[14]*b;a[3]=c[3]*d+c[7]*k+c[11]*e+c[15]*b;return a};b.transformQuat=function(a,b,c){var d=b[0],k=b[1],e=b[2],g=c[0],t=c[1],f=c[2];c=c[3];var m=c*d+t*e-f*k,h=c*k+f*d-g*e,n=c*e+g*k-t*d,d=-g*d-t*k-f*e;a[0]=m*c+d*-g+h*-f-n*-t;a[1]=h*c+d*-t+n*-g-m*-f;a[2]=n*c+d*-f+m*-t-h*-g;a[3]=b[3];return a};
b.str=function(a){return"vec4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};b.exactEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]};b.equals=function(a,b){var c=a[0],d=a[1],k=a[2];a=a[3];var e=b[0],g=b[1],t=b[2];b=b[3];return Math.abs(c-e)<=l.EPSILON*Math.max(1,Math.abs(c),Math.abs(e))&&Math.abs(d-g)<=l.EPSILON*Math.max(1,Math.abs(d),Math.abs(g))&&Math.abs(k-t)<=l.EPSILON*Math.max(1,Math.abs(k),Math.abs(t))&&Math.abs(a-b)<=l.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))};
b.sub=p;b.mul=r;b.div=h;b.dist=n;b.sqrDist=f;b.len=u;b.sqrLen=m})},"esri/core/libs/gl-matrix-2/math/quat2":function(){define("require exports ../factories/quatf64 ../factories/vec3f64 ./common ./mat4 ./quat".split(" "),function(a,b,l,p,r,h,n){function f(a,b,k){var c=.5*k[0],d=.5*k[1];k=.5*k[2];var e=b[0],g=b[1],f=b[2];b=b[3];a[0]=e;a[1]=g;a[2]=f;a[3]=b;a[4]=c*b+d*f-k*g;a[5]=d*b+k*e-c*f;a[6]=k*b+c*g-d*e;a[7]=-c*e-d*g-k*f;return a}function u(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=
b[5];a[6]=b[6];a[7]=b[7];return a}function m(a,b,k){var c=b[0],d=b[1],e=b[2],g=b[3],f=k[4],m=k[5],h=k[6],n=k[7],l=b[4],u=b[5],p=b[6];b=b[7];var r=k[0],A=k[1],B=k[2];k=k[3];a[0]=c*k+g*r+d*B-e*A;a[1]=d*k+g*A+e*r-c*B;a[2]=e*k+g*B+c*A-d*r;a[3]=g*k-c*r-d*A-e*B;a[4]=c*n+g*f+d*h-e*m+l*k+b*r+u*B-p*A;a[5]=d*n+g*m+e*f-c*h+u*k+b*A+p*r-l*B;a[6]=e*n+g*h+c*m-d*f+p*k+b*B+l*A-u*r;a[7]=g*n-c*f-d*m-e*h+b*k-l*r-u*A-p*B;return a}Object.defineProperty(b,"__esModule",{value:!0});b.fromRotationTranslation=f;b.fromTranslation=
function(a,b){a[0]=0;a[1]=0;a[2]=0;a[3]=1;a[4]=.5*b[0];a[5]=.5*b[1];a[6]=.5*b[2];a[7]=0;return a};b.fromRotation=function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=0;a[5]=0;a[6]=0;a[7]=0;return a};b.fromMat4=function(a,b){var c=e;h.getRotation(c,b);var d=g;h.getTranslation(d,b);f(a,c,d);return a};var e=l.create(),g=p.create();b.copy=u;b.identity=function(a){a[0]=0;a[1]=0;a[2]=0;a[3]=1;a[4]=0;a[5]=0;a[6]=0;a[7]=0;return a};b.set=function(a,b,k,e,g,t,f,m,h){a[0]=b;a[1]=k;a[2]=e;a[3]=g;a[4]=
t;a[5]=f;a[6]=m;a[7]=h;return a};b.getReal=n.copy;b.getDual=function(a,b){a[0]=b[4];a[1]=b[5];a[2]=b[6];a[3]=b[7];return a};b.setReal=n.copy;b.setDual=function(a,b){a[4]=b[0];a[5]=b[1];a[6]=b[2];a[7]=b[3];return a};b.getTranslation=function(a,b){var c=b[4],d=b[5],e=b[6],g=b[7],f=-b[0],m=-b[1],h=-b[2];b=b[3];a[0]=2*(c*b+g*f+d*h-e*m);a[1]=2*(d*b+g*m+e*f-c*h);a[2]=2*(e*b+g*h+c*m-d*f);return a};b.translate=function(a,b,k){var c=b[0],d=b[1],e=b[2],g=b[3],f=.5*k[0],m=.5*k[1];k=.5*k[2];var h=b[4],n=b[5],
l=b[6];b=b[7];a[0]=c;a[1]=d;a[2]=e;a[3]=g;a[4]=g*f+d*k-e*m+h;a[5]=g*m+e*f-c*k+n;a[6]=g*k+c*m-d*f+l;a[7]=-c*f-d*m-e*k+b;return a};b.rotateX=function(a,b,k){var c=-b[0],d=-b[1],e=-b[2],g=b[3],f=b[4],m=b[5],h=b[6],l=b[7],u=f*g+l*c+m*e-h*d,p=m*g+l*d+h*c-f*e,r=h*g+l*e+f*d-m*c,f=l*g-f*c-m*d-h*e;n.rotateX(a,b,k);c=a[0];d=a[1];e=a[2];g=a[3];a[4]=u*g+f*c+p*e-r*d;a[5]=p*g+f*d+r*c-u*e;a[6]=r*g+f*e+u*d-p*c;a[7]=f*g-u*c-p*d-r*e;return a};b.rotateY=function(a,b,k){var c=-b[0],d=-b[1],e=-b[2],g=b[3],f=b[4],m=b[5],
h=b[6],l=b[7],u=f*g+l*c+m*e-h*d,p=m*g+l*d+h*c-f*e,r=h*g+l*e+f*d-m*c,f=l*g-f*c-m*d-h*e;n.rotateY(a,b,k);c=a[0];d=a[1];e=a[2];g=a[3];a[4]=u*g+f*c+p*e-r*d;a[5]=p*g+f*d+r*c-u*e;a[6]=r*g+f*e+u*d-p*c;a[7]=f*g-u*c-p*d-r*e;return a};b.rotateZ=function(a,b,k){var c=-b[0],d=-b[1],e=-b[2],g=b[3],f=b[4],m=b[5],h=b[6],l=b[7],u=f*g+l*c+m*e-h*d,p=m*g+l*d+h*c-f*e,r=h*g+l*e+f*d-m*c,f=l*g-f*c-m*d-h*e;n.rotateZ(a,b,k);c=a[0];d=a[1];e=a[2];g=a[3];a[4]=u*g+f*c+p*e-r*d;a[5]=p*g+f*d+r*c-u*e;a[6]=r*g+f*e+u*d-p*c;a[7]=f*
g-u*c-p*d-r*e;return a};b.rotateByQuatAppend=function(a,b,k){var c=k[0],d=k[1],e=k[2];k=k[3];var g=b[0],f=b[1],m=b[2],h=b[3];a[0]=g*k+h*c+f*e-m*d;a[1]=f*k+h*d+m*c-g*e;a[2]=m*k+h*e+g*d-f*c;a[3]=h*k-g*c-f*d-m*e;g=b[4];f=b[5];m=b[6];h=b[7];a[4]=g*k+h*c+f*e-m*d;a[5]=f*k+h*d+m*c-g*e;a[6]=m*k+h*e+g*d-f*c;a[7]=h*k-g*c-f*d-m*e;return a};b.rotateByQuatPrepend=function(a,b,e){var c=b[0],d=b[1],k=b[2];b=b[3];var g=e[0],f=e[1],m=e[2],h=e[3];a[0]=c*h+b*g+d*m-k*f;a[1]=d*h+b*f+k*g-c*m;a[2]=k*h+b*m+c*f-d*g;a[3]=
b*h-c*g-d*f-k*m;g=e[4];f=e[5];m=e[6];h=e[7];a[4]=c*h+b*g+d*m-k*f;a[5]=d*h+b*f+k*g-c*m;a[6]=k*h+b*m+c*f-d*g;a[7]=b*h-c*g-d*f-k*m;return a};b.rotateAroundAxis=function(a,b,e,g){if(Math.abs(g)<r.EPSILON)return u(a,b);var c=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);g*=.5;var d=Math.sin(g),k=d*e[0]/c,f=d*e[1]/c;e=d*e[2]/c;g=Math.cos(g);var c=b[0],d=b[1],m=b[2],w=b[3];a[0]=c*g+w*k+d*e-m*f;a[1]=d*g+w*f+m*k-c*e;a[2]=m*g+w*e+c*f-d*k;a[3]=w*g-c*k-d*f-m*e;c=b[4];d=b[5];m=b[6];b=b[7];a[4]=c*g+b*k+d*e-m*f;a[5]=
d*g+b*f+m*k-c*e;a[6]=m*g+b*e+c*f-d*k;a[7]=b*g-c*k-d*f-m*e;return a};b.add=function(a,b,e){a[0]=b[0]+e[0];a[1]=b[1]+e[1];a[2]=b[2]+e[2];a[3]=b[3]+e[3];a[4]=b[4]+e[4];a[5]=b[5]+e[5];a[6]=b[6]+e[6];a[7]=b[7]+e[7];return a};b.multiply=m;b.mul=m;b.scale=function(a,b,e){a[0]=b[0]*e;a[1]=b[1]*e;a[2]=b[2]*e;a[3]=b[3]*e;a[4]=b[4]*e;a[5]=b[5]*e;a[6]=b[6]*e;a[7]=b[7]*e;return a};b.dot=n.dot;b.lerp=function(a,d,e,g){var c=1-g;0>b.dot(d,e)&&(g=-g);a[0]=d[0]*c+e[0]*g;a[1]=d[1]*c+e[1]*g;a[2]=d[2]*c+e[2]*g;a[3]=
d[3]*c+e[3]*g;a[4]=d[4]*c+e[4]*g;a[5]=d[5]*c+e[5]*g;a[6]=d[6]*c+e[6]*g;a[7]=d[7]*c+e[7]*g;return a};b.invert=function(a,d){var c=b.squaredLength(d);a[0]=-d[0]/c;a[1]=-d[1]/c;a[2]=-d[2]/c;a[3]=d[3]/c;a[4]=-d[4]/c;a[5]=-d[5]/c;a[6]=-d[6]/c;a[7]=d[7]/c;return a};b.conjugate=function(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];a[3]=b[3];a[4]=-b[4];a[5]=-b[5];a[6]=-b[6];a[7]=b[7];return a};b.length=n.length;b.len=b.length;b.squaredLength=n.squaredLength;b.sqrLen=b.squaredLength;b.normalize=function(a,d){var c=
b.squaredLength(d);if(0<c){var c=Math.sqrt(c),e=d[0]/c,g=d[1]/c,f=d[2]/c,m=d[3]/c,h=d[4],n=d[5],l=d[6];d=d[7];var u=e*h+g*n+f*l+m*d;a[0]=e;a[1]=g;a[2]=f;a[3]=m;a[4]=(h-e*u)/c;a[5]=(n-g*u)/c;a[6]=(l-f*u)/c;a[7]=(d-m*u)/c}return a};b.str=function(a){return"quat2("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+")"};b.exactEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]};b.equals=function(a,
b){var c=a[0],d=a[1],e=a[2],g=a[3],f=a[4],m=a[5],h=a[6];a=a[7];var n=b[0],l=b[1],u=b[2],p=b[3],I=b[4],z=b[5],A=b[6];b=b[7];return Math.abs(c-n)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(n))&&Math.abs(d-l)<=r.EPSILON*Math.max(1,Math.abs(d),Math.abs(l))&&Math.abs(e-u)<=r.EPSILON*Math.max(1,Math.abs(e),Math.abs(u))&&Math.abs(g-p)<=r.EPSILON*Math.max(1,Math.abs(g),Math.abs(p))&&Math.abs(f-I)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(I))&&Math.abs(m-z)<=r.EPSILON*Math.max(1,Math.abs(m),Math.abs(z))&&
Math.abs(h-A)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(A))&&Math.abs(a-b)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))}})},"esri/core/libs/gl-matrix-2/math/vec2":function(){define(["require","exports","./common"],function(a,b,l){function p(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];return a}function r(a,b,c){a[0]=b[0]*c[0];a[1]=b[1]*c[1];return a}function h(a,b,c){a[0]=b[0]/c[0];a[1]=b[1]/c[1];return a}function n(a,b){var c=b[0]-a[0];a=b[1]-a[1];return Math.sqrt(c*c+a*a)}function f(a,b){var c=b[0]-
a[0];a=b[1]-a[1];return c*c+a*a}function u(a){var b=a[0];a=a[1];return Math.sqrt(b*b+a*a)}function m(a){var b=a[0];a=a[1];return b*b+a*a}Object.defineProperty(b,"__esModule",{value:!0});b.copy=function(a,b){a[0]=b[0];a[1]=b[1];return a};b.set=function(a,b,c){a[0]=b;a[1]=c;return a};b.add=function(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];return a};b.subtract=p;b.multiply=r;b.divide=h;b.ceil=function(a,b){a[0]=Math.ceil(b[0]);a[1]=Math.ceil(b[1]);return a};b.floor=function(a,b){a[0]=Math.floor(b[0]);a[1]=
Math.floor(b[1]);return a};b.min=function(a,b,c){a[0]=Math.min(b[0],c[0]);a[1]=Math.min(b[1],c[1]);return a};b.max=function(a,b,c){a[0]=Math.max(b[0],c[0]);a[1]=Math.max(b[1],c[1]);return a};b.round=function(a,b){a[0]=Math.round(b[0]);a[1]=Math.round(b[1]);return a};b.scale=function(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;return a};b.scaleAndAdd=function(a,b,c,d){a[0]=b[0]+c[0]*d;a[1]=b[1]+c[1]*d;return a};b.distance=n;b.squaredDistance=f;b.length=u;b.squaredLength=m;b.negate=function(a,b){a[0]=-b[0];a[1]=
-b[1];return a};b.inverse=function(a,b){a[0]=1/b[0];a[1]=1/b[1];return a};b.normalize=function(a,b){var c=b[0],d=b[1],c=c*c+d*d;0<c&&(c=1/Math.sqrt(c),a[0]=b[0]*c,a[1]=b[1]*c);return a};b.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]};b.cross=function(a,b,c){b=b[0]*c[1]-b[1]*c[0];a[0]=a[1]=0;a[2]=b;return a};b.lerp=function(a,b,c,d){var e=b[0];b=b[1];a[0]=e+d*(c[0]-e);a[1]=b+d*(c[1]-b);return a};b.random=function(a,b){b=b||1;var c=2*l.RANDOM()*Math.PI;a[0]=Math.cos(c)*b;a[1]=Math.sin(c)*b;return a};
b.transformMat2=function(a,b,c){var d=b[0];b=b[1];a[0]=c[0]*d+c[2]*b;a[1]=c[1]*d+c[3]*b;return a};b.transformMat2d=function(a,b,c){var d=b[0];b=b[1];a[0]=c[0]*d+c[2]*b+c[4];a[1]=c[1]*d+c[3]*b+c[5];return a};b.transformMat3=function(a,b,c){var d=b[0];b=b[1];a[0]=c[0]*d+c[3]*b+c[6];a[1]=c[1]*d+c[4]*b+c[7];return a};b.transformMat4=function(a,b,c){var d=b[0];b=b[1];a[0]=c[0]*d+c[4]*b+c[12];a[1]=c[1]*d+c[5]*b+c[13];return a};b.rotate=function(a,b,c,d){var e=b[0]-c[0];b=b[1]-c[1];var g=Math.sin(d);d=Math.cos(d);
a[0]=e*d-b*g+c[0];a[1]=e*g+b*d+c[1];return a};b.angle=function(a,b){var c=a[0];a=a[1];var d=b[0];b=b[1];var e=c*c+a*a;0<e&&(e=1/Math.sqrt(e));var g=d*d+b*b;0<g&&(g=1/Math.sqrt(g));c=(c*d+a*b)*e*g;return 1<c?0:-1>c?Math.PI:Math.acos(c)};b.str=function(a){return"vec2("+a[0]+", "+a[1]+")"};b.exactEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]};b.equals=function(a,b){var c=a[0];a=a[1];var d=b[0];b=b[1];return Math.abs(c-d)<=l.EPSILON*Math.max(1,Math.abs(c),Math.abs(d))&&Math.abs(a-b)<=l.EPSILON*
Math.max(1,Math.abs(a),Math.abs(b))};b.len=u;b.sub=p;b.mul=r;b.div=h;b.dist=n;b.sqrDist=f;b.sqrLen=m})},"esri/geometry/SpatialReference":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/spatialReferenceUtils".split(" "),function(a,b,l,p,r,h,n,f){a=function(a){function b(b){b=a.call(this)||this;b.latestWkid=null;b.wkid=null;b.wkt=null;return b}l(b,a);e=b;b.fromJSON=
function(a){if(!a)return null;if(a.wkid){if(102100===a.wkid)return e.WebMercator;if(4326===a.wkid)return e.WGS84}var b=new e;b.read(a);return b};b.prototype.normalizeCtorArgs=function(a){var b;return a&&"object"===typeof a?a:(b={},b["string"===typeof a?"wkt":"wkid"]=a,b)};Object.defineProperty(b.prototype,"isWGS84",{get:function(){return f.isWGS84(this)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isWebMercator",{get:function(){return f.isWebMercator(this)},enumerable:!0,configurable:!0});
Object.defineProperty(b.prototype,"isGeographic",{get:function(){return f.isGeographic(this)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isWrappable",{get:function(){return f.isWrappable(this)},enumerable:!0,configurable:!0});b.prototype.writeWkt=function(a,b){this.wkid||(b.wkt=a)};b.prototype.clone=function(){if(this===e.WGS84)return e.WGS84;if(this===e.WebMercator)return e.WebMercator;var a=new e;null!=this.wkid?(a.wkid=this.wkid,null!=this.latestWkid&&(a.latestWkid=this.latestWkid),
null!=this.vcsWkid&&(a.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(a.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(a.wkt=this.wkt);return a};b.prototype.equals=function(a){return f.equals(this,a)};b.prototype.toJSON=function(a){return this.write(null,a)};var e;b.GCS_NAD_1927=null;b.WGS84=null;b.WebMercator=null;p([n.property({dependsOn:["wkid"],readOnly:!0})],b.prototype,"isWGS84",null);p([n.property({dependsOn:["wkid"],readOnly:!0})],b.prototype,"isWebMercator",null);p([n.property({dependsOn:["wkid",
"wkt"],readOnly:!0})],b.prototype,"isGeographic",null);p([n.property({dependsOn:["wkid"],readOnly:!0})],b.prototype,"isWrappable",null);p([n.property({type:Number,json:{write:!0}})],b.prototype,"latestWkid",void 0);p([n.property({type:Number,json:{write:!0,origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkt?!0:!1}}}}}}})],b.prototype,"wkid",void 0);p([n.property({type:String,json:{origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===
this.wkid?!0:!1}}}}}}})],b.prototype,"wkt",void 0);p([n.writer("wkt"),n.writer("web-scene","wkt")],b.prototype,"writeWkt",null);p([n.property({type:Number,json:{write:!0}})],b.prototype,"vcsWkid",void 0);p([n.property({type:Number,json:{write:!0}})],b.prototype,"latestVcsWkid",void 0);return b=e=p([n.subclass("esri.geometry.SpatialReference")],b)}(n.declared(r));a.prototype.toJSON.isDefaultToJSON=!0;a.GCS_NAD_1927=new a({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'});
a.WGS84=new a(4326);a.WGS84.wkt=h.substitute({Central_Meridian:"0.0"},f.getInfo(a.WGS84).wkTemplate);a.WebMercator=new a({wkid:102100,latestWkid:3857});Object.freeze&&(Object.freeze(a.GCS_NAD_1927),Object.freeze(a.WGS84),Object.freeze(a.WebMercator));return a})},"esri/core/tsSupport/declareExtendsHelper":function(){define(["require","exports"],function(a,b){return function(a,b){a.__bases__=b.__bases__}})},"esri/core/JSONSupport":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./declare ./accessorSupport/decorators ./accessorSupport/read ./accessorSupport/write".split(" "),
function(a,b,l,p,r,h,n,f,u){function m(a,b){if(!a)return null;if(a.declaredClass)throw Error("JSON object is already hydrated");var c=new this;c.read(a,b);return c}var e=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}l(b,a);b.prototype.read=function(a,b){f.default(this,a,b);return this};b.prototype.write=function(a,b){return u.default(this,a||{},b)};b.prototype.toJSON=function(a){return this.write(null,a)};b.fromJSON=function(a,b){return m.call(this,a,b)};return b=p([n.subclass("esri.core.JSONSupport")],
b)}(n.declared(r));e.prototype.toJSON.isDefaultToJSON=!0;h.after(function(a){h.hasMixin(a,e)&&(a.fromJSON=m.bind(a))});return e})},"esri/core/Accessor":function(){define("./declare ./accessorSupport/Properties ./accessorSupport/get ./accessorSupport/introspection ./accessorSupport/set ./accessorSupport/watch".split(" "),function(a,b,l,p,r,h){b=b.default;a.before(function(b,h){a.hasMixin(b,n)&&p.processPrototype(h)});a.after(function(b){a.hasMixin(b,n)&&(p.processClass(b),Object.defineProperties(b.prototype,
{initialized:{get:function(){return this.__accessor__&&this.__accessor__.initialized||!1}},constructed:{get:function(){return this.__accessor__&&2===this.__accessor__.lifecycle||!1}},destroyed:{get:function(){return this.__accessor__&&this.__accessor__.destroyed||!1}}}))});var n=a(null,{declaredClass:"esri.core.Accessor","-chains-":{initialize:"after",destroy:"before"},constructor:function(){if(this.constructor===n)throw Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");
Object.defineProperty(this,"__accessor__",{value:new b(this)});if(0<arguments.length&&this.normalizeCtorArgs){for(var a=[],h=0;h<arguments.length;h++)a.push(arguments[h]);this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,a)}},__accessor__:null,postscript:function(a){var b=this.__accessor__;a=b.ctorArgs||a;var f;null!=this.getDefaults&&(f=this.getDefaults(a||{}),this.set(f));b.initialize();a&&(this.set(a),b.ctorArgs=null);b.constructed();this.initialize()},initialize:function(){},destroy:function(){if(this.destroyed)try{throw Error("instance is already destroyed");
}catch(f){console.warn(f.stack)}else h.removeTarget(this),this.__accessor__.destroy()},get:function(a){return l.get(this,a)},hasOwnProperty:function(a){return this.__accessor__?this.__accessor__.has(a):Object.prototype.hasOwnProperty.call(this,a)},keys:function(){return this.__accessor__?this.__accessor__.keys():[]},set:function(a,b){r.set(this,a,b);return this},watch:function(a,b,m){return h.watch(this,a,b,m)},_clearOverride:function(a){return this.__accessor__.clearOverride(a)},_override:function(a,
b){return this.__accessor__.override(a,b)},_isOverridden:function(a){return this.__accessor__.isOverridden(a)},notifyChange:function(a){this.__accessor__.propertyInvalidated(a)},_get:function(a){return this.__accessor__.internalGet(a)},_set:function(a,b){return this.__accessor__.internalSet(a,b)}});return n})},"esri/core/declare":function(){define(["require","exports","dojo/_base/declare"],function(a,b,l){function p(a,b){a&&!Array.isArray(a)&&"function"!==typeof a&&(b=a,a=null);a=a||[];b=b||{};return r([this].concat(a),
b)}function r(a,b){a&&!Array.isArray(a)&&"function"!==typeof a&&(b=a,a=null);"function"===typeof a?a=[a]:a||(a=[]);b=b||{};var f,e;f=0;for(e=h.length;f<e;f++)h[f](a,b);a=l(a,b);a.createSubclass=p;f=0;for(e=n.length;f<e;f++)n[f](a);return a}var h=[],n=[];(function(a){a.hasMixin=function(a,b){a=Array.isArray(a)?a.reduce(function(a,b){return b._meta?a.concat(b._meta.bases):a},[]):a._meta?a._meta.bases:a;if(!a)return!1;if("string"===typeof b)for(var e=a.length-1;0<=e;e--)if(a[e].prototype.declaredClass===
b)return!0;return-1!==a.indexOf(b)};a.safeMixin=function(a,b){return l.safeMixin(a,b)};a.before=function(a){h.push(a)};a.after=function(a){n.push(a)}})(r||(r={}));return r})},"esri/core/accessorSupport/Properties":function(){define("require exports ../has ../Logger ../ObjectPool ./extensions ./PropertyOrigin ./Store".split(" "),function(a,b,l,p,r,h,n,f){Object.defineProperty(b,"__esModule",{value:!0});p.getLogger("esri.core.accessorSupport.Properties");a=function(){function a(a){this.host=a;this._origin=
n.OriginId.USER;this.ctorArgs=this.cursors=null;this.destroyed=!1;this.dirties={};this.lifecycle=0;this.overridden=null;this.store=new f.default;a=this.host.constructor.__accessorMetadata__;this.metadatas=a.properties;this.autoDestroy=a.autoDestroy}a.prototype.initialize=function(){this.lifecycle=1;h.instanceCreated(this.host,this.metadatas)};a.prototype.constructed=function(){this.lifecycle=2};a.prototype.destroy=function(){this.destroyed=!0;var a=this.cursors;if(this.cursors)for(var b=0,c=Object.getOwnPropertyNames(a);b<
c.length;b++){var d=c[b],k=a[d];if(k){for(;0<k.length;)k.pop().propertyDestroyed(this,d);a[d]=null}}if(this.autoDestroy)for(d in this.metadatas)(a=this.internalGet(d))&&a&&"function"===typeof a.destroy&&(a.destroy(),this.metadatas[d].nonNullable||this.internalSet(d,null))};Object.defineProperty(a.prototype,"initialized",{get:function(){return 0!==this.lifecycle},enumerable:!0,configurable:!0});a.prototype.clearOverride=function(a){this.isOverridden(a)&&(this.overridden[a]=!1,this.propertyInvalidated(a))};
a.prototype.get=function(a){var b=this.metadatas[a];if(this.store.has(a)&&!this.dirties[a])return this.store.get(a);var c=b.get;return c?(b=c.call(this.host),this.store.set(a,b,n.OriginId.COMPUTED),this.propertyCommitted(a),b):b.value};a.prototype.originOf=function(a){var b=this.store.originOf(a);return void 0===b&&(a=this.metadatas[a])&&a.hasOwnProperty("value")?"defaults":n.idToName(b)};a.prototype.has=function(a){return this.metadatas[a]?this.store.has(a):!1};a.prototype.internalGet=function(a){if(this.metadatas[a]){var b=
this.store;return b.has(a)?b.get(a):this.metadatas[a].value}};a.prototype.internalSet=function(a,b){if(this.metadatas[a]){var c=this.initialized?this._origin:n.OriginId.DEFAULTS,d=this.store.get(a,c);if(b!==d||!this.store.has(a,c)||this.isOverridden(a))this.propertyInvalidated(a),this.store.set(a,b,c),this.propertyCommitted(a)}};a.prototype.isOverridden=function(a){return null!=this.overridden&&!0===this.overridden[a]};a.prototype.keys=function(){return Object.keys(this.metadatas)};a.prototype.override=
function(a,b){if(this.metadatas[a]){this.overridden||(this.overridden={});var c=this.metadatas[a];if(!c.nonNullable||null!=b){if(c=c.cast){b=this.cast(c,b);var c=b.valid,d=b.value;u.release(b);if(!c)return;b=d}this.overridden[a]=!0;this.internalSet(a,b)}}};a.prototype.set=function(a,b){if(this.metadatas[a]){var c=this.metadatas[a];if(!c.nonNullable||null!=b){var d=c.set;if(c=c.cast){b=this.cast(c,b);var c=b.valid,k=b.value;u.release(b);if(!c)return;b=k}d?d.call(this.host,b):this.internalSet(a,b)}}};
a.prototype.setDefaultOrigin=function(a){this._origin=n.nameToId(a)};a.prototype.propertyInvalidated=function(a){var b=this.dirties,c=this.isOverridden(a),d=this.cursors&&this.cursors[a],k=this.metadatas[a].computes;if(d)for(var e=0;e<d.length;e++)d[e].propertyInvalidated(this,a);c||(b[a]=!0);if(k)for(a=0;a<k.length;a++)this.propertyInvalidated(k[a])};a.prototype.propertyCommitted=function(a){var b=this.cursors&&this.cursors[a];this.dirties[a]=!1;if(b)for(var c=0;c<b.length;c++)b[c].propertyCommitted(this,
a)};a.prototype.addCursor=function(a,b){this.cursors||(this.cursors={});var c=this.cursors[a];c||(this.cursors[a]=c=[]);c.push(b)};a.prototype.removeCursor=function(a,b){var c=this.cursors[a];this.cursors[a]&&(c.splice(c.indexOf(b),1),0===c.length&&(this.cursors[a]=null))};a.prototype.cast=function(a,b){var c=u.acquire();c.valid=!0;c.value=b;a&&(c.value=a.call(this.host,b,c));return c};return a}();l=function(){function a(){this.value=null;this.valid=!0}a.prototype.acquire=function(){this.valid=!0};
a.prototype.release=function(){this.value=null};return a}();var u=new r(l);b.default=a})},"esri/core/accessorSupport/extensions":function(){define(["require","exports","./extensions/aliasedProperty","./extensions/computedProperty","./extensions/serializableProperty"],function(a,b,l,p,r){Object.defineProperty(b,"__esModule",{value:!0});var h=[l.default,p.default,r.default];b.processPrototypeMetadatas=function(a,b){for(var f=Object.getOwnPropertyNames(a),m=0;m<h.length;m++){var e=h[m];if(e.processPrototypePropertyMetadata)for(var g=
0,c=f;g<c.length;g++){var d=c[g];e.processPrototypePropertyMetadata(d,a[d],a,b)}}};b.processClassMetadatas=function(a,b){for(var f=Object.getOwnPropertyNames(a),m=0;m<h.length;m++){var e=h[m];if(e.processClassPropertyMetadata)for(var g=0,c=f;g<c.length;g++){var d=c[g];e.processClassPropertyMetadata(d,a[d],a,b)}}};b.instanceCreated=function(a,b){for(var f=Object.getOwnPropertyNames(b),m=0;m<h.length;m++){var e=h[m];e.instanceCreated&&e.instanceCreated(a,b,f)}}})},"esri/core/accessorSupport/extensions/aliasedProperty":function(){define("require exports ../../has ../get ../set ../utils ../wire".split(" "),
function(a,b,l,p,r,h,n){function f(a,b,e){var g=h.getProperties(a);return n.wire(a,e.aliasOf,function(){g.propertyInvalidated(b)})}Object.defineProperty(b,"__esModule",{value:!0});b.AliasedPropertyExtension={processClassPropertyMetadata:function(a,b,e,g){var c=b.aliasOf;if(c&&(a=c.split(".")[0],null!=e[a]&&!b.set&&!b.get)){var d;b.get=function(){var a=p.default(this,c);if("function"===typeof a){d||(d=c.split(".").slice(0,-1).join("."));var b=p.default(this,d);b&&(a=a.bind(b))}return a};b.readOnly||
(b.set=function(a){return r.default(this,c,a)})}},instanceCreated:function(a,b,e){for(var g=0;g<e.length;g++){var c=e[g],d=b[c];d.aliasOf&&f(a,c,d)}}};b.default=b.AliasedPropertyExtension})},"esri/core/accessorSupport/get":function(){define(["require","exports","./utils"],function(a,b,l){function p(a,b,h){if(null!=h.getItemAt||Array.isArray(h)){var e=parseInt(a,10);if(!isNaN(e))return Array.isArray(h)?h[e]:h.getItemAt(e)}e=l.getProperties(h);return b?l.isPropertyDeclared(e,a)?e.get(a):h[a]:l.isPropertyDeclared(e,
a)?e.internalGet(a):h[a]}function r(a,b,h,e){if(null==a)return a;if((a=p(b[e],h,a))||!(e<b.length-1))return e===b.length-1?a:r(a,b,h,e+1)}function h(a,b,h,e){void 0===h&&(h=!1);void 0===e&&(e=0);return"string"===typeof b&&-1===b.indexOf(".")?p(b,h,a):r(a,l.pathToArray(b),h,e)}function n(a,b){return h(a,b,!0)}Object.defineProperty(b,"__esModule",{value:!0});b.valueOf=h;b.get=n;b.exists=function(a,b){return void 0!==h(b,a,!0)};b.default=n})},"esri/core/accessorSupport/utils":function(){define(["require",
"exports","../lang"],function(a,b,l){function p(a,b,h){return b?Object.keys(b).reduce(function(a,g){var c=null,d="merge";h&&(c=h.path?h.path+"."+g:g,d=h.policy(c));if("replace"===d)return a[g]=b[g],a;if(void 0===a[g])return a[g]=l.clone(b[g]),a;var k=a[g],d=b[g];if(k===d)return a;if(Array.isArray(d)||Array.isArray(a))k=k?Array.isArray(k)?a[g]=k.concat():a[g]=[k]:a[g]=[],d&&(Array.isArray(d)||(d=[d]),d.forEach(function(a){-1===k.indexOf(a)&&k.push(a)}));else if(d&&"object"===typeof d)if(h){var e=h.path;
h.path=c;a[g]=p(k,d,h);h.path=e}else a[g]=p(k,d,null);else if(!a.hasOwnProperty(g)||b.hasOwnProperty(g))a[g]=d;return a},a||{}):a}function r(a){return Array.isArray(a)?a:a.split(".")}function h(a){if(Array.isArray(a)||-1<a.indexOf(",")){a=Array.isArray(a)?a:a.split(",");for(var b=0;b<a.length;b++)a[b]=a[b].trim();return 1===a.length?a[0]:a}return a.trim()}function n(a){var b=!1;return function(){b||(b=!0,a())}}Object.defineProperty(b,"__esModule",{value:!0});b.getProperties=function(a){return a?a.__accessor__?
a.__accessor__:a.propertyInvalidated?a:null:null};b.isPropertyDeclared=function(a,b){return a&&a.metadatas&&null!=a.metadatas[b]};b.merge=function(a,b,h){return h?p(a,b,{policy:h,path:""}):p(a,b,null)};b.pathToStringOrArray=function(a){return a?"string"===typeof a&&-1===a.indexOf(".")?a:r(a):a};b.pathToArray=r;b.splitPath=h;b.parseConditionalPath=function(a){if(-1===a.indexOf("?"))return null;a=r(a);for(var b=Array(a.length),f=0;f<a.length;f++){var e=a[f];b[f]="?"===e[e.length-1];b[f]&&(a[f]=e.slice(0,
-1))}return{fullPath:a.join("."),conditional:b}};b.parse=function(a,b,m,e){b=h(b);if(Array.isArray(b)){var g=b.map(function(b){return e(a,b.trim(),m)});return{remove:n(function(){return g.forEach(function(a){return a.remove()})})}}return e(a,b.trim(),m)};b.once=n})},"esri/core/accessorSupport/set":function(){define(["require","exports","../has","../Logger","./get"],function(a,b,l,p,r){function h(a,b,l){if(a&&b)if("object"===typeof b){l=0;for(var f=Object.getOwnPropertyNames(b);l<f.length;l++){var e=
f[l];h(a,e,b[e])}}else"_"!==b[0]&&(-1!==b.indexOf(".")?(b=b.split("."),e=b.splice(b.length-1,1)[0],h(r.default(a,b),e,l)):a[b]=l)}Object.defineProperty(b,"__esModule",{value:!0});p.getLogger("esri.core.accessorSupport.set");b.set=h;b.default=h})},"esri/core/accessorSupport/wire":function(){define(["require","exports","./utils"],function(a,b,l){function p(a,b,g){b=l.splitPath(b);if(Array.isArray(b)){for(var c=[],d=0;d<b.length;d++)c.push((new r(b[d],g)).install(a));return new f(c)}a=(new r(b,g)).install(a);
return new u(a)}Object.defineProperty(b,"__esModule",{value:!0});var r=function(){function a(a,b){this.path=a;this.callback=b;this.conditional=this.chain=null;if(-1<a.indexOf(".")){if(a=l.parseConditionalPath(a))this.path=a.fullPath,this.conditional=a.conditional;this.chain=l.pathToArray(this.path)}this.callback=b;return this}a.prototype.install=function(a){a=this.chain?new n(this,a):new h(this,a);return a};a.prototype.notify=function(a){this.callback(a,this.path)};return a}(),h=function(){function a(a,
b){this.binding=a;this.target=b;l.getProperties(b).addCursor(this.binding.path,this)}a.prototype.destroy=function(){this.target&&(l.getProperties(this.target).removeCursor(this.binding.path,this),this.target=this.binding=null)};a.prototype.propertyDestroyed=function(a,b){l.getProperties(this.target).removeCursor(b,this)};a.prototype.propertyInvalidated=function(a,b){this.binding&&this.binding.notify(this.target)};a.prototype.propertyCommitted=function(a,b){this.binding&&this.binding.notify(this.target)};
return a}(),n=function(){function a(a,b){this.binding=a;this.target=b;this.stack=[];this.properties=l.getProperties(b);this.stack.push({properties:this.properties,propertyName:a.chain[0]});this.properties.addCursor(a.chain[0],this);this.moveForward();return this}a.prototype.destroy=function(){for(;;){var a=this.stack.pop();if(null==a)break;a.properties.removeCursor(a.propertyName,this)}this.target=this.binding=null};a.prototype.propertyDestroyed=function(a,b){this.moveBackward(a,b)};a.prototype.propertyInvalidated=
function(a,b){this.binding&&this.binding.notify(this.target)};a.prototype.propertyCommitted=function(a,b){this.binding&&(this.moveBackward(a,b),this.moveForward(),this.binding.notify(this.target))};a.prototype.moveBackward=function(a,b){for(var c=this.stack,d=c[c.length-1];d.properties!==a&&d.propertyName!==b;)d.properties.removeCursor(d.propertyName,this),c.pop(),d=c[c.length-1]};a.prototype.moveForward=function(){var a=this.stack,b=a[a.length-1],b=b.properties.internalGet(b.propertyName);if((b=
l.getProperties(b))&&a.length<this.binding.chain.length){var c=this.binding.chain[a.length];this.binding.conditional&&this.binding.conditional[a.length]&&!b.metadatas[c]||(this.stack.push({properties:b,propertyName:c}),b.addCursor(c,this),this.moveForward())}};return a}(),f=function(){function a(a){this.cursors=a}a.prototype.remove=function(){for(var a=this.cursors;0<a.length;)a.pop().destroy();this.cursors=null};return a}(),u=function(){function a(a){this.cursor=a}a.prototype.remove=function(){this.cursor.destroy();
this.cursor=null};return a}();b.create=function(a,b){a=l.splitPath(a);if(Array.isArray(a)){for(var e=[],c=0;c<a.length;c++)e.push(new r(a[c],b));return function(a){for(var b=[],c=0;c<e.length;c++)b[c]=e[c].install(a);return new f(b)}}var d=new r(a,b);return function(a){return new u(d.install(a))}};b.wire=p;b.default=p})},"esri/core/accessorSupport/extensions/computedProperty":function(){define("require exports ../../has ../../Logger ../utils ../wire".split(" "),function(a,b,l,p,r,h){Object.defineProperty(b,
"__esModule",{value:!0});p.getLogger("esri.core.accessorSupport.extensions.computedProperty");b.ComputedPropertyExtension={processClassPropertyMetadata:function(a,b,l,m){b.dependsOn&&(l=void 0,l=b.dependsOn.slice())&&(b.wire=h.create(l,function(b){return r.getProperties(b).propertyInvalidated(a)}))},instanceCreated:function(a,b,h){for(var f=0;f<h.length;f++){var e=b[h[f]];e.wire&&e.wire(a)}}};b.default=b.ComputedPropertyExtension})},"esri/core/accessorSupport/extensions/serializableProperty":function(){define("require exports ../ensureType ./serializableProperty/originAliases ./serializableProperty/reader ./serializableProperty/shorthands ./serializableProperty/writer".split(" "),
function(a,b,l,p,r,h,n){function f(a,b,e){var g=a&&a.json;a&&a.json&&a.json.origins&&e&&(a=a.json.origins[e.origin])&&b in a&&(g=a);return g}Object.defineProperty(b,"__esModule",{value:!0});b.originSpecificReadPropertyDefinition=function(a,b){return f(a,"read",b)};b.originSpecificWritePropertyDefinition=function(a,b){return f(a,"write",b)};b.SerializablePropertyExtension={processPrototypePropertyMetadata:function(a,b,e,g){if(h.process(b)){p.process(b);e=b.type;for(g=0;Array.isArray(e)&&!l.isOneOf(e);)e=
e[0],g++;if(b.json.origins)for(var c in b.json.origins){var d=b.json.origins[c];r.create(e,g,a,d);n.create(e,g,a,d)}r.create(e,g,a,b.json);n.create(e,g,a,b.json)}}};b.default=b.SerializablePropertyExtension})},"esri/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.process=function(a){if(a.json&&a.json.origins){var b=a.json.origins,l={"web-document":["web-scene","web-map"]};a=
function(a){if(b[a]){var f=b[a];l[a].forEach(function(a){b[a]=f});delete b[a]}};for(var h in l)a(h)}}})},"esri/core/accessorSupport/extensions/serializableProperty/reader":function(){define(["require","exports","../../../object","./type"],function(a,b,l,p){function r(a,b,d,k){if(1<b)return f(a,b);if(1===b)return u(a);if(m(a)){var c=u(a.prototype.itemType.Type);return function(b,d,k){return(b=c(b,d,k))?new a(b):b}}return h(a)}function h(a){return a.prototype.read?function(b,d,k){return null==b?b:(new a).read(b,
k)}:a.fromJSON}function n(a,b,d,k){return 0!==k&&Array.isArray(b)?b.map(function(b){return n(a,b,d,k-1)}):a(b,null,d)}function f(a,b){a=h(a);var c=n.bind(null,a);return function(a,d,e){if(null==a)return a;a=c(a,e,b);d=b;for(e=a;0<d&&Array.isArray(e);)d--,e=e[0];if(void 0!==e)for(e=0;e<d;e++)a=[a];return a}}function u(a){var b=h(a);return function(a,c,e){return null==a?a:Array.isArray(a)?a.map(function(a){return b(a,null,e)}):[b(a,null,e)]}}function m(a){return p.isCollection(a)?(a=a.prototype.itemType)&&
a.Type&&"function"===typeof a.Type?e(a.Type):!1:!1}function e(a){return Array.isArray(a)?!1:!!a&&a.prototype&&("read"in a.prototype||"fromJSON"in a||m(a))}Object.defineProperty(b,"__esModule",{value:!0});b.create=function(a,b,d,k){(!k.read||!k.read.reader&&!1!==k.read.enabled)&&e(a)&&l.setDeepValue("read.reader",r(a,b,d,k),k)}})},"esri/core/object":function(){define(["require","exports"],function(a,b){function l(a,b,h){for(var l=0;l<a.length;l++){var f=a[l];if(!(f in h))if(b)h[f]={};else return;h=
h[f]}return h}Object.defineProperty(b,"__esModule",{value:!0});b.getDeepValue=function(a,b){return l(a.split("."),!1,b)};b.setDeepValue=function(a,b,h){var n=a.split(".");a=n.pop();(h=l(n,!0,h))&&a&&(h[a]=b)}})},"esri/core/accessorSupport/extensions/serializableProperty/type":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.isCollection=function(a){return!!a&&a.prototype&&a.prototype.declaredClass&&0===a.prototype.declaredClass.indexOf("esri.core.Collection")}})},
"esri/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["require","exports"],function(a,b){function l(a){"boolean"===typeof a.read?a.read={enabled:a.read}:"function"===typeof a.read?a.read={enabled:!0,reader:a.read}:a.read&&"object"===typeof a.read&&void 0===a.read.enabled&&(a.read.enabled=!0)}function p(a){"boolean"===typeof a.write?a.write={enabled:a.write}:"function"===typeof a.write?a.write={enabled:!0,writer:a.write}:a.write&&"object"===typeof a.write&&void 0===
a.write.enabled&&(a.write.enabled=!0)}Object.defineProperty(b,"__esModule",{value:!0});b.process=function(a){a.json||(a.json={});l(a.json);p(a.json);if(a.json.origins)for(var b in a.json.origins)l(a.json.origins[b]),p(a.json.origins[b]);return!0}})},"esri/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["require","exports","../../../object","./type"],function(a,b,l,p){function r(a,b,g,c){l.setDeepValue(g,h(a,c),b)}function h(a,b){return a&&"function"===typeof a.write?
a.write({},b):a&&"function"===typeof a.toJSON?a.toJSON():"number"===typeof a?-Infinity===a?-Number.MAX_VALUE:Infinity===a?Number.MAX_VALUE:isNaN(a)?null:a:a}function n(a,b,g,c){null===a?a=null:a&&"function"===typeof a.map?(a=a.map(function(a){return h(a,c)}),"function"===typeof a.toArray&&(a=a.toArray())):a=[h(a,c)];l.setDeepValue(g,a,b)}function f(a,b,g){return 0!==g&&Array.isArray(a)?a.map(function(a){return f(a,b,g-1)}):h(a,b)}function u(a){return function(b,g,c,d){if(null===b)b=null;else{b=f(b,
d,a);d=a;for(var k=b;0<d&&Array.isArray(k);)d--,k=k[0];if(void 0!==k)for(k=0;k<d;k++)b=[b]}l.setDeepValue(c,b,g)}}Object.defineProperty(b,"__esModule",{value:!0});b.create=function(a,b,g,c){c.write&&!c.write.writer&&!1!==c.write.enabled&&(1===b||p.isCollection(a)?c.write.writer=n:c.write.writer=1<b?u(b):r)}})},"esri/core/accessorSupport/PropertyOrigin":function(){define(["require","exports"],function(a,b){function l(a){switch(a){case "defaults":return r.DEFAULTS;case "service":return r.SERVICE;case "portal-item":return r.PORTAL_ITEM;
case "web-scene":return r.WEB_SCENE;case "web-map":return r.WEB_MAP;case "user":return r.USER}}function p(a){switch(a){case r.DEFAULTS:return"defaults";case r.SERVICE:return"service";case r.PORTAL_ITEM:return"portal-item";case r.WEB_SCENE:return"web-scene";case r.WEB_MAP:return"web-map";case r.USER:return"user"}}Object.defineProperty(b,"__esModule",{value:!0});var r;(function(a){a[a.DEFAULTS=0]="DEFAULTS";a[a.COMPUTED=1]="COMPUTED";a[a.SERVICE=2]="SERVICE";a[a.PORTAL_ITEM=3]="PORTAL_ITEM";a[a.WEB_SCENE=
4]="WEB_SCENE";a[a.WEB_MAP=5]="WEB_MAP";a[a.USER=6]="USER";a[a.NUM=7]="NUM"})(r=b.OriginId||(b.OriginId={}));b.nameToId=l;b.idToName=p;b.readableNameToId=function(a){return l(a)};b.idToReadableName=function(a){return p(a)};b.writableNameToId=function(a){return l(a)};b.idToWritableName=function(a){return p(a)}})},"esri/core/accessorSupport/Store":function(){define(["require","exports","./PropertyOrigin"],function(a,b,l){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(){this._values=
{}}a.prototype.get=function(a){return this._values[a]};a.prototype.originOf=function(a){return l.OriginId.USER};a.prototype.keys=function(){return Object.keys(this._values)};a.prototype.set=function(a,b){this._values[a]=b};a.prototype.clear=function(a){delete this._values[a]};a.prototype.has=function(a){return a in this._values};return a}();b.default=a})},"esri/core/accessorSupport/introspection":function(){define("require exports ../object ./ensureType ./extensions ./metadata ./utils ./decorators/cast".split(" "),
function(a,b,l,p,r,h,n,f){Object.defineProperty(b,"__esModule",{value:!0});var u=Object.prototype.hasOwnProperty,m=/^_([a-zA-Z0-9]+)(Getter|Setter|Reader|Writer|Caster)$/,e={Getter:"get",Setter:"set",Reader:"json.read.reader",Writer:"json.write.writer",Caster:"cast"},g=/^_(set|get)([a-zA-Z0-9]+)Attr$/;b.processPrototype=function(a){for(var b=a.declaredClass,c=a.properties||{},f=0,q=Object.getOwnPropertyNames(c);f<q.length;f++){var t=q[f],v=c[t],y=typeof v;null==v?h.setPropertyMetadata(a,t,{value:v}):
Array.isArray(v)?h.setPropertyMetadata(a,t,{type:[v[0]],value:null}):"object"===y?n.getProperties(v)||v instanceof Date?h.setPropertyMetadata(a,t,{type:v.constructor,value:v}):h.setPropertyMetadata(a,t,v):"boolean"===y?h.setPropertyMetadata(a,t,{type:Boolean,value:v}):"string"===y?h.setPropertyMetadata(a,t,{type:String,value:v}):"number"===y?h.setPropertyMetadata(a,t,{type:Number,value:v}):"function"===y&&h.setPropertyMetadata(a,t,{type:v,value:null})}f=0;for(q=Object.getOwnPropertyNames(a);f<q.length;f++){var y=
q[f],v=a[y],c=t=void 0,x=m.exec(y);if(x)t=x[1],c=e[x[2]];else if(x=g.exec(y))t=x[2][0].toLowerCase()+x[2].substr(1),c=x[1].toLowerCase();t&&c&&(t=h.getPropertyMetadata(a,t),l.setDeepValue(c,v,t))}f=0;for(q=Object.getOwnPropertyNames(h.getPropertiesMetadata(a));f<q.length;f++)if(t=q[f],v=h.getPropertyMetadata(a,t),c=v.type,y=v.types,void 0===v.value&&u.call(a,t)&&(v.value=a[t]),!v.cast&&c){t=v;v=0;for(y=c;Array.isArray(y)&&1===y.length&&"string"!==typeof y[0]&&"number"!==typeof y[0];)y=y[0],v++;c=
p.isOneOf(y)?0===v?p.ensureOneOf(y):p.ensureNArrayTyped(p.ensureOneOf(y),v):1===v?p.ensureArray(y):1<v?p.ensureNArray(y,v):p.ensureType(c);t.cast=c}else!v.cast&&y&&(Array.isArray(y)?v.cast=p.ensureArrayTyped(p.ensureOneOfType(y[0])):v.cast=p.ensureOneOfType(y));r.processPrototypeMetadatas(h.getPropertiesMetadata(a),b);return h.getPropertiesMetadata(a)};b.processClass=function(a){for(var b=a.prototype,c=b.declaredClass,e=a._meta.bases,g={},t=e.length-1;0<=t;t--)h.merge(g,h.getMetadata(e[t].prototype));
var m=g.properties;r.processClassMetadatas(m,c);Object.defineProperty(a,"__accessorMetadata__",{value:{properties:m,autoDestroy:!!g.autoDestroy}});for(var l={},c=function(a){var b=m[a];l[a]={enumerable:!0,configurable:!0,get:function(){return this.__accessor__?this.__accessor__.get(a):b.value},set:function(c){var d=this.__accessor__;if(!d)Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:c});else if(!Object.isFrozen(this)){if(d.initialized&&b.readOnly)throw new TypeError("[accessor] cannot assign to read-only property '"+
a+"' of "+this.declaredClass);if(2===d.lifecycle&&b.constructOnly)throw new TypeError("[accessor] cannot assign to construct-only property '"+a+"' of "+this.declaredClass);d.set(a,c)}}}},e=0,t=Object.getOwnPropertyNames(m);e<t.length;e++)c(t[e]);Object.defineProperties(a.prototype,l);if(g.parameters)for(a=0,c=Object.getOwnPropertyNames(g.parameters);a<c.length;a++)e=c[a],t=Object.getOwnPropertyDescriptor(b,e)||{value:b[e]},(t=f.autocastMethod(b,e,t))&&Object.defineProperty(b,e,t);return g}})},"esri/core/accessorSupport/metadata":function(){define(["require",
"exports","./utils"],function(a,b,l){function p(a){return null!=a.__accessorMetadata__}function r(a){return p(a)&&null!=h(a).properties}function h(a){a.__accessorMetadata__||Object.defineProperty(a,"__accessorMetadata__",{value:{},enumerable:!0,configurable:!0,writable:!0});return a.__accessorMetadata__}function n(a){a=h(a);var b=a.properties;b||(b=a.properties={});return b}function f(a,b){var c=h(a);a=c.parameters;a||(a=c.parameters={});c=a[b];c||(c=[],a[b]=c);return c}function u(a){return e.test(a)?
"replace":"merge"}function m(a){return g.test(a)?u(a.slice(11)):"merge"}Object.defineProperty(b,"__esModule",{value:!0});b.hasMetadata=p;b.hasPropertiesMetadata=r;b.hasPropertyMetadata=function(a,b){return r(a)&&null!=n(a)[b]};b.hasParametersMetadata=function(a,b){return p(a)&&null!=h(a).parameters&&null!=h(a).parameters[b]};b.getMetadata=h;b.getPropertiesMetadata=n;b.getPropertyMetadata=function(a,b){a=n(a);var c=a[b];c||(c=a[b]={});return c};b.setPropertyMetadata=function(a,b,k){n(a)[b]=k};b.getParametersMetadata=
f;b.getParameterMetadata=function(a,b,k){var c=f(a,b)[k];c||(f(a,b)[k]=c={index:k});return c};b.merge=function(a,b){return l.merge(a,b,m)};b.mergeProperty=function(a,b){return l.merge(a,b,u)};var e=/^[^.]+\.(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/,g=/^properties\./})},"esri/core/accessorSupport/decorators/cast":function(){define(["require","exports","../ensureType","../metadata"],function(a,b,l,p){function r(a){var b="_meta"in a?l.ensureType(a):a;return function(){for(var a=[],c=
0;c<arguments.length;c++)a[c]=arguments[c];a.push(b);return"number"===typeof a[2]?n.apply(this,a):h.apply(this,a)}}function h(a,b,g,c){p.getPropertyMetadata(a,b).cast=c}function n(a,b,g,c){p.getParameterMetadata(a,b,g).cast=c}function f(a){return function(b,g,c){p.getPropertyMetadata(b,a).cast=b[g]}}Object.defineProperty(b,"__esModule",{value:!0});var u=Object.prototype.toString;b.autocastMethod=function(a,b,g){if(p.hasParametersMetadata(a,b)){var c=p.getParametersMetadata(a,b).filter(function(a){return null!=
a.cast});if(c.length){var d=g.value;g.value=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(b=0;b<c.length;b++){var e=c[b];a[e.index]=e.cast(a[e.index])}return d.apply(this,a)};return g}console.warn("Method "+a.declaredClass+"::"+b+" is decorated with @cast but no parameters are decorated")}};b.cast=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(3!==a.length||"string"!==typeof a[1]){if(1===a.length&&"[object Function]"===u.call(a[0]))return r(a[0]);
if(1===a.length&&"string"===typeof a[0])return f(a[0])}}})},"esri/core/accessorSupport/watch":function(){define("require exports ../ArrayPool ../lang ../ObjectPool ../scheduling ./get ./utils ./wire".split(" "),function(a,b,l,p,r,h,n,f,u){function m(a){t.has(a)?v.splice(v.indexOf(a),1):t.add(a);v.push(a);y||(y=h.schedule(g))}function e(a){if(!a.removed){var b=a.callback,c=a.path,d=a.oldValue,k=a.target,e=n.valueOf(k,a.propertyPath,!0);p.equals(d,e)||(a.oldValue=e,b.call(k,e,d,c,k))}}function g(){if(y){y=
null;var a=v;v=q.acquire();t.clear();for(var b=q.acquire(),c=0;c<a.length;c++){var d=a[c];e(d);d.removed&&b.push(d)}for(c=0;c<v.length;c++)d=v[c],d.removed&&(b.push(d),t.delete(d),v.splice(c,1),--c);for(c=0;c<b.length;c++)w.pool.release(b[c]);q.release(a);q.release(b);x.forEach(function(a){return a()})}}function c(a,b,c){var d=f.parse(a,b,c,function(a,b,c){var k=n.valueOf(a,b,!0),e,g=u.wire(a,b,function(a,b){a.__accessor__.destroyed?d.remove():(e||(e=w.pool.acquire(a,b,k,c),k=null),m(e))});return{remove:f.once(function(){g.remove();
e&&(e.removed=!0,m(e),e=null);d=g=k=null})}});return d}function d(a,b,c){var d=f.parse(a,b,c,function(a,b,c){var k=n.valueOf(a,b,!0),e=!1;return u.wire(a,b,function(a,b){if(a.__accessor__.destroyed)d.remove();else if(!e){e=!0;var g=n.valueOf(a,b,!0);p.equals(k,g)||c.call(a,g,k,b,a);k=n.valueOf(a,b,!0);e=!1}})});return d}function k(a,b,k,e){void 0===e&&(e=!1);return!a.__accessor__||a.__accessor__.destroyed?{remove:function(){}}:e?d(a,b,k):c(a,b,k)}Object.defineProperty(b,"__esModule",{value:!0});var w=
function(){function a(a,b,c,d){this.target=a;this.path=b;this.oldValue=c;this.callback=d;this.removed=!1;this.propertyPath=f.pathToStringOrArray(b)}a.prototype.release=function(){this.target=this.path=this.propertyPath=this.callback=this.oldValue=null;this.removed=!0};a.pool=new r(a,!0);return a}(),q=new l,t=new Set,v=q.acquire(),y;b.dispatchTarget=function(a){for(var b=q.copy(v),c=0;c<b.length;c++){var d=b[c];d.target===a&&(e(d),t.delete(d),v.splice(v.indexOf(d),1))}};b.removeTarget=function(a){for(var b=
0;b<v.length;b++){var c=v[b];c.target===a&&(c.removed=!0)}};b.dispatch=g;var x=new Set;b.afterDispatch=function(a){x.add(a);return{remove:function(){x.delete(a)}}};b.watch=k;b.isValueInUse=function(a){return v.some(function(b){return b.oldValue===a})};b.default=k})},"esri/core/scheduling":function(){define(["require","exports","./nextTick","./now","./requestAnimationFrame"],function(a,b,l,p,r){function h(a){void 0===a&&(a=b.now());b.debug.rafId=null;0<y.length&&(b.debug.rafId=n());if(0<c){var k=a-
c;w=Math.min(k,w);if(k<d)return}b.debug.executeFrameTasks(a)}function n(){return b.debug.requestNextFrame?b.debug.requestNextFrame(m):m()}function f(){for(var a=0;a<y.length;){var b=y[a];a++;if(b.removed){y.splice(a-1,1);for(var c=0;c<t.length;c++){var d=t[c];if(b.phases[d]){var d=x[d],k=d.indexOf(b);-1!==k&&d.splice(k,1)}}}}}function u(){for(;v.length;){var a=v.shift();a.isActive&&(a.isActive=!1,a.callback())}b.debug.willDispatch=!1}function m(){return r(h)}Object.defineProperty(b,"__esModule",{value:!0});
b.now=p;var e=function(){return function(a){this.phases=a;this.paused=!1;this.pausedAt=0;this.epoch=-1;this.dt=0;this.ticks=-1;this.removed=!1}}(),g=function(){function a(a){this.callback=a;this.isActive=!0}a.prototype.remove=function(){this.isActive=!1};return a}(),c=-1,d=0,k=0,w=Number.POSITIVE_INFINITY,q={time:0,deltaTime:0,tickTime:0,elapsedFrameTime:0,frameDuration:0,spendInTask:0},t=["prepare","preRender","render","postRender","update"],v=[],y=[],x={prepare:[],preRender:[],render:[],postRender:[],
update:[]},D=function(){function a(a){this._task=a}a.prototype.remove=function(){this._task.removed=!0};a.prototype.pause=function(){this._task.paused||(this._task.paused=!0,this._task.pausedAt=b.now())};a.prototype.resume=function(){this._task.paused&&(this._task.paused=!1,-1!==this._task.epoch&&(this._task.epoch+=b.now()-this._task.pausedAt))};return a}();b.FrameTaskHandle=D;b.debug={frameTasks:y,rafId:null,requestNextFrame:null,willDispatch:!1,clearFrameTasks:function(a){void 0===a&&(a=!1);for(var b=
0;b<y.length;b++)y[b].removed=!0;a&&f()},dispatch:u,executeFrameTasks:function(a){void 0===a&&(a=b.now());0>c&&(c=a);var d=a-c,e=0<k?k:w,g=Math.max(0,d-e);c=a;for(var h=0;h<y.length;h++){var v=y[h];-1!==v.epoch&&(v.dt=d)}for(h=0;h<t.length;h++)for(var d=t[h],l=x[d],m=0;m<l.length;m++)v=l[(m+E)%l.length],v.paused||v.removed||(0===h&&v.ticks++,-1===v.epoch&&(v.epoch=a),q.time=a,q.deltaTime=v.dt,q.tickTime=Math.min(w,33),q.elapsedFrameTime=b.now()-a,q.frameDuration=e-g,q.spendInTask=a-v.epoch,v.phases[d].call(v,
q));f();++E}};b.schedule=function(a){a=new g(a);v.push(a);b.debug.willDispatch||(b.debug.willDispatch=!0,l(u));return a};b.addFrameTask=function(a){var d=new e(a);y.push(d);for(var k=0,g=t;k<g.length;k++){var q=g[k];a[q]&&x[q].push(d)}b.debug.rafId||(c=-1,b.debug.rafId=n());return new D(d)};b.setFrameRate=function(a){if(0>=a)k=d=0;else{var b=1.05*w;a=Math.ceil(1E3/a/b);d=(a-1)*b;k=a*w}};var E=0;b.requestNextFrame=n})},"esri/core/requestAnimationFrame":function(){define(["require","exports","./global",
"./now"],function(a,b,l,p){var r=p();a=l.requestAnimationFrame;if(!a){b=["ms","moz","webkit","o"];for(var h=0;h<b.length&&!a;++h)a=l[b[h]+"RequestAnimationFrame"];a||(a=function(a){var b=p(),h=Math.max(0,16-(b-r)),m=l.setTimeout(function(){a(p())},h);r=b+h;return m})}return a})},"esri/core/accessorSupport/decorators":function(){define("require exports ./decorators/aliasOf ./decorators/autoDestroy ./decorators/cast ./decorators/declared ./decorators/enumeration ./decorators/property ./decorators/reader ./decorators/shared ./decorators/subclass ./decorators/writer".split(" "),
function(a,b,l,p,r,h,n,f,u,m,e,g){function c(a){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])}Object.defineProperty(b,"__esModule",{value:!0});c(l);c(p);c(r);c(h);c(n);c(f);c(u);c(m);c(e);c(g)})},"esri/core/accessorSupport/decorators/aliasOf":function(){define(["require","exports","../metadata"],function(a,b,l){Object.defineProperty(b,"__esModule",{value:!0});b.aliasOf=function(a){return function(b,h){l.getPropertyMetadata(b,h).aliasOf=a}}})},"esri/core/accessorSupport/decorators/autoDestroy":function(){define(["require",
"exports","../metadata"],function(a,b,l){Object.defineProperty(b,"__esModule",{value:!0});b.autoDestroy=function(){return function(a,b,h){l.getMetadata(a).autoDestroy=!0;return a[b]}}})},"esri/core/accessorSupport/decorators/declared":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.declared=function(a){for(var b=[],l=1;l<arguments.length;l++)b[l-1]=arguments[l];l=function(){return this||{}};l.__bases__=[a].concat(b);return l}})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["require",
"exports","../../kebabDictionary","./property"],function(a,b,l,p){function r(a){return p.property({type:a})}Object.defineProperty(b,"__esModule",{value:!0});b.enumeration=r;(function(a){a.serializable=function(){return function(a){a=a instanceof l.KebabDictionary?a:new l.KebabDictionary(a,{ignoreUnknown:!0});return p.property({type:a.apiValues,json:{type:a.jsonValues,read:{reader:a.read},write:{writer:a.write}}})}}})(r=b.enumeration||(b.enumeration={}))})},"esri/core/kebabDictionary":function(){define(["require",
"exports"],function(a,b){function l(a,b){void 0===b&&(b={});return new p(a,b)}var p=function(){function a(a,b){void 0===b&&(b={ignoreUnknown:!1});var f=this;this.jsonToAPI=a;this.options=b;this.apiValues=[];this.jsonValues=[];this.apiToJSON=this.invertMap(a);this.apiValues=this.getKeysSorted(this.apiToJSON);this.jsonValues=this.getKeysSorted(this.jsonToAPI);this.read=function(a){return f.fromJSON(a)};this.write=function(a,b,e){a=f.toJSON(a);void 0!==a&&(b[e]=a)}}a.prototype.toJSON=function(a){return this.apiToJSON.hasOwnProperty(a)?
this.apiToJSON[a]:this.options.ignoreUnknown?void 0:a};a.prototype.fromJSON=function(a){return this.jsonToAPI.hasOwnProperty(a)?this.jsonToAPI[a]:this.options.ignoreUnknown?void 0:a};a.prototype.invertMap=function(a){var b={},f;for(f in a)b[a[f]]=f;return b};a.prototype.getKeysSorted=function(a){var b=[],f;for(f in a)b.push(f);b.sort();return b};return a}();(function(a){a.strict=function(){return function(b){return new a.KebabDictionary(b,{ignoreUnknown:!0})}};a.KebabDictionary=p})(l||(l={}));return l})},
"esri/core/accessorSupport/decorators/property":function(){define("require exports ../../has ../../lang ../../Logger ../metadata".split(" "),function(a,b,l,p,r,h){Object.defineProperty(b,"__esModule",{value:!0});r.getLogger("esri.core.accessorSupport.decorators.property");b.property=function(a){void 0===a&&(a={});return function(b,l){var f=b.constructor.prototype;f!==Function.prototype&&((b=Object.getOwnPropertyDescriptor(b,l))&&(b.get||b.set)?(a=p.clone(a),b.set&&(a.set=b.set),b.get&&(a.get=b.get)):
b&&b.hasOwnProperty("value")&&(a=p.clone(a),a.value=b.value),l=h.getPropertyMetadata(f,l),h.mergeProperty(l,a))}};b.propertyJSONMeta=function(a,b,l){a=h.getPropertyMetadata(a.constructor.prototype,l);a.json||(a.json={});a=a.json;void 0!==b&&(a.origins||(a.origins={}),a.origins[b]||(a.origins[b]={}),a=a.origins[b]);return a}})},"esri/core/accessorSupport/decorators/reader":function(){define(["require","exports","../../object","./property"],function(a,b,l,p){Object.defineProperty(b,"__esModule",{value:!0});
b.reader=function(a,b,n){var f,h;void 0===b||Array.isArray(b)?(h=a,n=b,f=[void 0]):(h=b,f=Array.isArray(a)?a:[a]);return function(a,b,g){var c=a.constructor.prototype;f.forEach(function(d){d=p.propertyJSONMeta(a,d,h);d.read&&"object"!==typeof d.read&&(d.read={});l.setDeepValue("read.reader",c[b],d);n&&(d.read.source=(d.read.source||[]).concat(n))})}}})},"esri/core/accessorSupport/decorators/shared":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});
b.shared=function(a){return function(b,l){b[l]=a}}})},"esri/core/accessorSupport/decorators/subclass":function(){define(["require","exports","../../declare","../metadata"],function(a,b,l,p){function r(a,b){a.read&&("function"===typeof a.read?b.push(a.read):"object"===typeof a.read&&a.read.reader&&b.push(a.read.reader))}function h(a,b){a.write&&("function"===typeof a.write?b.push(a.write):"object"===typeof a.write&&a.write.writer&&b.push(a.write.writer))}function n(a){var b=[];a=p.getPropertiesMetadata(a.prototype);
if(!a)return b;for(var c in a){var d=a[c];d.cast&&b.push(d.cast);d.copy&&b.push(d.copy);if(d=d.json)if(r(d,b),h(d,b),d=d.origins)for(var k in d){var e=d[k];r(e,b);h(e,b)}}return b}function f(a){var b={values:{},descriptors:{}},c=["__bases__"],d=p.getPropertiesMetadata(a.prototype),k=n(a);Object.getOwnPropertyNames(a.prototype).filter(function(b){return-1!==c.indexOf(b)||d&&d.hasOwnProperty(b)||!m(Object.getOwnPropertyDescriptor(a.prototype,b))&&-1!==k.indexOf(a.prototype[b])?!1:!0}).forEach(function(c){var d=
Object.getOwnPropertyDescriptor(a.prototype,c);m(d)?b.descriptors[c]=d:b.values[c]=a.prototype[c]});return b}function u(a){var b=Object.getOwnPropertyNames(a),c=Object.getPrototypeOf(a.prototype).constructor,d=Object.getOwnPropertyNames(Function);d.push("__bases__");var k=Object.getOwnPropertyNames(c),e={values:{},descriptors:{}};b.filter(function(b){return-1!==d.indexOf(b)?!1:-1===k.indexOf(b)||c[b]!==a[b]?!0:!1}).forEach(function(b){var c=Object.getOwnPropertyDescriptor(a,b);m(c)?e.descriptors[b]=
c:e.values[b]=a[b]});return e}function m(a){return a&&!(!a.get&&!a.set)}Object.defineProperty(b,"__esModule",{value:!0});b.subclass=function(a){return function(b){var c=f(b),d=u(b);null!=a&&(c.values.declaredClass=a);b=l(b.__bases__,c.values);Object.defineProperties(b.prototype,c.descriptors);for(var k in d.values)b[k]=d.values[k];Object.defineProperties(b,d.descriptors);return b}}})},"esri/core/accessorSupport/decorators/writer":function(){define(["require","exports","../../object","./property"],
function(a,b,l,p){Object.defineProperty(b,"__esModule",{value:!0});b.writer=function(a,b,n){var f,h;void 0===b?(h=a,f=[void 0]):"string"!==typeof b?(h=a,f=[void 0],n=b):(h=b,f=Array.isArray(a)?a:[a]);return function(a,b,g){var c=a.constructor.prototype;f.forEach(function(d){d=p.propertyJSONMeta(a,d,h);d.write&&"object"!==typeof d.write&&(d.write={});n&&l.setDeepValue("write.target",n,d);l.setDeepValue("write.writer",c[b],d)})}}})},"esri/core/accessorSupport/read":function(){define("require exports ../tsSupport/assignHelper ./get ./utils ./extensions/serializableProperty".split(" "),
function(a,b,l,p,r,h){function n(a,b,e){void 0===e&&(e=f);if(b&&"object"===typeof b){for(var g=r.getProperties(a),c=g.metadatas,d={},k=0,w=Object.getOwnPropertyNames(b);k<w.length;k++){var q=d,t=c,v=w[k],l=b,m=e,n=h.originSpecificReadPropertyDefinition(t[v],m);n&&(!n.read||!1!==n.read.enabled&&!n.read.source)&&(q[v]=!0);for(var u=0,H=Object.getOwnPropertyNames(t);u<H.length;u++){var L=H[u],n=h.originSpecificReadPropertyDefinition(t[L],m),I;a:{I=v;var z=l;if(n&&n.read&&!1!==n.read.enabled&&n.read.source)if(n=
n.read.source,"string"===typeof n){if(n===I||-1<n.indexOf(".")&&0===n.indexOf(I)&&p.exists(n,z)){I=!0;break a}}else for(var A=0;A<n.length;A++){var B=n[A];if(B===I||-1<B.indexOf(".")&&0===B.indexOf(I)&&p.exists(B,z)){I=!0;break a}}I=!1}I&&(q[L]=!0)}}g.setDefaultOrigin(e.origin);w=0;for(q=Object.getOwnPropertyNames(d);w<q.length;w++)k=q[w],v=(t=h.originSpecificReadPropertyDefinition(c[k],e).read)&&t.source,l=void 0,l=v&&"string"===typeof v?p.valueOf(b,v):b[k],t&&t.reader&&(l=t.reader.call(a,l,b,e)),
void 0!==l&&g.set(k,l);if(!e||!e.ignoreDefaults)for(b=0,c=Object.getOwnPropertyNames(c);b<c.length;b++)k=c[b],d[k]||(w=a,q=g,t=e,v=(v=h.originSpecificReadPropertyDefinition(q.metadatas[k],t))&&v.default,void 0!==v&&(w="function"===typeof v?v.call(w,k,t):v,void 0!==w&&q.set(k,w)));g.setDefaultOrigin("user")}}Object.defineProperty(b,"__esModule",{value:!0});var f={origin:"service"};b.read=n;b.readLoadable=function(a,b,e,g){void 0===g&&(g=f);b=l({},g,{messages:[]});e(b);b.messages.forEach(function(b){"warning"!==
b.type||a.loaded?g&&g.messages.push(b):a.loadWarnings.push(b)})};b.default=n})},"esri/core/accessorSupport/write":function(){define("require exports ../arrayUtils ../Error ../Logger ./PropertyOrigin ./utils ./extensions/serializableProperty".split(" "),function(a,b,l,p,r,h,n,f){function u(a,b,d,k,f,q){if(!k||!k.write)return!1;var c=a.get(d);if(!f&&k.write.overridePolicy){var g=k.write.overridePolicy.call(a,c,d,q);void 0!==g&&(f=g)}f||(f=k.write);if(!f||!1===f.enabled)return!1;if((null===c&&!f.allowNull||
void 0===c)&&f.isRequired)return(c=new p("web-document-write:property-required","Missing value for required property '"+d+"' on '"+a.declaredClass+"'",{propertyName:d,target:a}),q)&&q.messages?q.messages.push(c):c&&!q&&e.error(c.name,c.message),!1;if(void 0===c||null===c&&!f.allowNull||!f.ignoreOrigin&&q&&q.origin&&b.store.originOf(d)<h.nameToId(q.origin))return!1;b=k.default;void 0===b?q=!1:"function"===typeof b?Array.isArray(c)?(q=b.call(a,d,q),q=l.equals(q,c)):q=!1:q=b===c;return q?!1:!0}function m(a,
b,d){if(a&&"function"===typeof a.toJSON&&(!a.toJSON.isDefaultToJSON||!a.write))return n.merge(b,a.toJSON());var c=n.getProperties(a),e=c.metadatas,q;for(q in e){var g=f.originSpecificWritePropertyDefinition(e[q],d);if(u(a,c,q,g,null,d)){var l=a.get(q),m={};g.write.writer.call(a,l,m,"string"===typeof g.write.target?g.write.target:q,d);g=m;0<Object.keys(g).length&&(b=n.merge(b,g),d&&d.writtenProperties&&d.writtenProperties.push({target:a,propName:q,oldOrigin:h.idToReadableName(c.store.originOf(q)),
newOrigin:d.origin}))}}return b}Object.defineProperty(b,"__esModule",{value:!0});var e=r.getLogger("esri.core.accessorSupport.write");b.willPropertyWrite=function(a,b,d,k){var c=n.getProperties(a),e=f.originSpecificWritePropertyDefinition(c.metadatas[b],k);return e?u(a,c,b,e,d,k):!1};b.write=m;b.default=m})},"esri/core/arrayUtils":function(){define(["require","exports","@dojo/framework/shim/array","./RandomLCG"],function(a,b,l,p){function r(a,b,k,g){void 0===k&&(k=a.length);g=g||e;for(var c=Math.max(0,
g.last-10),d=-1,f=c;f<k;++f)if(a[f]===b){d=f;break}if(-1===d){for(f=0;f<c;++f)if(a[f]===b){d=f;break}if(-1===d)return}a[d]=a[k-1];a.pop();g.last=d;return b}function h(a,b,k,e){void 0===k&&(k=a.length);var c=[];b.forEach(function(b){void 0!==r(a,b,k,e)&&(c.push(b),--k)});return c}function n(a,b){return-1===a.indexOf(b)}function f(a,b,k){return!a.some(b.bind(null,k))}function u(a){return a}Object.defineProperty(b,"__esModule",{value:!0});b.find=l.find;b.findIndex=l.findIndex;b.unique=function(a){return a.filter(function(a,
b,c){return c.indexOf(a)===b})};b.equals=function(a,b,k){if(!a&&!b)return!0;if(!a||!b||a.length!==b.length)return!1;if(k)for(var c=0;c<a.length;c++){if(!k(a[c],b[c]))return!1}else for(c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0};b.difference=function(a,b,k){var c;k?(c=b.filter(f.bind(null,a,k)),a=a.filter(f.bind(null,b,k))):(c=b.filter(n.bind(null,a)),a=a.filter(n.bind(null,b)));return{added:c,removed:a}};b.intersect=function(a,d,k){return a&&d?k?a.filter(function(a){return-1<b.findIndex(d,
function(b){return k(a,b)})}):a.filter(function(a){return-1<d.indexOf(a)}):[]};b.constant=function(a,b){for(var c=Array(a),d=0;d<a;d++)c[d]=b;return c};b.range=function(a,b){void 0===b&&(b=a,a=0);for(var c=Array(b-a),d=a;d<b;d++)c[d-a]=d;return c};b.binaryIndexOf=function(a,b,k){for(var c=a.length,d=0,e=c-1;d<e;){var g=d+Math.floor((e-d)/2);b>a[g]?d=g+1:e=g}e=a[d];return k?b>=a[c-1]?-1:e===b?d:d-1:e===b?d:-1};b.concatAll=function(a){return a.reduce(function(a,b){return a.concat(b||[])},[])};var m=
function(){return function(){this.last=0}}();b.RemoveHint=m;var e=new m;a=function(){return function(a){var b=this;this._array=a;this._hint=new m;this.remove=function(a){return r(b._array,a,b._array.length,b._hint)};this.removeMany=function(a){return h(b._array,a,b._array.length,b._hint)}}}();b.UnorderedRemover=a;b.removeUnordered=r;b.removeUnorderedMany=h;b.shuffle=function(a,b){b=(g.seed=b)?function(){return g.getFloat()}:Math.random;for(var c=a.length-1;0<c;c--){var d=Math.floor(b()*(c+1)),e=a[c];
a[c]=a[d];a[d]=e}return a};var g=new p;b.keysOfMap=function(a){var b=[];a.forEach(function(a,c){return b.push(c)});return b};b.keysOfSet=function(a,b){void 0===b&&(b=u);var c=[];a.forEach(function(a){return c.push(b(a))});return c};b.fromMapValues=function(a){if(Array.from)return Array.from(a.values());var b=Array(a.size),c=0;a.forEach(function(a){b[c++]=a});return b}})},"esri/core/RandomLCG":function(){define(["require","exports"],function(a,b){return function(){function a(a){void 0===a&&(a=1);this._seed=
a}Object.defineProperty(a.prototype,"seed",{set:function(b){this._seed=null==b?Math.random()*a._m:b},enumerable:!0,configurable:!0});a.prototype.getInt=function(){return this._seed=(a._a*this._seed+a._c)%a._m};a.prototype.getFloat=function(){return this.getInt()/(a._m-1)};a.prototype.getIntRange=function(a,b){return Math.round(this.getFloatRange(a,b))};a.prototype.getFloatRange=function(b,l){l-=b;var h=this.getInt()/a._m;return b+Math.floor(h*l)};a._m=2147483648;a._a=1103515245;a._c=12345;return a}()})},
"esri/geometry/support/spatialReferenceUtils":function(){define(["require","exports","./WKIDUnitConversion"],function(a,b,l){function p(a){return r(a)&&!0===h[a.wkid]}function r(a){return null!=a&&(null!=a.wkid&&2E3<=a.wkid||null!=a.wkt)}Object.defineProperty(b,"__esModule",{value:!0});var h={102113:!0,102100:!0,3857:!0,3785:!0},n={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0};a=[-2.0037508342788905E7,2.0037508342788905E7];var f=[-2.0037508342787E7,2.0037508342787E7],u={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
valid:a,origin:f,dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:a,origin:f,
dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:a,origin:f,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
valid:a,origin:f,dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,180],dx:1E-5}};b.equals=function(a,b){return a&&b?a===b?!0:null!=a.wkid||null!=b.wkid?a.wkid===b.wkid||p(a)&&p(b)||null!=b.latestWkid&&a.wkid===b.latestWkid||null!=a.latestWkid&&b.wkid===a.latestWkid:a.wkt&&b.wkt?a.wkt.toUpperCase()===b.wkt.toUpperCase():!1:!1};b.getInfo=function(a){return r(a)&&a.wkid?u[a.wkid]:null};b.isGeographic=function(a){return r(a)?a.wkid?null==l[a.wkid]:a.wkt?!!/^\s*GEOGCS/i.test(a.wkt):!1:!1};b.isWGS84=function(a){return r(a)&&4326===a.wkid};
b.isWebMercator=p;b.isWrappable=function(a){return r(a)&&!0===n[a.wkid]};b.isValid=r})},"esri/geometry/support/WKIDUnitConversion":function(){define([],function(){var a,b={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.116756,5E4,15E4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),
2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:13,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,
3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,
3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,
3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,
5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,
6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,
6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,
6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,
6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,
7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,
7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8058:0,8059:0,8082:0,8083:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,
8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,
8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,
8682:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,
28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:14,102069:15,102118:2,102119:1,
102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,
103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,
103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,
103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,
103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103695:2};for(a=2E3;2045>=a;a++)b[a]=0;for(a=2056;2065>=a;a++)b[a]=0;for(a=2067;2135>=a;a++)b[a]=0;for(a=2137;2154>=a;a++)b[a]=0;for(a=2161;2170>=a;a++)b[a]=0;for(a=2172;2193>=a;a++)b[a]=0;for(a=2195;2198>=a;a++)b[a]=0;for(a=2200;2203>=a;a++)b[a]=0;for(a=2205;2217>=a;a++)b[a]=0;for(a=2222;2224>=a;a++)b[a]=1;for(a=2225;2250>=a;a++)b[a]=2;for(a=2251;2253>=a;a++)b[a]=1;for(a=2257;2264>=a;a++)b[a]=2;for(a=2274;2279>=a;a++)b[a]=2;for(a=2280;2282>=
a;a++)b[a]=1;for(a=2283;2289>=a;a++)b[a]=2;for(a=2290;2292>=a;a++)b[a]=0;for(a=2308;2313>=a;a++)b[a]=0;for(a=2315;2491>=a;a++)b[a]=0;for(a=2494;2866>=a;a++)b[a]=0;for(a=2867;2869>=a;a++)b[a]=1;for(a=2870;2888>=a;a++)b[a]=2;for(a=2891;2895>=a;a++)b[a]=2;for(a=2896;2898>=a;a++)b[a]=1;for(a=2902;2908>=a;a++)b[a]=2;for(a=2915;2920>=a;a++)b[a]=2;for(a=2921;2923>=a;a++)b[a]=1;for(a=2924;2930>=a;a++)b[a]=2;for(a=2931;2962>=a;a++)b[a]=0;for(a=2964;2968>=a;a++)b[a]=2;for(a=2969;2973>=a;a++)b[a]=0;for(a=2975;2991>=
a;a++)b[a]=0;for(a=2995;3051>=a;a++)b[a]=0;for(a=3054;3079>=a;a++)b[a]=0;for(a=3081;3088>=a;a++)b[a]=0;for(a=3092;3101>=a;a++)b[a]=0;for(a=3106;3138>=a;a++)b[a]=0;for(a=3146;3151>=a;a++)b[a]=0;for(a=3153;3166>=a;a++)b[a]=0;for(a=3168;3172>=a;a++)b[a]=0;for(a=3174;3203>=a;a++)b[a]=0;for(a=3294;3358>=a;a++)b[a]=0;for(a=3367;3403>=a;a++)b[a]=0;for(a=3408;3416>=a;a++)b[a]=0;for(a=3417;3438>=a;a++)b[a]=2;for(a=3441;3446>=a;a++)b[a]=2;for(a=3447;3450>=a;a++)b[a]=0;for(a=3451;3459>=a;a++)b[a]=2;for(a=3460;3478>=
a;a++)b[a]=0;for(a=3554;3559>=a;a++)b[a]=0;for(a=3560;3570>=a;a++)b[a]=2;for(a=3571;3581>=a;a++)b[a]=0;for(a=3594;3597>=a;a++)b[a]=0;for(a=3601;3604>=a;a++)b[a]=0;for(a=3637;3639>=a;a++)b[a]=0;for(a=3665;3667>=a;a++)b[a]=0;for(a=3693;3695>=a;a++)b[a]=0;for(a=3701;3727>=a;a++)b[a]=0;for(a=3728;3739>=a;a++)b[a]=2;for(a=3740;3751>=a;a++)b[a]=0;for(a=3753;3760>=a;a++)b[a]=2;for(a=3761;3773>=a;a++)b[a]=0;for(a=3775;3777>=a;a++)b[a]=0;for(a=3779;3781>=a;a++)b[a]=0;for(a=3783;3785>=a;a++)b[a]=0;for(a=3788;3791>=
a;a++)b[a]=0;for(a=3797;3802>=a;a++)b[a]=0;for(a=3814;3816>=a;a++)b[a]=0;for(a=3825;3829>=a;a++)b[a]=0;for(a=3832;3841>=a;a++)b[a]=0;for(a=3844;3852>=a;a++)b[a]=0;for(a=3873;3885>=a;a++)b[a]=0;for(a=3890;3893>=a;a++)b[a]=0;for(a=3907;3912>=a;a++)b[a]=0;for(a=3942;3950>=a;a++)b[a]=0;for(a=3968;3970>=a;a++)b[a]=0;for(a=3973;3976>=a;a++)b[a]=0;for(a=3986;3989>=a;a++)b[a]=0;for(a=3994;3997>=a;a++)b[a]=0;for(a=4048;4051>=a;a++)b[a]=0;for(a=4056;4063>=a;a++)b[a]=0;for(a=4093;4096>=a;a++)b[a]=0;for(a=4390;4398>=
a;a++)b[a]=0;for(a=4399;4413>=a;a++)b[a]=2;for(a=4418;4433>=a;a++)b[a]=2;for(a=4455;4457>=a;a++)b[a]=2;for(a=4484;4489>=a;a++)b[a]=0;for(a=4491;4554>=a;a++)b[a]=0;for(a=4568;4589>=a;a++)b[a]=0;for(a=4652;4656>=a;a++)b[a]=0;for(a=4766;4800>=a;a++)b[a]=0;for(a=5014;5016>=a;a++)b[a]=0;for(a=5069;5072>=a;a++)b[a]=0;for(a=5105;5130>=a;a++)b[a]=0;for(a=5173;5188>=a;a++)b[a]=0;for(a=5253;5259>=a;a++)b[a]=0;for(a=5269;5275>=a;a++)b[a]=0;for(a=5292;5311>=a;a++)b[a]=0;for(a=5329;5331>=a;a++)b[a]=0;for(a=5343;5349>=
a;a++)b[a]=0;for(a=5355;5357>=a;a++)b[a]=0;for(a=5387;5389>=a;a++)b[a]=0;for(a=5459;5463>=a;a++)b[a]=0;for(a=5479;5482>=a;a++)b[a]=0;for(a=5518;5520>=a;a++)b[a]=0;for(a=5530;5539>=a;a++)b[a]=0;for(a=5550;5552>=a;a++)b[a]=0;for(a=5562;5583>=a;a++)b[a]=0;for(a=5623;5625>=a;a++)b[a]=2;for(a=5631;5639>=a;a++)b[a]=0;for(a=5649;5653>=a;a++)b[a]=0;for(a=5663;5680>=a;a++)b[a]=0;for(a=5682;5685>=a;a++)b[a]=0;for(a=5875;5877>=a;a++)b[a]=0;for(a=5921;5940>=a;a++)b[a]=0;for(a=6050;6125>=a;a++)b[a]=0;for(a=6244;6275>=
a;a++)b[a]=0;for(a=6328;6348>=a;a++)b[a]=0;for(a=6350;6356>=a;a++)b[a]=0;for(a=6366;6372>=a;a++)b[a]=0;for(a=6381;6387>=a;a++)b[a]=0;for(a=6393;6404>=a;a++)b[a]=0;for(a=6480;6483>=a;a++)b[a]=0;for(a=6511;6514>=a;a++)b[a]=0;for(a=6579;6581>=a;a++)b[a]=0;for(a=6619;6624>=a;a++)b[a]=0;for(a=6625;6627>=a;a++)b[a]=2;for(a=6628;6632>=a;a++)b[a]=0;for(a=6634;6637>=a;a++)b[a]=0;for(a=6669;6692>=a;a++)b[a]=0;for(a=6707;6709>=a;a++)b[a]=0;for(a=6720;6723>=a;a++)b[a]=0;for(a=6732;6738>=a;a++)b[a]=0;for(a=6931;6933>=
a;a++)b[a]=0;for(a=6956;6959>=a;a++)b[a]=0;for(a=7005;7007>=a;a++)b[a]=0;for(a=7057;7070>=a;a++)b[a]=2;for(a=7074;7082>=a;a++)b[a]=0;for(a=7109;7118>=a;a++)b[a]=0;for(a=7119;7127>=a;a++)b[a]=1;for(a=7374;7376>=a;a++)b[a]=0;for(a=7528;7586>=a;a++)b[a]=0;for(a=7587;7645>=a;a++)b[a]=2;for(a=7755;7787>=a;a++)b[a]=0;for(a=7791;7795>=a;a++)b[a]=0;for(a=7799;7801>=a;a++)b[a]=0;for(a=7803;7805>=a;a++)b[a]=0;for(a=7825;7831>=a;a++)b[a]=0;for(a=7845;7859>=a;a++)b[a]=0;for(a=8013;8032>=a;a++)b[a]=0;for(a=8065;8068>=
a;a++)b[a]=1;for(a=8836;8840>=a;a++)b[a]=0;for(a=8857;8859>=a;a++)b[a]=0;for(a=20002;20032>=a;a++)b[a]=0;for(a=20062;20092>=a;a++)b[a]=0;for(a=20135;20138>=a;a++)b[a]=0;for(a=20248;20258>=a;a++)b[a]=0;for(a=20348;20358>=a;a++)b[a]=0;for(a=20436;20440>=a;a++)b[a]=0;for(a=20822;20824>=a;a++)b[a]=0;for(a=20934;20936>=a;a++)b[a]=0;for(a=21035;21037>=a;a++)b[a]=0;for(a=21095;21097>=a;a++)b[a]=0;for(a=21148;21150>=a;a++)b[a]=0;for(a=21413;21423>=a;a++)b[a]=0;for(a=21473;21483>=a;a++)b[a]=0;for(a=21780;21782>=
a;a++)b[a]=0;for(a=21891;21894>=a;a++)b[a]=0;for(a=21896;21899>=a;a++)b[a]=0;for(a=22171;22177>=a;a++)b[a]=0;for(a=22181;22187>=a;a++)b[a]=0;for(a=22191;22197>=a;a++)b[a]=0;for(a=22234;22236>=a;a++)b[a]=0;for(a=22521;22525>=a;a++)b[a]=0;for(a=22991;22994>=a;a++)b[a]=0;for(a=23028;23038>=a;a++)b[a]=0;for(a=23830;23853>=a;a++)b[a]=0;for(a=23866;23872>=a;a++)b[a]=0;for(a=23877;23884>=a;a++)b[a]=0;for(a=23886;23894>=a;a++)b[a]=0;for(a=23946;23948>=a;a++)b[a]=0;for(a=24311;24313>=a;a++)b[a]=0;for(a=24342;24347>=
a;a++)b[a]=0;for(a=24370;24374>=a;a++)b[a]=10;for(a=24375;24381>=a;a++)b[a]=0;for(a=24718;24721>=a;a++)b[a]=0;for(a=24817;24821>=a;a++)b[a]=0;for(a=24877;24882>=a;a++)b[a]=0;for(a=24891;24893>=a;a++)b[a]=0;for(a=25391;25395>=a;a++)b[a]=0;for(a=25828;25838>=a;a++)b[a]=0;for(a=26191;26195>=a;a++)b[a]=0;for(a=26391;26393>=a;a++)b[a]=0;for(a=26701;26722>=a;a++)b[a]=0;for(a=26729;26799>=a;a++)b[a]=2;for(a=26801;26803>=a;a++)b[a]=2;for(a=26811;26813>=a;a++)b[a]=2;for(a=26847;26870>=a;a++)b[a]=2;for(a=26891;26899>=
a;a++)b[a]=0;for(a=26901;26923>=a;a++)b[a]=0;for(a=26929;26946>=a;a++)b[a]=0;for(a=26948;26998>=a;a++)b[a]=0;for(a=27037;27040>=a;a++)b[a]=0;for(a=27205;27232>=a;a++)b[a]=0;for(a=27258;27260>=a;a++)b[a]=0;for(a=27391;27398>=a;a++)b[a]=0;for(a=27561;27564>=a;a++)b[a]=0;for(a=27571;27574>=a;a++)b[a]=0;for(a=27581;27584>=a;a++)b[a]=0;for(a=27591;27594>=a;a++)b[a]=0;for(a=28191;28193>=a;a++)b[a]=0;for(a=28348;28358>=a;a++)b[a]=0;for(a=28402;28432>=a;a++)b[a]=0;for(a=28462;28492>=a;a++)b[a]=0;for(a=29118;29122>=
a;a++)b[a]=0;for(a=29168;29172>=a;a++)b[a]=0;for(a=29177;29185>=a;a++)b[a]=0;for(a=29187;29195>=a;a++)b[a]=0;for(a=29900;29903>=a;a++)b[a]=0;for(a=30161;30179>=a;a++)b[a]=0;for(a=30491;30494>=a;a++)b[a]=0;for(a=30729;30732>=a;a++)b[a]=0;for(a=31251;31259>=a;a++)b[a]=0;for(a=31265;31268>=a;a++)b[a]=0;for(a=31275;31279>=a;a++)b[a]=0;for(a=31281;31297>=a;a++)b[a]=0;for(a=31461;31469>=a;a++)b[a]=0;for(a=31491;31495>=a;a++)b[a]=0;for(a=31917;31922>=a;a++)b[a]=0;for(a=31965;32E3>=a;a++)b[a]=0;for(a=32001;32003>=
a;a++)b[a]=2;for(a=32005;32031>=a;a++)b[a]=2;for(a=32033;32060>=a;a++)b[a]=2;for(a=32064;32067>=a;a++)b[a]=2;for(a=32074;32077>=a;a++)b[a]=2;for(a=32081;32086>=a;a++)b[a]=0;for(a=32107;32130>=a;a++)b[a]=0;for(a=32133;32158>=a;a++)b[a]=0;for(a=32164;32167>=a;a++)b[a]=2;for(a=32180;32199>=a;a++)b[a]=0;for(a=32201;32260>=a;a++)b[a]=0;for(a=32301;32360>=a;a++)b[a]=0;for(a=32601;32662>=a;a++)b[a]=0;for(a=32664;32667>=a;a++)b[a]=2;for(a=32701;32761>=a;a++)b[a]=0;for(a=53001;53004>=a;a++)b[a]=0;for(a=53008;53019>=
a;a++)b[a]=0;for(a=53021;53032>=a;a++)b[a]=0;for(a=53034;53037>=a;a++)b[a]=0;for(a=53042;53046>=a;a++)b[a]=0;for(a=53074;53080>=a;a++)b[a]=0;for(a=54001;54004>=a;a++)b[a]=0;for(a=54008;54019>=a;a++)b[a]=0;for(a=54021;54032>=a;a++)b[a]=0;for(a=54034;54037>=a;a++)b[a]=0;for(a=54042;54046>=a;a++)b[a]=0;for(a=54048;54053>=a;a++)b[a]=0;for(a=54074;54080>=a;a++)b[a]=0;for(a=102001;102040>=a;a++)b[a]=0;for(a=102042;102063>=a;a++)b[a]=0;for(a=102065;102067>=a;a++)b[a]=0;for(a=102070;102117>=a;a++)b[a]=0;
for(a=102122;102216>=a;a++)b[a]=0;for(a=102221;102377>=a;a++)b[a]=0;for(a=102382;102388>=a;a++)b[a]=0;for(a=102389;102398>=a;a++)b[a]=2;for(a=102399;102444>=a;a++)b[a]=0;for(a=102445;102447>=a;a++)b[a]=2;for(a=102448;102458>=a;a++)b[a]=0;for(a=102459;102468>=a;a++)b[a]=2;for(a=102469;102499>=a;a++)b[a]=0;for(a=102500;102519>=a;a++)b[a]=1;for(a=102520;102524>=a;a++)b[a]=0;for(a=102525;102529>=a;a++)b[a]=2;for(a=102530;102588>=a;a++)b[a]=0;for(a=102590;102598>=a;a++)b[a]=0;for(a=102601;102603>=a;a++)b[a]=
0;for(a=102605;102628>=a;a++)b[a]=0;for(a=102629;102646>=a;a++)b[a]=2;for(a=102648;102700>=a;a++)b[a]=2;for(a=102701;102703>=a;a++)b[a]=0;for(a=102707;102730>=a;a++)b[a]=2;for(a=102733;102758>=a;a++)b[a]=2;for(a=102767;102900>=a;a++)b[a]=0;for(a=102965;102969>=a;a++)b[a]=0;for(a=102971;102973>=a;a++)b[a]=0;for(a=102975;102989>=a;a++)b[a]=0;for(a=102990;102992>=a;a++)b[a]=1;for(a=102997;103002>=a;a++)b[a]=0;for(a=103003;103008>=a;a++)b[a]=2;for(a=103009;103011>=a;a++)b[a]=0;for(a=103012;103014>=a;a++)b[a]=
2;for(a=103019;103021>=a;a++)b[a]=0;for(a=103022;103024>=a;a++)b[a]=2;for(a=103029;103031>=a;a++)b[a]=0;for(a=103032;103034>=a;a++)b[a]=2;for(a=103065;103068>=a;a++)b[a]=0;for(a=103074;103076>=a;a++)b[a]=0;for(a=103077;103079>=a;a++)b[a]=1;for(a=103080;103082>=a;a++)b[a]=0;for(a=103083;103085>=a;a++)b[a]=2;for(a=103090;103093>=a;a++)b[a]=0;for(a=103097;103099>=a;a++)b[a]=0;for(a=103100;103102>=a;a++)b[a]=2;for(a=103107;103109>=a;a++)b[a]=0;for(a=103110;103112>=a;a++)b[a]=2;for(a=103113;103116>=a;a++)b[a]=
0;for(a=103117;103120>=a;a++)b[a]=2;for(a=103153;103157>=a;a++)b[a]=0;for(a=103158;103162>=a;a++)b[a]=2;for(a=103163;103165>=a;a++)b[a]=0;for(a=103166;103168>=a;a++)b[a]=1;for(a=103169;103171>=a;a++)b[a]=2;for(a=103186;103188>=a;a++)b[a]=0;for(a=103189;103191>=a;a++)b[a]=2;for(a=103192;103195>=a;a++)b[a]=0;for(a=103196;103199>=a;a++)b[a]=2;for(a=103200;103224>=a;a++)b[a]=0;for(a=103225;103227>=a;a++)b[a]=1;for(a=103232;103237>=a;a++)b[a]=0;for(a=103238;103243>=a;a++)b[a]=2;for(a=103244;103246>=a;a++)b[a]=
0;for(a=103247;103249>=a;a++)b[a]=2;for(a=103254;103256>=a;a++)b[a]=0;for(a=103257;103259>=a;a++)b[a]=2;for(a=103264;103266>=a;a++)b[a]=0;for(a=103267;103269>=a;a++)b[a]=2;for(a=103300;103375>=a;a++)b[a]=0;for(a=103381;103383>=a;a++)b[a]=0;for(a=103384;103386>=a;a++)b[a]=1;for(a=103387;103389>=a;a++)b[a]=0;for(a=103390;103392>=a;a++)b[a]=2;for(a=103397;103399>=a;a++)b[a]=0;for(a=103400;103471>=a;a++)b[a]=2;for(a=103476;103478>=a;a++)b[a]=0;for(a=103479;103481>=a;a++)b[a]=2;for(a=103486;103488>=a;a++)b[a]=
0;for(a=103489;103491>=a;a++)b[a]=2;for(a=103492;103495>=a;a++)b[a]=0;for(a=103496;103499>=a;a++)b[a]=2;for(a=103528;103543>=a;a++)b[a]=0;for(a=103544;103548>=a;a++)b[a]=2;for(a=103549;103551>=a;a++)b[a]=0;for(a=103552;103554>=a;a++)b[a]=1;for(a=103555;103557>=a;a++)b[a]=2;for(a=103558;103560>=a;a++)b[a]=0;for(a=103571;103573>=a;a++)b[a]=0;for(a=103574;103576>=a;a++)b[a]=2;for(a=103577;103580>=a;a++)b[a]=0;for(a=103581;103583>=a;a++)b[a]=2;for(a=103600;103694>=a;a++)b[a]=0;for(a=103700;103793>=a;a++)b[a]=
2;for(a=103794;103871>=a;a++)b[a]=0;for(a=103900;103971>=a;a++)b[a]=2;return b})},"esri/views/3d/layers/i3s/I3SGeometryUtil":function(){define("require exports ../../../../core/libs/gl-matrix-2/gl-matrix ./I3SBinaryReader ../../support/meshProcessing ../../webgl-engine/lib/Util".split(" "),function(a,b,l,p,r,h){function n(a,b,c,d,k,e,f){switch(c){case 1:for(c=0;c<f;c++)d[k]=a[b],b+=1,k+=e;break;case 2:for(c=0;c<f;c++)d[k]=a[b],d[k+1]=a[b+1],b+=2,k+=e;break;case 3:for(c=0;c<f;c++)d[k]=a[b],d[k+1]=
a[b+1],d[k+2]=a[b+2],b+=3,k+=e;break;case 4:for(c=0;c<f;c++)d[k]=a[b],d[k+1]=a[b+1],d[k+2]=a[b+2],d[k+3]=a[b+3],b+=4,k+=e;break;default:throw g("Unhandled stride size "+c);}}function f(a,b,c,d,k,e){switch(b){case 1:for(b=0;b<e;b++)c[d]=a,d+=k;break;case 2:for(b=0;b<e;b++)c[d]=a,c[d+1]=a,d+=k;break;case 3:for(b=0;b<e;b++)c[d]=a,c[d+1]=a,c[d+2]=a,d+=k;break;case 4:for(b=0;b<e;b++)c[d]=a,c[d+1]=a,c[d+2]=a,c[d+3]=a,d+=k;break;default:throw g("Unhandled stride size "+b);}}function u(a){switch(a){case 5120:return Int8Array;
case 5126:return Float32Array;case 5124:return Int32Array;case 5122:return Int16Array;case 5121:return Uint8Array;case 5125:return Uint32Array;case 5123:return Uint16Array}throw Error("Unhandled data type: "+a);}function m(a){switch(a){case 5120:return"Int8";case 5126:return"Float32";case 5124:return"Int32";case 5122:return"Int16";case 5121:return"UInt8";case 5125:return"UInt32";case 5123:return"UInt16"}throw Error("Unhandled data type: "+a);}function e(a){return 0<a&&0===a%Uint32Array.BYTES_PER_ELEMENT}
function g(a){return Error("I3SGeometryUtil processing failed: "+a)}Object.defineProperty(b,"__esModule",{value:!0});var c=new Uint8Array(64);b.interleaveGeometryBuffer=function(a,b,d,k,h){void 0===k&&(k=[]);void 0===h&&(h=[]);var q=a.params.vertexAttributes,t=q.position.count;if(!e(d[0].stride))throw g("Layout stride must use "+Uint32Array.BYTES_PER_ELEMENT+"-byte words");var l=new Uint32Array(d[0].stride/Uint32Array.BYTES_PER_ELEMENT*t);d=d.slice(0).sort(function(a,b){return a.offset-b.offset});
a=function(a){if(-1!==h.indexOf(a.name))return"continue";var d=q[a.name],w=u(a.type),v=void 0,x=!1;if(null==d)if(x=k.filter(function(b){return b.name===a.name})[0]){d={valueType:m(a.type),byteOffset:0,count:t,valuesPerElement:a.count};for(v=0;v<c.length;v++)c[v]=x.byteValue;v=c.buffer;x=!0}else throw g("Geometry definition is missing attribute");else v=b;if(m(a.type)!==d.valueType)throw g("Geometry definition type must match attribute type");if(0!==d.byteOffset%Uint32Array.BYTES_PER_ELEMENT||0!==
a.offset%Uint32Array.BYTES_PER_ELEMENT)throw g(a.name+" offset must use "+Uint32Array.BYTES_PER_ELEMENT+"-byte words");if(!e(d.valuesPerElement*w.BYTES_PER_ELEMENT)||!e(a.count*w.BYTES_PER_ELEMENT))throw g(a.name+" data must use "+Uint32Array.BYTES_PER_ELEMENT+"-byte words");var v=new Uint32Array(v),p=d.byteOffset/Uint32Array.BYTES_PER_ELEMENT,d=d.valuesPerElement*w.BYTES_PER_ELEMENT/Uint32Array.BYTES_PER_ELEMENT,w=a.offset/Uint32Array.BYTES_PER_ELEMENT,r=a.stride/Uint32Array.BYTES_PER_ELEMENT;x?
f(v[0],d,l,w,r,t):n(v,p,d,l,w,r,t)};for(var w=0;w<d.length;w++)a(d[w]);return l.buffer};b.processAndInterleaveNormals=function(a,b,c,e,g){if("none"===a){var q=g.normals,f=g.positions;b=g.normalInd;a=g.positionInd;h.assert(g.normalInd.length===g.positionInd.length);g=l.vec3f32.create();e=l.vec3f32.create();c=l.vec2f32.create();for(var t=f.data,w=f.offsetIdx,f=f.strideIdx,v=q.data,n=q.offsetIdx,q=q.strideIdx,m=0;m<a.length;m+=3){var u=a[m],u=w+f*u,r=t[u],y=t[u+1],C=t[u+2],u=a[m+1],u=w+f*u;g[0]=t[u]-
r;g[1]=t[u+1]-y;g[2]=t[u+2]-C;u=a[m+2];u=w+f*u;e[0]=t[u]-r;e[1]=t[u+1]-y;e[2]=t[u+2]-C;l.vec3.cross(g,g,e);h.encodeNormal(g,c);for(r=0;3>r;r++)y=n+q*b[m+r],v[y]=h.encodeInt16(c[0]),v[y+1]=h.encodeInt16(c[1])}}else if(b=p.createTypedView(c,b.params.vertexAttributes.normal),c=g.normals,y="earth-centered"===a?e:null,a=b.length/3,g=c.data,e=c.offsetIdx,c=c.strideIdx,null!=y)for(t=y[0],w=y[1],f=y[2],v=y[4],n=y[5],q=y[6],m=y[8],r=y[9],y=y[10],C=0;C<a;C++){var u=b[3*C],J=b[3*C+1],M=b[3*C+2];d[0]=t*u+w*J+
f*M;d[1]=v*u+n*J+q*M;d[2]=m*u+r*J+y*M;h.encodeNormal(d,k);g[e+C*c]=h.encodeInt16(k[0]);g[e+C*c+1]=h.encodeInt16(k[1])}else for(C=0;C<a;C++)d[0]=b[3*C],d[1]=b[3*C+1],d[2]=b[3*C+2],h.encodeNormal(d,k),g[e+C*c]=h.encodeInt16(k[0]),g[e+C*c+1]=h.encodeInt16(k[1])};b.extractPositionData=function(a,b,c){b=b[0];if(null==b||"position"!==b.name||5126!==b.type)return null;var d=new Float32Array(a),k=b.stride/4,e=3*d.length/k,g=new Float32Array(e);for(a=0;a<e/3;a++)g[3*a]=d[a*k+b.offset],g[3*a+1]=d[a*k+b.offset+
1],g[3*a+2]=d[a*k+b.offset+2];b=r.deduplicate(g.buffer,3);a=65536>b.uniqueCount;if(c)for(d=new (a?Uint16Array:Uint32Array)(c.length),a=0;a<c.length;a++)d[a]=b.indices[c[a]];else d=a?new Uint16Array(b.indices):b.indices;return{data:new Float32Array(b.buffer),indices:d}};var d=l.vec3f32.create(),k=l.vec2f32.create()})},"esri/views/3d/layers/i3s/I3SBinaryReader":function(){define("require exports ../../../../core/Error ../../../../core/lang ../../../../core/Logger ./LEPCC".split(" "),function(a,b,l,
p,r,h){function n(a,b,c){for(var d="",k=0;k<c;){var e=a[b+k];if(128>e)d+=String.fromCharCode(e),k++;else if(192<=e&&224>e){if(k+1>=c)throw new l("utf8-decode-error","UTF-8 Decode failed. Two byte character was truncated.");var g=a[b+k+1],e=(e&31)<<6|g&63,d=d+String.fromCharCode(e),k=k+2}else if(224<=e&&240>e){if(k+2>=c)throw new l("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");var g=a[b+k+1],f=a[b+k+2],e=(e&15)<<12|(g&63)<<6|f&63,d=d+String.fromCharCode(e),k=k+3}else if(240<=
e&&248>e){if(k+3>=c)throw new l("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");g=a[b+k+1];f=a[b+k+2];e=(e&7)<<18|(g&63)<<12|(f&63)<<6|a[b+k+3]&63;d=65536<=e?d+String.fromCharCode((e-65536>>10)+55296,(e&1023)+56320):d+String.fromCharCode(e);k+=4}else throw new l("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");}return d}function f(a,c){for(var d={byteOffset:0,byteCount:0,fields:Object.create(null)},k=0,e=0;e<c.length;e++){var g=c[e],f=g.valueType||
g.type;d.fields[g.property]=(0,b.valueType2ArrayBufferReader[f])(a,k);k+=b.valueType2TypedArrayClassMap[f].BYTES_PER_ELEMENT}d.byteCount=k;return d}function u(a,b,c){var d=[],k,e=0,g;for(g=0;g<a;g+=1){k=b[g];if(0<k){if(d.push(n(c,e,k-1)),0!==c[e+k-1])throw new l("string-array-error","Invalid string array: missing null termination.");}else d.push(null);e+=k}return d}function m(a,c){return new b.valueType2TypedArrayClassMap[c.valueType](a,c.byteOffset,c.count*c.valuesPerElement)}function e(a,b){return new Uint8Array(a,
b.byteOffset,b.byteCount)}function g(a,b,c){a=null!=b.header?f(a,b.header):{byteOffset:0,byteCount:0,fields:{count:c}};c={header:a,byteOffset:a.byteCount,byteCount:0,entries:Object.create(null)};for(var e=a.byteCount,g=0;g<b.ordering.length;g++){var q=b.ordering[g],h=p.clone(b[q]);h.count=a.fields.count;if("String"===h.valueType){if(h.byteOffset=e,h.byteCount=a.fields[q+"ByteCount"],"UTF-8"!==h.encoding)throw new l("unsupported-encoding","Unsupported String encoding.",{encoding:h.encoding});}else if(d(h.valueType)){var t=
k(h.valueType),e=e+(0!==e%t?t-e%t:0);h.byteOffset=e;h.byteCount=t*h.valuesPerElement*h.count}else throw new l("unsupported-value-type","Unsupported binary valueType",{valueType:h.valueType});e+=h.byteCount;c.entries[q]=h}c.byteCount=e-c.byteOffset;return c}function c(a,b,c){b!==a&&w.error("Invalid "+c+" buffer size\n expected: "+a+", actual: "+b+")");if(b<a)throw new l("buffer-too-small","Binary buffer is too small",{expectedSize:a,actualSize:b});}function d(a){return b.valueType2TypedArrayClassMap.hasOwnProperty(a)}
function k(a){return d(a)&&b.valueType2TypedArrayClassMap[a].BYTES_PER_ELEMENT}Object.defineProperty(b,"__esModule",{value:!0});var w=r.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader");b.readHeader=f;b.readStringArray=u;b.createTypedView=m;b.createRawView=e;b.createAttributeDataIndex=g;b.createGeometryDataIndex=function(a,b,d){var e=f(a,b&&b.header),g=e.byteCount,q={header:e,byteOffset:e.byteCount,byteCount:0,vertexAttributes:p.clone(b.vertexAttributes)},h=q.vertexAttributes;d||null==h.region||
delete h.region;var e=e.fields,t=null!=e.vertexCount?e.vertexCount:e.count;for(d=0;d<b.ordering.length;d++){var l=b.ordering[d];null!=h[l]&&(h[l].byteOffset=g,h[l].count=t,g+=k(h[l].valueType)*h[l].valuesPerElement*t)}h=e.faceCount;if(b.faces&&h)for(q.faces=p.clone(b.faces),t=q.faces,d=0;d<b.ordering.length;d++)l=b.ordering[d],null!=t[l]&&(t[l].byteOffset=g,t[l].count=h,g+=k(t[l].valueType)*t[l].valuesPerElement*h);e=e.featureCount;if(b.featureAttributes&&b.featureAttributeOrder&&e)for(q.featureAttributes=
p.clone(b.featureAttributes),h=q.featureAttributes,d=0;d<b.featureAttributeOrder.length;d++)t=b.featureAttributeOrder[d],h[t].byteOffset=g,h[t].count=e,l=k(h[t].valueType),"UInt64"===h[t].valueType&&(l=8),g+=l*h[t].valuesPerElement*e;c(g,a.byteLength,"geometry");q.byteCount=g-q.byteOffset;return q};b.readBinaryAttribute=function(a,b,d){if("lepcc-rgb"===a.encoding)return h.decodeRGB(b);if("lepcc-intensity"===a.encoding)return h.decodeIntensity(b);if(null!=a.encoding&&""!==a.encoding)throw new l("unknown-attribute-storage-info-encoding",
"Unknown Attribute Storage Info Encoding");a["attributeByteCounts "]&&!a.attributeByteCounts&&(w.warn("Warning: Trailing space in 'attributeByteCounts '."),a.attributeByteCounts=a["attributeByteCounts "]);"ObjectIds"===a.ordering[0]&&a.hasOwnProperty("objectIds")&&(w.warn("Warning: Case error in objectIds"),a.ordering[0]="objectIds");d=g(b,a,d);c(d.byteOffset+d.byteCount,b.byteLength,"attribute");if(a=d.entries.attributeValues||d.entries.objectIds){if("String"===a.valueType){d=d.entries.attributeByteCounts;
var k=m(b,d);b=e(b,a);return u(d.count,k,b)}return m(b,a)}throw new l("bad-attribute-storage-info","Bad attributeStorageInfo specification.");};b.valueType2TypedArrayClassMap={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array};b.valueType2ArrayBufferReader={Float32:function(a,b){return(new DataView(a,0)).getFloat32(b,!0)},Float64:function(a,b){return(new DataView(a,0)).getFloat64(b,!0)},UInt8:function(a,
b){return(new DataView(a,0)).getUint8(b)},Int8:function(a,b){return(new DataView(a,0)).getInt8(b)},UInt16:function(a,b){return(new DataView(a,0)).getUint16(b,!0)},Int16:function(a,b){return(new DataView(a,0)).getInt16(b,!0)},UInt32:function(a,b){return(new DataView(a,0)).getUint32(b,!0)},Int32:function(a,b){return(new DataView(a,0)).getInt32(b,!0)}};b.isValueType=d;b.getBytesPerValue=k})},"esri/views/3d/layers/i3s/LEPCC":function(){define(["require","exports","../../../../core/Error"],function(a,
b,l){function p(a,b,h){return{identifier:String.fromCharCode.apply(null,new Uint8Array(a,h+n.identifierOffset,n.identifierLength)),version:b.getUint16(h+n.versionOffset,!0),checksum:b.getUint32(h+n.checksumOffset,!0)}}function r(a,b,l){var e=[];b=h(a,b,e);for(var g=[],c=0;c<e.length;c++){g.length=0;b=h(a,b,g);for(var d=0;d<g.length;d++)l.push(g[d]+e[c])}return b}function h(a,b,h){var e=new DataView(a,b),g=e.getUint8(0),c=g&31,d=!!(g&32),k=(g&192)>>6,g=0;if(0===k)g=e.getUint32(1,!0),b+=5;else if(1===
k)g=e.getUint16(1,!0),b+=3;else if(2===k)g=e.getUint8(1),b+=2;else throw new l("lepcc-decode-error","Bad count type");if(d)throw new l("lepcc-decode-error","LUT not implemented");a=new Uint8Array(a,b,Math.ceil(g*c/8));for(var k=d=e=0,f=-1>>>32-c,q=0;q<g;q++){for(;d<c;)e|=a[k]<<d,d+=8,k+=1;h[q]=e&f;e>>>=c;d-=c;32<d+c&&(e|=a[k-1]>>8-d)}return b+k}Object.defineProperty(b,"__esModule",{value:!0});var n={identifierOffset:0,identifierLength:10,versionOffset:10,checksumOffset:12,byteCount:16};b.decodeXYZ=
function(a){var b,f,e,g,c,d,k,h,q,t,v,y,x=new DataView(a,0),D=0;g=p(a,x,D);e=g.identifier;g=g.version;D+=n.byteCount;if("LEPCC     "!==e)throw new l("lepcc-decode-error","Bad identifier");if(1<g)throw new l("lepcc-decode-error","Unknown version");var E=D;b=x.getUint32(E+0,!0);f=x.getUint32(E+4,!0);e=x.getFloat64(E+8,!0);g=x.getFloat64(E+16,!0);c=x.getFloat64(E+24,!0);d=x.getFloat64(E+32,!0);k=x.getFloat64(E+40,!0);h=x.getFloat64(E+48,!0);q=x.getFloat64(E+56,!0);t=x.getFloat64(E+64,!0);v=x.getFloat64(E+
72,!0);y=x.getUint32(E+80,!0);x.getUint32(E+84,!0);D+=88;if(f*Math.pow(2,32)+b!==a.byteLength)throw new l("lepcc-decode-error","Bad size");x=new Float64Array(3*y);b=[];f=[];y=[];E=[];D=r(a,D,b);D=r(a,D,f);D=r(a,D,y);D=r(a,D,E);if(D!==a.byteLength)throw new l("lepcc-decode-error","Bad length");for(var H=D=a=0;H<b.length;H++)for(var D=D+b[H],L=0,I=0;I<f[H];I++){var L=L+y[a],z=E[a];x[3*a]=Math.min(d,e+2*q*L);x[3*a+1]=Math.min(k,g+2*t*D);x[3*a+2]=Math.min(h,c+2*v*z);a++}return{errorX:q,errorY:t,errorZ:v,
result:x}};b.decodeRGB=function(a){var b,h,e,g,c,d,k=new DataView(a,0),f=0;g=p(a,k,f);e=g.identifier;g=g.version;f+=n.byteCount;if("ClusterRGB"!==e)throw new l("lepcc-decode-error","Bad identifier");if(1<g)throw new l("lepcc-decode-error","Unknown version");d=f;b=k.getUint32(d+0,!0);h=k.getUint32(d+4,!0);e=k.getUint32(d+8,!0);g=k.getUint16(d+12,!0);c=k.getUint8(d+14);d=k.getUint8(d+15);f+=16;if(h*Math.pow(2,32)+b!==a.byteLength)throw new l("lepcc-decode-error","Bad size");if(2!==c&&1!==c||0!==d){if(0===
c&&0===d){if(3*e+f!==a.byteLength||0!==g)throw new l("lepcc-decode-error","Bad count");return(new Uint8Array(a,f)).slice()}if(2>=c&&1===d){if(f+3!==a.byteLength||1!==g)throw new l("lepcc-decode-error","Bad count");g=k.getUint8(f);b=k.getUint8(f+1);k=k.getUint8(f+2);f=new Uint8Array(3*e);for(a=0;a<e;a++)f[3*a]=g,f[3*a+1]=b,f[3*a+2]=k;return f}throw new l("lepcc-decode-error","Bad method "+c+","+d);}if(3*g+e+f!==a.byteLength||256<g)throw new l("lepcc-decode-error","Bad count");k=new Uint8Array(a,f,
3*g);g=new Uint8Array(a,f+3*g,e);f=new Uint8Array(3*e);for(a=0;a<e;a++)b=g[a],f[3*a]=k[3*b],f[3*a+1]=k[3*b+1],f[3*a+2]=k[3*b+2];return f};b.decodeIntensity=function(a){var b,f,e,g,c,d=new DataView(a,0),k=0;g=p(a,d,k);e=g.identifier;g=g.version;k+=n.byteCount;if("Intensity "!==e)throw new l("lepcc-decode-error","Bad identifier");if(1<g)throw new l("lepcc-decode-error","Unknown version");var w=k;b=d.getUint32(w+0,!0);f=d.getUint32(w+4,!0);e=d.getUint32(w+8,!0);g=d.getUint16(w+12,!0);c=d.getUint8(w+
14);d.getUint8(w+15);k+=16;if(f*Math.pow(2,32)+b!==a.byteLength)throw new l("lepcc-decode-error","Bad size");d=new Uint16Array(e);if(8===c){if(e+k!==a.byteLength)throw new l("lepcc-decode-error","Bad size");c=new Uint8Array(a,k,e)}else if(16===c){if(2*e+k!==a.byteLength)throw new l("lepcc-decode-error","Bad size");c=new Uint16Array(a,k,e)}else if(c=[],h(a,k,c)!==a.byteLength)throw new l("lepcc-decode-error","Bad size");for(a=0;a<e;a++)d[a]=c[a]*g;return d}})},"esri/views/3d/support/meshProcessing":function(){define(["require",
"exports","./mathUtils"],function(a,b,l){Object.defineProperty(b,"__esModule",{value:!0});b.computeNeighbors=function(a,b){for(var h=a.length/3,f=new Uint32Array(b+1),l=new Uint32Array(b+1),m=function(a,b){a<b?f[a+1]++:l[b+1]++},e=0;e<h;e++){var g=a[3*e],c=a[3*e+1],d=a[3*e+2];m(g,c);m(c,d);m(d,g)}for(e=c=g=0;e<b;e++)d=f[e+1],m=l[e+1],f[e+1]=g,l[e+1]=c,g+=d,c+=m;for(var k=new Uint32Array(6*h),w=f[b],m=function(a,b,c){if(a<b){var d=f[a+1]++;k[2*d]=b;k[2*d+1]=c}else d=l[b+1]++,k[2*w+2*d]=a,k[2*w+2*d+
1]=c},e=0;e<h;e++)g=a[3*e],c=a[3*e+1],d=a[3*e+2],m(g,c,e),m(c,d,e),m(d,g,e);g=function(a,b){var c=2*a;a=b-a;for(b=1;b<a;b++){var d=k[c+2*b],e=k[c+2*b+1],g=b-1;for(g;0<=g&&k[c+2*g]>d;g--)k[c+2*g+2]=k[c+2*g],k[c+2*g+3]=k[c+2*g+1];k[c+2*g+2]=d;k[c+2*g+3]=e}};for(e=0;e<b;e++)g(f[e],f[e+1]),g(w+l[e],w+l[e+1]);for(var q=new Int32Array(3*h),t=function(b,c){return b===a[3*c]?0:b===a[3*c+1]?1:b===a[3*c+2]?2:-1},h=function(a,b){a=t(a,b);q[3*b+a]=-1},g=function(a,b,c,d){a=t(a,b);q[3*b+a]=d;c=t(c,d);q[3*d+c]=
b},e=0;e<b;e++){for(var c=f[e],d=f[e+1],m=l[e],v=l[e+1];c<d&&m<v;){var p=k[2*c],x=k[2*w+2*m];p===x?(g(e,k[2*c+1],x,k[2*w+2*m+1]),c++,m++):p<x?(h(e,k[2*c+1]),c++):(h(x,k[2*w+2*m+1]),m++)}for(;c<d;)h(e,k[2*c+1]),c++;for(;m<v;)x=k[2*w+2*m],h(x,k[2*w+2*m+1]),m++}return q};var p=null;b.deduplicate=function(a,b,n,f,u){void 0===n&&(n=0);void 0===f&&(f=0);void 0===u&&(u=a.byteLength/(4*b));a=new Uint32Array(a,f,u*b);f=new Uint32Array(u);var h=Math.floor(1.1*u)+1;if(null==p||p.length<2*h)p=new Uint32Array(l.nextHighestPowerOfTwo(2*
h));for(var e=0;e<2*h;e++)p[e]=0;for(var g=0,c=0!==n?Math.ceil(7.84*1.96/(n*n)*n*(1-n)):u,e=0;e<u;e++){if(e===c){var d=1-g/e;if(d+1.96*Math.sqrt(d*(1-d)/e)<n)return null;c*=2}for(var d=e*b,k,w=k=0;w<b;w++)k=a[d+w]+k|0,k=k+(k<<11)+(k>>>2)|0;k>>>=0;for(var w=k%h,q=g;0!==p[2*w+1];){if(p[2*w]===k){var t=p[2*w+1]-1,v=t*b;a:{for(var r=0;r<b;r++)if(a[d+r]!==a[v+r]){v=!1;break a}v=!0}if(v){q=f[t];break}}w++;w>=h&&(w-=h)}q===g&&(p[2*w]=k,p[2*w+1]=e+1,g++);f[e]=q}if(0!==n&&1-g/u<n)return null;n=new Uint32Array(b*
g);for(e=g=0;e<u;e++)if(f[e]===g){h=a;c=e*b;d=n;k=g*b;w=b;for(q=0;q<w;q++)d[k+q]=h[c+q];g++}return{buffer:n.buffer,indices:f,uniqueCount:g}}})},"esri/views/3d/support/mathUtils":function(){define(["require","exports","../../../core/libs/gl-matrix-2/gl-matrix"],function(a,b,l){function p(a){return Math.asin(1<a?1:-1>a?-1:a)}function r(a){return Math.acos(1<a?1:-1>a?-1:a)}function h(a,b,k){return a<b?b:a>k?k:a}function n(a){for(var b in a){var c=a[b];c instanceof Function&&(a[b]=c.bind(a))}return a}
Object.defineProperty(b,"__esModule",{value:!0});b.deg2rad=function(a){return a*Math.PI/180};b.rad2deg=function(a){return 180*a/Math.PI};b.asin=p;b.acos=r;b.cosCapped=function(a,b){return a>b?Math.cos(b):Math.cos(a)};b.sign=Math.sign||function(a){return+(0<a)-+(0>a)||+a};b.log2=Math.log2||function(a){return Math.log(a)/Math.LN2};b.isPowerOfTwo=function(a){return 0===(a&a-1)};b.nextHighestPowerOfTwo=function(a){--a;for(var b=1;32>b;b<<=1)a|=a>>b;return a+1};b.nextHighestPowerOfTen=function(a){return Math.pow(10,
Math.ceil(Math.LOG10E*Math.log(a)))};b.fovx2fovy=function(a,b,k){return 2*Math.atan(k*Math.tan(.5*a)/b)};b.fovy2fovx=function(a,b,k){return 2*Math.atan(b*Math.tan(.5*a)/k)};b.maxScale=function(a){return Math.max(Math.max(Math.sqrt(a[0]*a[0]+a[4]*a[4]+a[8]*a[8]),Math.sqrt(a[1]*a[1]+a[5]*a[5]+a[9]*a[9])),Math.sqrt(a[2]*a[2]+a[6]*a[6]+a[10]*a[10]))};b.makeOrthonormal=function(a,b,k){k=k||a;var c=l.vec3.dot(a,b);l.vec3.set(k,a[0]-c*b[0],a[1]-c*b[1],a[2]-c*b[2]);l.vec3.normalize(k,k)};b.tangentFrame=function(a,
b,k){Math.abs(a[0])>Math.abs(a[1])?l.vec3.set(b,0,1,0):l.vec3.set(b,1,0,0);l.vec3.cross(k,a,b);l.vec3.normalize(b,b);l.vec3.cross(b,k,a);l.vec3.normalize(k,k)};b.cartesianToSpherical=function(a,b){var c=l.vec3.length(a),d=p(a[2]/c);l.vec3.set(b,c,d,Math.atan2(a[1]/c,a[0]/c));return b};b.sphericalToCartesian=function(a,b){var c=a[0],d=a[1];a=a[2];var e=Math.cos(d);l.vec3.set(b,c*e*Math.cos(a),c*e*Math.sin(a),c*Math.sin(d))};b.directionFromTo=function(a,b,k){var c=k[0]-b[0],d=k[1]-b[1];b=k[2]-b[2];
k=c*c+d*d+b*b;if(!k)return a[0]=0,a[1]=0,a[2]=0,a;k=1/Math.sqrt(k);a[0]=c*k;a[1]=d*k;a[2]=b*k;return a};b.lerp=function(a,b,k){return a+(b-a)*k};b.bilerp=function(a,b,k,e,g,f){a+=(b-a)*g;return a+(k+(e-k)*g-a)*f};b.slerp=function(a,b,k,f){void 0===f&&(f=l.vec3f64.create());var c=l.vec3.length(a),d=l.vec3.length(b),h=l.vec3.dot(a,b)/(c*d);if(.9999999999999999>h){var h=Math.acos(h),w=((1-k)*c+k*d)/Math.sin(h),d=w/d*Math.sin(k*h);l.vec3.scale(e,a,w/c*Math.sin((1-k)*h));l.vec3.scale(g,b,d);return l.vec3.add(f,
e,g)}return l.vec3.lerp(f,a,b,k)};b.angle=function(a,b,k){a=l.vec3.normalize(e,a);b=l.vec3.normalize(g,b);var c=r(l.vec3.dot(a,b));return k&&(a=l.vec3.cross(m,a,b),0>l.vec3.dot(a,k))?-c:c};b.clamp=h;b.isFinite=Number.isFinite||function(a){return"number"===typeof a&&window.isFinite(a)};b.isNaN=Number.isNaN||function(a){return a!==a};b.makePiecewiseLinearFunction=function(a){var b=a.length;return function(c){if(c<=a[0][0])return a[0][1];if(c>=a[b-1][0])return a[b-1][1];for(var d=1;c>a[d][0];)d++;var k=
a[d][0];c=(k-c)/(k-a[d-1][0]);return c*a[d-1][1]+(1-c)*a[d][1]}};b.vectorEquals=function(a,b){if(null==a||null==b)return a!==b;if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0};b.floatEqualRelative=function(a,d,k){void 0===k&&(k=1E-6);if(b.isNaN(a)||b.isNaN(d))return!1;if(a===d)return!0;var c=Math.abs(a-d),e=Math.abs(a),g=Math.abs(d);if(0===a||0===d||1E-12>e&&1E-12>g){if(c>.01*k)return!1}else if(c/(e+g)>k)return!1;return!0};b.floatEqualAbsolute=function(a,
d,k){void 0===k&&(k=1E-6);return b.isNaN(a)||b.isNaN(d)?!1:(a>d?a-d:d-a)<=k};a=function(){function a(a,b){this.min=a;this.max=b;this.range=b-a}a.prototype.ndiff=function(a,b){void 0===b&&(b=0);return Math.ceil((a-b)/this.range)*this.range+b};a.prototype._normalize=function(a,b,c,e){void 0===e&&(e=0);c-=e;c<a?c+=this.ndiff(a-c):c>b&&(c-=this.ndiff(c-b));return c+e};a.prototype.normalize=function(a,b){return this._normalize(this.min,this.max,a,b)};a.prototype.clamp=function(a,b){void 0===b&&(b=0);return h(a-
b,this.min,this.max)+b};a.prototype.monotonic=function(a,b,c){return a<b?b:b+this.ndiff(a-b,c)};a.prototype.minimalMonotonic=function(a,b,c){return this._normalize(a,a+this.range,b,c)};a.prototype.center=function(a,b,c){b=this.monotonic(a,b,c);return this.normalize((a+b)/2,c)};a.prototype.diff=function(a,b,c){return this.monotonic(a,b,c)-a};a.prototype.contains=function(a,b,c){b=this.minimalMonotonic(a,b);c=this.minimalMonotonic(a,c);return c>a&&c<b};return a}();b.Cyclical=a;b.planeFromPoints=function(a,
b,e,g){l.vec3.subtract(f,b,a);l.vec3.subtract(u,e,a);l.vec3.cross(g,f,u);l.vec3.normalize(g,g);g[3]=-l.vec3.dot(a,g)};var f=l.vec3f64.create(),u=l.vec3f64.create();b.cyclical2PI=n(new a(0,2*Math.PI));b.cyclicalPI=n(new a(-Math.PI,Math.PI));b.cyclicalDeg=n(new a(0,360));var m=l.vec3f64.create(),e=l.vec3f64.create(),g=l.vec3f64.create()})},"esri/views/3d/webgl-engine/lib/Util":function(){define(["require","exports","../../../../core/libs/gl-matrix-2/gl-matrix","../../support/mathUtils"],function(a,
b,l,p){function r(a,b){if(!a)throw a=Error("dummy"),a.stack&&console.log(a.stack),new q(b);}function h(a){for(var b in a)return b}function n(a,b){a[12]=b[0];a[13]=b[1];a[14]=b[2]}function f(a,b){void 0===b&&(b=0);for(var c=0,d=0;4>d;d++)c+=a[b+d]*v[d];return c}function u(a){return a-Math.floor(a)}Object.defineProperty(b,"__esModule",{value:!0});var m=l.vec4f64.create(),e=l.vec2f64.create(),g=l.vec2f64.create(),c=l.vec2f64.create(),d=l.vec2f64.create(),k=l.vec2f64.create(),w=l.vec2f64.create(),q=function(){function a(a){this.message=
a}a.prototype.toString=function(){return"AssertException: "+this.message};return a}();b.AssertException=q;b.VertexAttrConstants={POSITION:"position",NORMAL:"normal",NORMALCOMPRESSED:"normalCompressed",UV0:"uv0",AUXPOS1:"auxpos1",AUXPOS2:"auxpos2",COLOR:"color",SYMBOLCOLOR:"symbolColor",SIZE:"size",REGION:"region",COMPONENTINDEX:"componentIndex"};b.assert=r;b.verify=function(a,b){a||(console.log("Verify failed: "+b),console.log(Error("dummy").stack))};b.encodeInt16=function(a){return p.clamp(Math.round(32767*
a),-32767,32767)};b.encodeNormal=function(a,b){var c=Math.abs(a[0]),d=Math.abs(a[1]),e=1/(c+d+Math.abs(a[2])),k=Math.min(a[2]*e,0);b[0]=(0>a[0]?-1:1)*(c*e-k);b[1]=(0>a[1]?-1:1)*(d*e-k)};b.fallbackIfUndefined=function(a,b){return void 0===a?b:a};b.hex2rgb=function(a){a=Math.floor(a);return[(a>>16&255)/255,(a>>8&255)/255,(a&255)/255]};b.rgb2hex=function(a){var b=p.clamp(Math.round(255*a[0]),0,255),c=p.clamp(Math.round(255*a[1]),0,255);a=p.clamp(Math.round(255*a[2]),0,255);return"0x"+((b<<16)+(c<<8)+
a).toString(16)};b.dec2hex=function(a){a=a.toString(16);return"00000000".substr(0,8-a.length)+a};b.rayTriangle3D=function(a,b,c,d,e,k,g,f,h){void 0===h&&(h=l.vec3f64.create());var q=d[g]-c[k],t=d[g+1]-c[k+1],n=d[g+2]-c[k+2];d=e[f]-c[k];g=e[f+1]-c[k+1];e=e[f+2]-c[k+2];var m=b[1]*e-g*b[2],v=b[2]*d-e*b[0],w=b[0]*g-d*b[1];f=q*m+t*v+n*w;if(-1E-5<f&&1E-5>f)return!1;f=1/f;var p=a[0]-c[k],x=a[1]-c[k+1];a=a[2]-c[k+2];h[1]=f*(p*m+x*v+a*w);if(0>h[1]||1<h[1])return!1;c=x*n-t*a;a=a*q-n*p;q=p*t-q*x;h[2]=f*(b[0]*
c+b[1]*a+b[2]*q);if(0>h[2]||1<h[1]+h[2])return!1;h[0]=f*(d*c+g*a+e*q);return!0};b.rayBoxTest=function(a,b,c,d){var e,k=(c[0]-a[0])/b[0],g=(d[0]-a[0])/b[0];k>g&&(e=k,k=g,g=e);var f=(c[1]-a[1])/b[1],h=(d[1]-a[1])/b[1];f>h&&(e=f,f=h,h=e);if(k>h||f>g)return!1;f>k&&(k=f);h<g&&(g=h);c=(c[2]-a[2])/b[2];a=(d[2]-a[2])/b[2];c>a&&(e=c,c=a,a=e);if(k>a||c>g)return!1;a<g&&(g=a);return 0>g?!1:!0};b.rayRay2D=function(a,b,c,d,e,k){void 0===k&&(k=l.vec2f64.create());var g=(d[e]-c[e])*(b[0]-a[0])-(d[0]-c[0])*(b[e]-
a[e]);if(0===g)return!1;c=((d[0]-c[0])*(a[e]-c[e])-(d[e]-c[e])*(a[0]-c[0]))/g;k[0]=a[0]+c*(b[0]-a[0]);k[1]=a[e]+c*(b[e]-a[e]);return!0};b.project=function(a,b,c,d,e){e||(e=a);m[0]=a[0];m[1]=a[1];m[2]=a[2];m[3]=1;l.vec4.transformMat4(m,m,b);2<e.length&&(e[2]=-m[2]);l.vec4.transformMat4(m,m,c);r(0!==m[3]);e[0]=m[0]/m[3];e[1]=m[1]/m[3];e[2]=m[2]/m[3];e[0]=(.5*e[0]+.5)*d[2]+d[0];e[1]=(.5*e[1]+.5)*d[3]+d[1]};b.getFirstObjectKey=h;b.getFirstObjectValue=function(a){return a[h(a)]};b.objectEmpty=function(a){for(var b in a)return!1;
return!0};b.logWithBase=function(a,b){return Math.log(a)/Math.log(b)};b.setMatrixTranslation=n;b.setMatrixTranslation3=function(a,b,c,d){a[12]=b;a[13]=c;a[14]=d};b.getMatrixTranslation=function(a,b){void 0===b&&(b=l.vec3f64.create());b[0]=a[12];b[1]=a[13];b[2]=a[14];return b};b.createTranslationMatrix=function(a,b){a=l.mat4.identity(a);n(a,b);return a};b.isTranslationMatrix=function(a){return 1===a[0]&&0===a[1]&&0===a[2]&&0===a[3]&&0===a[4]&&1===a[5]&&0===a[6]&&0===a[7]&&0===a[8]&&0===a[9]&&1===a[10]&&
0===a[11]&&1===a[15]};b.fovx2fovy=function(a,b,c){return 2*Math.atan(c*Math.tan(.5*a)/b)};b.fovy2fovx=function(a,b,c){return 2*Math.atan(b*Math.tan(.5*a)/c)};b.fovx2fovd=function(a,b,c){return 2*Math.atan(Math.sqrt(b*b+c*c)*Math.tan(.5*a)/b)};b.fovy2fovd=function(a,b,c){return 2*Math.atan(Math.sqrt(b*b+c*c)*Math.tan(.5*a)/c)};b.fovd2fovx=function(a,b,c){return 2*Math.atan(b*Math.tan(.5*a)/Math.sqrt(b*b+c*c))};b.fovd2fovy=function(a,b,c){return 2*Math.atan(c*Math.tan(.5*a)/Math.sqrt(b*b+c*c))};b.pointLineSegmentDistanceSquared2D=
function(a,b,f){d[0]=b[0]-a[0];d[1]=b[1]-a[1];k[0]=f[0]-a[0];k[1]=f[1]-a[1];w[0]=f[0];w[1]=f[1];b=l.vec2.dot(k,d);f=l.vec2.dot(d,d);b=p.clamp(b/f,0,1);c[0]=d[0]*b;c[1]=d[1]*b;e[0]=a[0]+c[0];e[1]=a[1]+c[1];l.vec2.subtract(g,w,e);a=l.vec2.dot(g,g);b=l.vec2.dot(k,k);f=l.vec2.dot(d,d);var h=l.vec2.dot(c,c);if(h>b||h>f)a=Number.MAX_VALUE;return a};b.packFloatRGBA=function(a,b,c){void 0===c&&(c=0);a=p.clamp(a,0,y);for(var d=0;4>d;d++)b[c+d]=Math.floor(256*u(a*t[d]))};b.unpackFloatRGBA=f;var t=[1,256,65536,
16777216],v=[1/256,1/65536,1/16777216,1/4294967296],y=f(new Uint8ClampedArray([255,255,255,255]));b.inverseProjectionInfo=function(a,b,c,d,e){0===a[11]?(d[0]=2/(b*a[0]),d[1]=2/(c*a[5]),d[2]=(1+a[12])/a[0],d[3]=(1+a[13])/a[5],l.vec2.set(e,0,1)):(d[0]=-2/(b*a[0]),d[1]=-2/(c*a[5]),d[2]=(1-a[8])/a[0],d[3]=(1-a[9])/a[5],l.vec2.set(e,1,0))}})},"esri/views/3d/layers/i3s/I3SProjectionUtil":function(){define("require exports ../../../../core/libs/gl-matrix-2/gl-matrix ../../support/earthUtils ../../support/projectionUtils ../../webgl-engine/lib/localOrigin".split(" "),
function(a,b,l,p,r,h){function n(a,b,k){var c=l.vec3f64.create(),d=Math.ceil(Math.log(a[3])*Math.LOG2E/g),f=Math.pow(2,d*g+e),h;if(k.isGeographic){h=f/p.earthRadius*180/Math.PI;k=Math.round(a[1]/h);var n=Math.max(-90,Math.min(90,k*h)),m=h/Math.cos((Math.abs(n)-h/2)/180*Math.PI);h=Math.round(a[0]/m);c[0]=h*m;c[1]=n}else h=Math.round(a[0]/f),k=Math.round(a[1]/f),c[0]=h*f,c[1]=k*f;a=Math.round((a[2]+b)/f);c[2]=a*f;return{center:c,id:d+"_"+h+"_"+k+"_"+a}}Object.defineProperty(b,"__esModule",{value:!0});
var f=new Float64Array(3E3),u=l.vec3f64.create(),m=l.mat4f64.create();b.computeGlobalTransformation=function(a,b,e,g){a=n(a,b,e).center;b=l.mat4f64.create();r.computeLinearTransformation(e,a,b,g);return b};b.reprojectPoints=function(a,b,e,g,h,t,n){var c=a.data,d=a.offsetIdx;a=a.strideIdx;l.mat4.invert(m,e);l.vec3.copy(u,b);u[2]+=g;b=[0,0,0];e=c.length/a;r.vectorToVector(u,h,b,t);for(h=0;h<e;h+=1E3){g=Math.min(1E3,e-h);for(var k=0;k<g;k++){var q=d+a*(h+k);f[3*k]=c[q]+b[0];f[3*k+1]=c[q+1]+b[1];f[3*
k+2]=c[q+2]+b[2]}r.bufferToBuffer(f,t,0,f,n,0,g);for(k=0;k<g;k++){var q=f[3*k],v=f[3*k+1],w=f[3*k+2],p=d+a*(h+k);c[p]=m[0]*q+m[4]*v+m[8]*w+m[12];c[p+1]=m[1]*q+m[5]*v+m[9]*w+m[13];c[p+2]=m[2]*q+m[6]*v+m[10]*w+m[14]}}};b.createOrigin=function(a,b,e,g){b=n(a,b,e);a=b.center;b=b.id;r.vectorToVector(a,e,a,g);return h.fromVector(a,b)};var e=1,g=5-e})},"esri/views/3d/support/earthUtils":function(){define("require exports ../../../core/wgs84Constants ../../../core/libs/gl-matrix-2/gl-matrix ../../../geometry/Point ../../../geometry/SpatialReference ../../../geometry/support/webMercatorUtils ./mathUtils".split(" "),
function(a,b,l,p,r,h,n,f){function u(a,c,e,g){var d,k;a instanceof r&&c instanceof r&&(e=c.longitude,g=c.latitude,k=a.latitude,d=a.longitude);a=f.deg2rad(k);g=f.deg2rad(g);d=f.deg2rad(d);c=f.deg2rad(e);e=Math.sin((a-g)/2);d=Math.sin((d-c)/2);e=2*f.asin(Math.sqrt(e*e+Math.cos(a)*Math.cos(g)*d*d))*b.earthRadius;return Math.round(1E4*e)/1E4}function m(a,c,e){a=e/b.earthRadius;c=f.deg2rad(c);a=Math.sin(a/2);c=Math.cos(c);c=2*f.asin(Math.sqrt(a*a/(c*c)));return f.rad2deg(c)}function e(a,c,e){return f.rad2deg(e/
b.earthRadius)}function g(a,b){a/=15;b||(a=Math.round(a));return a}Object.defineProperty(b,"__esModule",{value:!0});b.earthRadius=l.wgs84Radius;b.halfEarthCircumference=Math.PI*b.earthRadius;b.earthCircumference=2*b.halfEarthCircumference;b.metersPerDegree=b.halfEarthCircumference/180;var c=new r(0,0,h.WGS84);b.getGreatCircleDistance=u;b.getGreatCircleSpanAt=function(a,b,c){var d=b.spatialReference,e=new r(b.x,a.y,d),k=new r(c.x,a.y,d);b=new r(a.x,b.y,d);a=new r(a.x,c.y,d);return{lon:u(e,k),lat:u(b,
a)}};b.getLonDeltaForDistance=m;b.getLatDeltaForDistance=e;b.getLatLonDeltaForDistance=function(a,b,c){return{lat:e(a,b,c),lon:m(a,b,c)}};b.getMaxCameraAltitude=function(a){a=f.deg2rad(a/2);return(1-Math.sin(a))*b.earthRadius/Math.sin(a)};b.getViewExtentDistance=function(a,c){c=f.deg2rad(c/2);return 2*f.acos((Math.pow(a+b.earthRadius,2)+Math.pow(b.earthRadius,2)-Math.pow((a+b.earthRadius)*Math.cos(c)-Math.sqrt(Math.pow(Math.cos(c)*(a+b.earthRadius),2)-a*a-2*a*b.earthRadius),2))/(2*(a+b.earthRadius)*
b.earthRadius))*b.earthRadius};b.computeCarthesianDistance=function(a,c){function d(a){var c=f.deg2rad(a.latitude),d=f.deg2rad(a.longitude),e=Math.cos(c);a=b.earthRadius+(a.z||0);return[Math.cos(d)*e*a,Math.sin(c)*a,-Math.sin(d)*e*a]}a=d(a);c=d(c);c=[c[0]-a[0],c[1]-a[1],c[2]-a[2]];return Math.sqrt(c[0]*c[0]+c[1]*c[1]+c[2]*c[2])};b.longitudeToTimezone=g;b.positionToTimezone=function(a,b){a.spatialReference.wkid!==h.WGS84.wkid?n.webMercatorToGeographic(a,!1,c):(c.x=a.x,c.y=a.y);c.z=a.z;b||(b={hours:0,
minutes:0,seconds:0});b.hours=g(c.x,!0);a=b.hours%1;b.hours-=a;b.minutes=60*a;a=b.minutes%1;b.minutes-=a;b.seconds=Math.round(60*a);return b};b.distanceToIdealHorizon=function(a,c){c=c||b.earthRadius;a=p.vec3.dot(a,a);return Math.sqrt(Math.abs(a-c*c))}})},"esri/geometry/Point":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Logger ../core/accessorSupport/decorators ./Geometry ./SpatialReference ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(a,b,l,p,r,h,n,f,u,m){function e(a){return a&&("esri.geometry.SpatialReference"===a.declaredClass||null!=a.wkid)}var g=[0,0],c=r.getLogger("esri.geometry.Point");a=function(a){function b(b,c,d,e,k){b=a.call(this)||this;b.x=0;b.y=0;b.z=void 0;b.m=void 0;b.type="point";return b}l(b,a);d=b;b.copy=function(a,b){b.x=a.x;b.y=a.y;b.z=a.z;b.m=a.m;b.spatialReference=Object.isFrozen(a.spatialReference)?a.spatialReference:a.spatialReference.clone()};b.distance=function(a,b){var c=a.x-b.x,d=a.y-b.y;a=
a.hasZ&&b.hasZ?a.z-b.z:0;return Math.sqrt(c*c+d*d+a*a)};b.prototype.normalizeCtorArgs=function(a,b,d,k,h){var q;if(Array.isArray(a))q=a,h=b,a=q[0],b=q[1],d=q[2],k=q[3];else if(a&&"object"===typeof a){if(q=a,a=null!=q.x?q.x:q.longitude,b=null!=q.y?q.y:q.latitude,d=null!=q.z?q.z:q.altitude,k=q.m,(h=q.spatialReference)&&"esri.geometry.SpatialReference"!==h.declaredClass&&(h=new f(h)),null!=q.longitude||null!=q.latitude)null==q.longitude?c.warn(".longitude\x3d","Latitude was defined without longitude"):
null==q.latitude?c.warn(".latitude\x3d","Longitude was defined without latitude"):!q.declaredClass&&h&&h.isWebMercator&&(b=m.lngLatToXY(q.longitude,q.latitude,g),a=b[0],b=b[1])}else e(d)?(h=d,d=null):e(k)&&(h=k,k=null);a={x:a,y:b};null==a.x&&null!=a.y?c.warn(".y\x3d","Y coordinate was defined without an X coordinate"):null==a.y&&null!=a.x&&c.warn(".x\x3d","X coordinate was defined without a Y coordinate");null!=h&&(a.spatialReference=h);null!=d&&(a.z=d);null!=k&&(a.m=k);return a};Object.defineProperty(b.prototype,
"hasM",{get:function(){return void 0!==this.m},set:function(a){var b=this._get("hasM");a!==b&&(this._set("m",a?0:void 0),this._set("hasM",a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hasZ",{get:function(){return void 0!==this.z},set:function(a){var b=this._get("hasZ");a!==b&&(this._set("z",a?0:void 0),this._set("hasZ",a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"latitude",{get:function(){var a=this._get("spatialReference");if(a){if(a.isWebMercator)return m.xyToLngLat(this.x,
this.y,g)[1];if(a.isWGS84)return this._get("y")}return null},set:function(a){var b=this._get("spatialReference");b&&(b.isWebMercator?this._set("y",m.lngLatToXY(this.x,a,g)[1]):b.isWGS84&&this._set("y",a),this._set("latitude",a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"longitude",{get:function(){var a=this._get("spatialReference");if(a){if(a.isWebMercator)return m.xyToLngLat(this._get("x"),this._get("y"),g)[0];if(a.isWGS84)return this._get("x")}return null},set:function(a){var b=
this._get("spatialReference");b&&(b.isWebMercator?this._set("x",m.lngLatToXY(a,this._get("y"),g)[0]):b.isWGS84&&this._set("x",a),this._set("longitude",a))},enumerable:!0,configurable:!0});b.prototype.writeX=function(a,b,c){b[c]=isNaN(a)?"NaN":a};b.prototype.readX=function(a){return"string"===typeof a?NaN:a};b.prototype.clone=function(){var a=new d;a.x=this.x;a.y=this.y;a.z=this.z;a.m=this.m;a.spatialReference=this.spatialReference;return a};b.prototype.copy=function(a){d.copy(a,this);return this};
b.prototype.equals=function(a){var b;if(!a)return!1;var c=this.x,d=this.y,e=this.z,k=this.m,g=this.spatialReference,h=a.z,f=a.m,q=a.x;b=a.y;a=a.spatialReference;if(!g.equals(a))if(g.isWebMercator&&a.isWGS84)b=m.lngLatToXY(q,b),q=b[0],b=b[1],a=g;else if(g.isWGS84&&a.isWebMercator)b=m.xyToLngLat(q,b),q=b[0],b=b[1],a=g;else return!1;return c===q&&d===b&&e===h&&k===f&&g.wkid===a.wkid};b.prototype.offset=function(a,b,c){this.x+=a;this.y+=b;null!=c&&this.hasZ&&(this.z+=c);return this};b.prototype.normalize=
function(){if(!this.spatialReference)return this;var a=u.getInfo(this.spatialReference);if(!a)return this;var b=this.x,c=a.valid,a=c[0],d=c[1],c=2*d;b>d?(a=Math.ceil(Math.abs(b-d)/c),b-=a*c):b<a&&(a=Math.ceil(Math.abs(b-a)/c),b+=a*c);this._set("x",b);return this};b.prototype.distance=function(a){return d.distance(this,a)};b.prototype.toArray=function(){var a=this.hasZ,b=this.hasM;return a&&b?[this.x,this.y,this.z,this.m]:a?[this.x,this.y,this.z]:b?[this.x,this.y,this.m]:[this.x,this.y]};b.prototype.toJSON=
function(a){return this.write(null,a)};var d;p([h.property({dependsOn:["x","y","z","m","spatialReference"]})],b.prototype,"cache",void 0);p([h.property({type:Boolean,dependsOn:["m"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasM",null);p([h.property({type:Boolean,dependsOn:["z"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasZ",null);p([h.property({type:Number,dependsOn:["y"]})],b.prototype,"latitude",null);p([h.property({type:Number,dependsOn:["x"]})],
b.prototype,"longitude",null);p([h.property({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}})],b.prototype,"x",void 0);p([h.writer("x")],b.prototype,"writeX",null);p([h.reader("x")],b.prototype,"readX",null);p([h.property({type:Number,json:{write:!0}})],b.prototype,"y",void 0);p([h.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],b.prototype,"z",void 0);p([h.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],
b.prototype,"m",void 0);return b=d=p([h.subclass("esri.geometry.Point")],b)}(h.declared(n));a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/Geometry":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators ./SpatialReference".split(" "),function(a,b,l,p,r,h,n){return function(a){function b(){var b=a.call(this)||this;b.type=null;b.extent=null;b.hasM=!1;b.hasZ=!1;b.spatialReference=
n.WGS84;return b}l(b,a);Object.defineProperty(b.prototype,"cache",{get:function(){return{}},enumerable:!0,configurable:!0});b.prototype.readSpatialReference=function(a,b){if(a instanceof n)return a;if(null!=a){var e=new n;e.read(a,b);return e}return a};b.prototype.clone=function(){console.warn(".clone() is not implemented for "+this.declaredClass);return null};b.prototype.clearCache=function(){this.notifyChange("cache")};b.prototype.getCacheValue=function(a){return this.cache[a]};b.prototype.setCacheValue=
function(a,b){this.cache[a]=b};p([h.property()],b.prototype,"type",void 0);p([h.property({readOnly:!0,dependsOn:["spatialReference"]})],b.prototype,"cache",null);p([h.property({readOnly:!0,dependsOn:["spatialReference"]})],b.prototype,"extent",void 0);p([h.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"hasM",void 0);p([h.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"hasZ",void 0);p([h.property({type:n,
json:{write:!0}})],b.prototype,"spatialReference",void 0);p([h.reader("spatialReference")],b.prototype,"readSpatialReference",null);return b=p([h.subclass("esri.geometry.Geometry")],b)}(h.declared(r))})},"esri/geometry/support/webMercatorUtils":function(){define("require exports ../../core/lang ../../core/wgs84Constants ../SpatialReference ./spatialReferenceUtils".split(" "),function(a,b,l,p,r,h){function n(a,b,e,h,f){var c;if("x"in a&&"x"in f)b=b(a.x,a.y,g,0,h),f.x=b[0],f.y=b[1];else if("xmin"in
a&&"xmin"in f)c=b(a.xmin,a.ymin,g,0,h),f.xmin=c[0],f.ymin=c[1],b=b(a.xmax,a.ymax,g,0,h),f.xmax=b[0],f.ymax=b[1];else if("paths"in a&&"paths"in f||"rings"in a&&"rings"in f){c="paths"in a?a.paths:a.rings;var d=[],k=void 0;for(a=0;a<c.length;a++){var q=c[a],k=[];d.push(k);for(var l=0;l<q.length;l++)k.push(b(q[l][0],q[l][1],[0,0],0,h)),2<q[l].length&&k[l].push(q[l][2]),3<q[l].length&&k[l].push(q[l][3])}"paths"in f?f.paths=d:f.rings=d}else if("points"in a&&"points"in f){c=a.points;d=[];for(a=0;a<c.length;a++)d[a]=
b(c[a][0],c[a][1],[0,0],0,h),2<c[a].length&&d[a].push(c[a][2]),3<c[a].length&&d[a].push(c[a][3]);f.points=d}else if("type"in a&&"mesh"===a.type&&"type"in f&&"mesh"===f.type&&(c=a.vertexAttributes&&a.vertexAttributes.position,d=f.vertexAttributes&&f.vertexAttributes.position,c))for(k=[0,0],a=0;a<c.length;a+=3)b(c[a],c[a+1],k,0,h),d[a]=k[0],d[a+1]=k[1];f.spatialReference=e;return f}function f(a,b){a=a&&(null!=a.wkid||null!=a.wkt?a:a.spatialReference);b=b&&(null!=b.wkid||null!=b.wkt?b:b.spatialReference);
return a&&b?h.equals(b,a)?!0:h.isWebMercator(b)&&h.isWGS84(a)||h.isWebMercator(a)&&h.isWGS84(b):!1}function u(a,b,k,g){void 0===k&&(k=[0,0]);void 0===g&&(g=0);89.99999<b?b=89.99999:-89.99999>b&&(b=-89.99999);b*=.017453292519943;k[g]=.017453292519943*a*e;k[g+1]=.5*e*Math.log((1+Math.sin(b))/(1-Math.sin(b)));return k}function m(a,b,k,g,f){void 0===k&&(k=[0,0]);void 0===g&&(g=0);void 0===f&&(f=!1);a=a/e*57.29577951308232;k[g]=f?a:a-360*Math.floor((a+180)/360);k[g+1]=57.29577951308232*(Math.PI/2-2*Math.atan(Math.exp(-1*
b/e)));return k}Object.defineProperty(b,"__esModule",{value:!0});var e=p.wgs84Radius,g=[0,0];b.canProject=f;b.project=function(a,b){var c=a&&a.spatialReference;b=b&&(null!=b.wkid||null!=b.wkt?b:b.spatialReference);return f(c,b)?h.equals(c,b)?l.clone(a):h.isWebMercator(b)?n(a,u,r.WebMercator,!1,l.clone(a)):h.isWGS84(b)?n(a,m,r.WGS84,!1,l.clone(a)):null:null};b.lngLatToXY=u;b.xyToLngLat=m;b.geographicToWebMercator=function(a,b,e){void 0===b&&(b=!1);void 0===e&&(e=l.clone(a));return n(a,u,r.WebMercator,
b,e)};b.webMercatorToGeographic=function(a,b,e){void 0===b&&(b=!1);void 0===e&&(e=l.clone(a));return n(a,m,r.WGS84,b,e)}})},"esri/views/3d/support/projectionUtils":function(){define("require exports ../../../core/libs/gl-matrix-2/gl-matrix ../../../geometry/Point ../../../geometry/SpatialReference ../../../geometry/support/aaBoundingRect ./earthUtils ./mathUtils ../webgl-engine/lib/BufferVectorMath".split(" "),function(a,b,l,p,r,h,n,f,u){function m(a,b,c,d){2===a.length?(z[0]=a[0],z[1]=a[1],z[2]=
0,a=z):a===c&&(l.vec3.copy(z,a),a=z);return e(a,b,0,c,d,0,1)}function e(a,b,c,d,e,k,f){void 0===f&&(f=1);q!==b&&(t=g(b),q=b);v!==e&&(y=g(e),v=e);f=c+3*f;if(t!==y||t===w.UNKNOWN&&!b.equals(e))if(t>w.UNKNOWN&&y>w.UNKNOWN)if(y!==w.WGS84)if(b=x[y],t!==w.WGS84)for(e=D[t];c<f;c+=3,k+=3)e(a,c,A,0),b(A,0,d,k);else for(;c<f;c+=3,k+=3)b(a,c,d,k);else for(e=D[t];c<f;c+=3,k+=3)e(a,c,d,k);else return!1;else if(d!==a||c!==k)for(;c<f;c++,k++)d[k]=a[c];return!0}function g(a){return a.wkt===b.SphericalECEFSpatialReference.wkt?
w.SPHERICAL_ECEF:a.isWGS84?w.WGS84:a.isWebMercator?w.WEBMERC:a.wkt===b.WGS84ECEFSpatialReference.wkt?w.WGS84_ECEF:w.UNKNOWN}function c(a,b,c,d){c[d++]=a[b++];c[d++]=a[b++];c[d]=a[b]}function d(a,b,c,d){var e=.4999999*Math.PI,e=f.clamp(E*a[b+1],-e,e),e=Math.sin(e);c[d++]=E*a[b]*L;c[d++]=L/2*Math.log((1+e)/(1-e));c[d]=a[b+2]}function k(a,b,c,d){var e=L+a[b+2],k=E*a[b+1];a=E*a[b];b=Math.cos(k);c[d++]=Math.cos(a)*b*e;c[d++]=Math.sin(a)*b*e;c[d]=Math.sin(k)*e}Object.defineProperty(b,"__esModule",{value:!0});
b.SphericalECEFSpatialReference=new r({wkt:'GEOCCS["Spherical geocentric",\n  DATUM["Not specified",\n    SPHEROID["Sphere",\' + earthUtils.earthRadius + \',0]],\n  PRIMEM["Greenwich",0.0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",EAST],\n  AXIS["Geocentric Z",NORTH]\n]'});b.WGS84ECEFSpatialReference=new r({wkt:'GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",6378137,298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]'});
var w;(function(a){a[a.UNKNOWN=0]="UNKNOWN";a[a.SPHERICAL_ECEF=1]="SPHERICAL_ECEF";a[a.WGS84=2]="WGS84";a[a.WEBMERC=3]="WEBMERC";a[a.WGS84_ECEF=4]="WGS84_ECEF"})(w||(w={}));var q,t,v,y;b.vectorToVector=m;b.pointToVector=function(a,b,c){z[0]=a.x;z[1]=a.y;var d=a.z;z[2]=void 0!==d?d:0;return e(z,a.spatialReference,0,b,c,0,1)};b.vectorToPoint=function(a,b,c,d){"esri.geometry.SpatialReference"===c.declaredClass?(d=c,c=new p({spatialReference:d})):d=d||c.spatialReference;return e(a,b,0,z,d,0,1)?(c.x=z[0],
c.y=z[1],c.z=z[2],c.spatialReference=d,c):null};b.xyzToVector=function(a,b,c,d,k,g){z[0]=a;z[1]=b;z[2]=c;return e(z,d,0,k,g,0,1)};b.bufferToBuffer=e;b.computeLinearTransformation=function(a,b,c,e){var f=g(a),h=g(e);if(f===h&&h!==w.SPHERICAL_ECEF&&(f!==w.UNKNOWN||a.equals(e)))return l.mat4.identity(c),l.mat4.translate(c,c,b),!0;if(h===w.SPHERICAL_ECEF){if(a=D[f])return a(b,0,A,0),k(A,0,B,0),e=E*A[0],a=E*A[1],b=Math.sin(e),e=Math.cos(e),f=Math.sin(a),a=Math.cos(a),c[0]=-b,c[4]=-f*e,c[8]=a*e,c[12]=B[0],
c[1]=e,c[5]=-f*b,c[9]=a*b,c[13]=B[1],c[2]=0,c[6]=a,c[10]=f,c[14]=B[2],c[3]=0,c[7]=0,c[11]=0,c[15]=1,!0}else if(h===w.WEBMERC&&(f===w.WGS84||f===w.SPHERICAL_ECEF))return D[f](b,0,A,0),b=E*A[1],d(A,0,B,0),l.mat4.identity(c),l.mat4.translate(c,c,B),b=1/Math.cos(b),l.mat4.scale(c,c,[b,b,1]),!0;return!1};b.transformDirection=function(a,b,c,d,e){l.vec3.copy(G,a);l.vec3.add(C,a,b);m(G,c,G,e);m(C,c,C,e);l.vec3.subtract(d,C,G);l.vec3.normalize(d,d)};b.mbsToMbs=function(a,b,c,e){var f=g(b),h=g(e);if(f===h&&
(f!==w.UNKNOWN||b.equals(e)))return c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],!0;if(h===w.SPHERICAL_ECEF){if(b=D[f])return b(a,0,A,0),k(A,0,c,0),c[3]=a[3],!0}else if(h===w.WEBMERC&&(f===w.WGS84||f===w.SPHERICAL_ECEF))return D[f](a,0,A,0),b=Math.abs(E*A[1])+Math.asin(a[3]/(L+a[2])),d(A,0,c,0),c[3]=b>.9999*Math.PI?Number.MAX_VALUE:1/Math.cos(b)*a[3],!0;return!1};b.extentToBoundingBox=function(a,b,c){if(null==a)return!1;var d;z[0]=null!=a.xmin?a.xmin:0;z[1]=null!=a.ymin?a.ymin:0;z[2]=null!=a.zmin?a.zmin:
0;d=e(z,a.spatialReference,0,b,c,0,1);z[0]=null!=a.xmax?a.xmax:0;z[1]=null!=a.ymax?a.ymax:0;z[2]=null!=a.zmax?a.zmax:0;d=d&&e(z,a.spatialReference,0,b,c,3,1);null==a.xmin&&(b[0]=-Infinity);null==a.ymin&&(b[1]=-Infinity);null==a.zmin&&(b[2]=-Infinity);null==a.xmax&&(b[3]=Infinity);null==a.ymax&&(b[4]=Infinity);null==a.zmax&&(b[5]=Infinity);return d};b.extentToBoundingRect=function(a,b,c){if(null==a)return!1;var d;z[0]=null!=a.xmin?a.xmin:0;z[1]=null!=a.ymin?a.ymin:0;z[2]=null!=a.zmin?a.zmin:0;d=e(z,
a.spatialReference,0,z,c,0,1);b[0]=z[0];b[1]=z[1];z[0]=null!=a.xmax?a.xmax:0;z[1]=null!=a.ymax?a.ymax:0;z[2]=null!=a.zmax?a.zmax:0;d=d&&e(z,a.spatialReference,0,z,c,0,1);b[2]=z[0];b[3]=z[1];null==a.xmin&&(b[0]=-Infinity);null==a.ymin&&(b[1]=-Infinity);null==a.xmax&&(b[2]=Infinity);null==a.ymax&&(b[3]=Infinity);return d};b.boundingRectToBoundingRect=function(a,b,c,d){if(null==a)return!1;if(b.equals(d))return h.set(c,a),!0;var k;z[0]=a[0];z[1]=a[1];z[2]=0;k=e(z,b,0,z,d,0,1);c[0]=z[0];c[1]=z[1];z[0]=
a[2];z[1]=a[3];z[2]=0;k=k&&e(z,b,0,z,d,0,1);c[2]=z[0];c[3]=z[1];return k};(function(a){a.x2lon=function(a){return a/L};a.y2lat=function(a){return Math.PI/2-2*Math.atan(Math.exp(-1*a/L))};a.lon2x=function(a){return a*L};a.lat2y=function(a){a=Math.sin(a);return L/2*Math.log((1+a)/(1-a))}})(b.webMercator||(b.webMercator={}));var x=[void 0,k,c,d,function(a,b,c,d){var e=I,k=E*a[b],g=E*a[b+1];a=a[b+2];b=Math.sin(g);var g=Math.cos(g),f=e.a/Math.sqrt(1-e.e2*b*b);c[d++]=(f+a)*g*Math.cos(k);c[d++]=(f+a)*g*
Math.sin(k);c[d++]=(f*(1-e.e2)+a)*b}],D=[void 0,function(a,b,c,d){var e=u.Vec3Compact.length(a,b),k=f.asin(a[b+2]/e);a=(0<a[b+1]?1:-1)*f.acos(a[b]/(Math.cos(k)*e));c[d++]=H*a;c[d++]=H*k;c[d]=e-L},c,function(a,b,c,d){c[d++]=H*(a[b++]/L);c[d++]=H*(Math.PI/2-2*Math.atan(Math.exp(-1*a[b++]/L)));c[d]=a[b]},function(a,b,c,d){var e=I,k=a[b],g=a[b+1];a=a[b+2];var f,h,l,q,t,n;b=Math.abs(a);f=k*k+g*g;h=Math.sqrt(f);l=f+a*a;q=Math.sqrt(l);k=Math.atan2(g,k);t=a*a/l;l=f/l;g=e.a2/q;f=e.a3-e.a4/q;.3<l?(t=b/q*(1+
l*(e.a1+g+t*f)/q),q=Math.asin(t),g=t*t,l=Math.sqrt(1-g)):(l=h/q*(1-t*(e.a5-g-l*f)/q),q=Math.acos(l),g=1-l*l,t=Math.sqrt(g));n=1-e.e2*g;g=e.a/Math.sqrt(n);e=e.a6*g;g=h-g*l;f=b-e*t;b=l*g+t*f;h=l*f-t*g;e=h/(e/n+b);q+=e;0>a&&(q=-q);c[d++]=H*k;c[d++]=H*q;c[d]=b+h*e/2}],E=f.deg2rad(1),H=f.rad2deg(1),L=n.earthRadius,I={a:6378137,e2:.006694379990137799,a1:42697.67270715754,a2:1.8230912546075456E9,a3:142.91722289812412,a4:4.557728136518864E9,a5:42840.589930055656,a6:.9933056200098622},z=l.vec3f64.create(),
A=l.vec3f64.create(),B=l.vec3f64.create(),G=l.vec3f64.create(),C=l.vec3f64.create()})},"esri/geometry/support/aaBoundingRect":function(){define(["require","exports","../../core/compilerUtils","../Extent"],function(a,b,l,p){function r(a){void 0===a&&(a=b.ZERO);return[a[0],a[1],a[2],a[3]]}function h(a){return a[0]>=a[2]?0:a[2]-a[0]}function n(a){return a[1]>=a[3]?0:a[3]-a[1]}function f(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];return a}function u(a){return 4===a.length}function m(a,b,c){return a<
b?b:a>c?c:a}Object.defineProperty(b,"__esModule",{value:!0});b.create=r;b.clone=function(a){return[a[0],a[1],a[2],a[3]]};b.fromValues=function(a,b,c,d,k){void 0===k&&(k=r());k[0]=a;k[1]=b;k[2]=c;k[3]=d;return k};b.fromExtent=function(a,b){void 0===b&&(b=r());b[0]=a.xmin;b[1]=a.ymin;b[2]=a.xmax;b[3]=a.ymax;return b};b.toExtent=function(a,b){return new p({xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3],spatialReference:b})};b.expandPointInPlace=function(a,b){b[0]<a[0]&&(a[0]=b[0]);b[0]>a[2]&&(a[2]=b[0]);b[1]<
a[1]&&(a[1]=b[1]);b[1]>a[3]&&(a[3]=b[1])};b.expand=function(a,b,c){void 0===c&&(c=a);if("length"in b)if(u(b))c[0]=Math.min(a[0],b[0]),c[1]=Math.min(a[1],b[1]),c[2]=Math.max(a[2],b[2]),c[3]=Math.max(a[3],b[3]);else{if(2===b.length||3===b.length)c[0]=Math.min(a[0],b[0]),c[1]=Math.min(a[1],b[1]),c[2]=Math.max(a[2],b[0]),c[3]=Math.max(a[3],b[1])}else switch(b.type){case "extent":c[0]=Math.min(a[0],b.xmin);c[1]=Math.min(a[1],b.ymin);c[2]=Math.max(a[2],b.xmax);c[3]=Math.max(a[3],b.ymax);break;case "point":c[0]=
Math.min(a[0],b.x);c[1]=Math.min(a[1],b.y);c[2]=Math.max(a[2],b.x);c[3]=Math.max(a[3],b.y);break;default:l.neverReached(b)}return c};b.expandWithNestedArray=function(a,b,c){void 0===c&&(c=a);var d=b.length,e=a[0],g=a[1],f=a[2];a=a[3];for(var h=0;h<d;h++){var l=b[h],e=Math.min(e,l[0]),g=Math.min(g,l[1]),f=Math.max(f,l[0]);a=Math.max(a,l[1])}c[0]=e;c[1]=g;c[2]=f;c[3]=a;return c};b.allFinite=function(a){for(var b=0;4>b;b++)if(!isFinite(a[b]))return!1;return!0};b.width=h;b.height=n;b.diameter=function(a){var b=
h(a);a=n(a);return Math.sqrt(b*b+a*a)};b.area=function(a){return h(a)*n(a)};b.center=function(a,b){void 0===b&&(b=[0,0]);b[0]=a[0]+h(a)/2;b[1]=a[1]+n(a)/2;return b};b.containsPoint=function(a,b){return b[0]>=a[0]&&b[1]>=a[1]&&b[0]<=a[2]&&b[1]<=a[3]};b.containsPointWithMargin=function(a,b,c){return b[0]>=a[0]-c&&b[1]>=a[1]-c&&b[0]<=a[2]+c&&b[1]<=a[3]+c};b.intersects=function(a,b){return Math.max(b[0],a[0])<=Math.min(b[2],a[2])&&Math.max(b[1],a[1])<=Math.min(b[3],a[3])};b.contains=function(a,b){return b[0]>=
a[0]&&b[2]<=a[2]&&b[1]>=a[1]&&b[3]<=a[3]};b.intersection=function(a,b,c){void 0===c&&(c=a);var d=b[0],e=b[1],g=b[2];b=b[3];c[0]=m(a[0],d,g);c[1]=m(a[1],e,b);c[2]=m(a[2],d,g);c[3]=m(a[3],e,b);return c};b.distance=function(a,b){var c=(a[1]+a[3])/2,d=Math.max(Math.abs(b[0]-(a[0]+a[2])/2)-h(a)/2,0);a=Math.max(Math.abs(b[1]-c)-n(a)/2,0);return Math.sqrt(d*d+a*a)};b.offset=function(a,b,c,d){void 0===d&&(d=a);d[0]=a[0]+b;d[1]=a[1]+c;d[2]=a[2]+b;d[3]=a[3]+c;return d};b.pad=function(a,b,c){void 0===c&&(c=
a);c[0]=a[0]-b;c[1]=a[1]-b;c[2]=a[2]+b;c[3]=a[3]+b;return c};b.setMin=function(a,b,c){void 0===c&&(c=a);c[0]=b[0];c[1]=b[1];c!==a&&(c[2]=a[2],c[3]=a[3]);return c};b.setMax=function(a,b,c){void 0===c&&(c=a);c[2]=b[0];c[3]=b[1];c!==a&&(c[0]=a[0],c[1]=a[1]);return a};b.set=f;b.empty=function(a){return a?f(a,b.NEGATIVE_INFINITY):r(b.NEGATIVE_INFINITY)};b.is=u;b.isPoint=function(a){return(0===h(a)||!isFinite(a[0]))&&(0===n(a)||!isFinite(a[1]))};b.equals=function(a,b,c){if(null==a||null==b)return a===b;
if(!u(a)||!u(b))return!1;if(c)for(var d=0;d<a.length;d++){if(!c(a[d],b[d]))return!1}else for(d=0;d<a.length;d++)if(a[d]!==b[d])return!1;return!0};b.POSITIVE_INFINITY=[-Infinity,-Infinity,Infinity,Infinity];b.NEGATIVE_INFINITY=[Infinity,Infinity,-Infinity,-Infinity];b.ZERO=[0,0,0,0]})},"esri/core/compilerUtils":function(){define(["require","exports","./has"],function(a,b,l){Object.defineProperty(b,"__esModule",{value:!0});b.neverReached=function(a){};b.isSome=function(a){return null!=a};b.isNone=function(a){return null==
a}})},"esri/geometry/Extent":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Geometry ./Point ./SpatialReference ./support/contains ./support/intersects ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),function(a,b,l,p,r,h,n,f,u,m,e,g,c){function d(a,b,c){return null==b?c:null==c?b:a(b,c)}a=function(a){function b(){for(var b=0;b<arguments.length;b++);b=a.call(this)||this;
b.type="extent";b.xmin=0;b.ymin=0;b.mmin=void 0;b.zmin=void 0;b.xmax=0;b.ymax=0;b.mmax=void 0;b.zmax=void 0;return b}l(b,a);k=b;b.prototype.normalizeCtorArgs=function(a,b,c,d,e){return!a||"esri.geometry.SpatialReference"!==a.declaredClass&&null==a.wkid?"object"===typeof a?(a.spatialReference=null==a.spatialReference?u.WGS84:a.spatialReference,a):{xmin:a,ymin:b,xmax:c,ymax:d,spatialReference:null==e?u.WGS84:e}:{spatialReference:a,xmin:0,ymin:0,xmax:0,ymax:0}};Object.defineProperty(b.prototype,"center",
{get:function(){var a=new f({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});this.hasZ&&(a.z=.5*(this.zmin+this.zmax));this.hasM&&(a.m=.5*(this.mmin+this.mmax));return a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"extent",{get:function(){return this.clone()},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hasM",{get:function(){return null!=this.mmin&&null!=this.mmax},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,
"hasZ",{get:function(){return null!=this.zmin&&null!=this.zmax},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"height",{get:function(){return Math.abs(this.ymax-this.ymin)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"width",{get:function(){return Math.abs(this.xmax-this.xmin)},enumerable:!0,configurable:!0});b.prototype.centerAt=function(a){var b=this.center;return null!=a.z&&this.hasZ?this.offset(a.x-b.x,a.y-b.y,a.z-b.z):this.offset(a.x-b.x,a.y-b.y)};b.prototype.clone=
function(){var a=new k;a.xmin=this.xmin;a.ymin=this.ymin;a.xmax=this.xmax;a.ymax=this.ymax;a.spatialReference=this.spatialReference;null!=this.zmin&&(a.zmin=this.zmin,a.zmax=this.zmax);null!=this.mmin&&(a.mmin=this.mmin,a.mmax=this.mmax);return a};b.prototype.contains=function(a){if(!a)return!1;var b=this.spatialReference,d=a.spatialReference;b&&d&&!b.equals(d)&&c.canProject(b,d)&&(a=b.isWebMercator?c.geographicToWebMercator(a):c.webMercatorToGeographic(a,!0));return"point"===a.type?m.extentContainsPoint(this,
a):"extent"===a.type?m.extentContainsExtent(this,a):!1};b.prototype.equals=function(a){if(!a)return!1;var b=this.spatialReference,d=a.spatialReference;b&&d&&!b.equals(d)&&c.canProject(b,d)&&(a=b.isWebMercator?c.geographicToWebMercator(a):c.webMercatorToGeographic(a,!0));return this.xmin===a.xmin&&this.ymin===a.ymin&&this.zmin===a.zmin&&this.mmin===a.mmin&&this.xmax===a.xmax&&this.ymax===a.ymax&&this.zmax===a.zmax&&this.mmax===a.mmax};b.prototype.expand=function(a){a=.5*(1-a);var b=this.width*a,c=
this.height*a;this.xmin+=b;this.ymin+=c;this.xmax-=b;this.ymax-=c;this.hasZ&&(b=(this.zmax-this.zmin)*a,this.zmin+=b,this.zmax-=b);this.hasM&&(a*=this.mmax-this.mmin,this.mmin+=a,this.mmax-=a);return this};b.prototype.intersects=function(a){if(!a)return!1;var b=this.spatialReference,d=a.spatialReference;b&&d&&!b.equals(d)&&c.canProject(b,d)&&(a=b.isWebMercator?c.geographicToWebMercator(a):c.webMercatorToGeographic(a,!0));b=e.getExtentIntersector(a.type);return"mesh"!==a.type?b(this,a):b(this,a.extent)};
b.prototype.normalize=function(){var a=this._normalize(!1,!0);return Array.isArray(a)?a:[a]};b.prototype.offset=function(a,b,c){this.xmin+=a;this.ymin+=b;this.xmax+=a;this.ymax+=b;null!=c&&(this.zmin+=c,this.zmax+=c);return this};b.prototype.shiftCentralMeridian=function(){return this._normalize(!0)};b.prototype.union=function(a){this.xmin=Math.min(this.xmin,a.xmin);this.ymin=Math.min(this.ymin,a.ymin);this.xmax=Math.max(this.xmax,a.xmax);this.ymax=Math.max(this.ymax,a.ymax);if(this.hasZ||a.hasZ)this.zmin=
d(Math.min,this.zmin,a.zmin),this.zmax=d(Math.max,this.zmax,a.zmax);if(this.hasM||a.hasM)this.mmin=d(Math.min,this.mmin,a.mmin),this.mmax=d(Math.max,this.mmax,a.mmax);return this};b.prototype.intersection=function(a){if(!this.intersects(a))return null;this.xmin=Math.max(this.xmin,a.xmin);this.ymin=Math.max(this.ymin,a.ymin);this.xmax=Math.min(this.xmax,a.xmax);this.ymax=Math.min(this.ymax,a.ymax);if(this.hasZ||a.hasZ)this.zmin=d(Math.max,this.zmin,a.zmin),this.zmax=d(Math.min,this.zmax,a.zmax);if(this.hasM||
a.hasM)this.mmin=d(Math.max,this.mmin,a.mmin),this.mmax=d(Math.min,this.mmax,a.mmax);return this};b.prototype.toJSON=function(a){return this.write(null,a)};b.prototype._shiftCM=function(a){void 0===a&&(a=g.getInfo(this.spatialReference));if(!a||!this.spatialReference)return this;var b=this.spatialReference,d=this._getCM(a);if(d){var e=b.isWebMercator?c.webMercatorToGeographic(d):d;this.xmin-=d.x;this.xmax-=d.x;b.isWebMercator||(e.x=this._normalizeX(e.x,a).x);this.spatialReference=new u(r.substitute({Central_Meridian:e.x},
b.isWGS84?a.altTemplate:a.wkTemplate))}return this};b.prototype._getCM=function(a){var b=null,c=a.valid;a=c[0];var c=c[1],d=this.xmin,e=this.xmax;d>=a&&d<=c&&e>=a&&e<=c||(b=this.center);return b};b.prototype._normalize=function(a,b,c){var d=this.spatialReference;if(!d)return this;c=c||g.getInfo(d);if(!c)return this;var e=this._getParts(c).map(function(a){return a.extent});if(2>e.length)return e[0]||this;if(2<e.length)return a?this._shiftCM(c):this.set({xmin:c.valid[0],xmax:c.valid[1]});if(a)return this._shiftCM(c);
if(b)return e;var k=!0,f=!0;e.forEach(function(a){a.hasZ||(k=!1);a.hasM||(f=!1)});return{rings:e.map(function(a){var b=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(k)for(var c=(a.zmax-a.zmin)/2,d=0;d<b.length;d++)b[d].push(c);if(f)for(a=(a.mmax-a.mmin)/2,d=0;d<b.length;d++)b[d].push(a);return b}),hasZ:k,hasM:f,spatialReference:d}};b.prototype._getParts=function(a){var b=this.cache._parts;if(!b){var b=[],c=this.ymin,d=this.ymax,e=this.spatialReference,f=this.width,
h=this.xmin,l=this.xmax,q=void 0;a=a||g.getInfo(e);var n=a.valid,m=n[0],t=n[1],q=this._normalizeX(this.xmin,a),p=q.x,n=q.frameId,q=this._normalizeX(this.xmax,a),w=q.x;a=q.frameId;q=p===w&&0<f;if(f>2*t){f=new k(h<l?p:w,c,t,d,e);h=new k(m,c,h<l?w:p,d,e);l=new k(0,c,t,d,e);c=new k(m,c,0,d,e);d=[];e=[];f.contains(l)&&d.push(n);f.contains(c)&&e.push(n);h.contains(l)&&d.push(a);h.contains(c)&&e.push(a);for(m=n+1;m<a;m++)d.push(m),e.push(m);b.push({extent:f,frameIds:[n]},{extent:h,frameIds:[a]},{extent:l,
frameIds:d},{extent:c,frameIds:e})}else p>w||q?b.push({extent:new k(p,c,t,d,e),frameIds:[n]},{extent:new k(m,c,w,d,e),frameIds:[a]}):b.push({extent:new k(p,c,w,d,e),frameIds:[n]});this.cache._parts=b}a=this.hasZ;c=this.hasM;if(a||c)for(n={},a&&(n.zmin=this.zmin,n.zmax=this.zmax),c&&(n.mmin=this.mmin,n.mmax=this.mmax),a=0;a<b.length;a++)b[a].extent.set(n);return b};b.prototype._normalizeX=function(a,b){var c=b.valid;b=c[0];var d=c[1],c=2*d,e=0;a>d?(b=Math.ceil(Math.abs(a-d)/c),a-=b*c,e=b):a<b&&(b=
Math.ceil(Math.abs(a-b)/c),a+=b*c,e=-b);return{x:a,frameId:e}};var k;p([h.property({dependsOn:"xmin ymin zmin mmin xmax ymax zmax mmax spatialReference".split(" ")})],b.prototype,"cache",void 0);p([h.property({readOnly:!0,dependsOn:["cache"]})],b.prototype,"center",null);p([h.property({readOnly:!0,dependsOn:["cache"]})],b.prototype,"extent",null);p([h.property({readOnly:!0,dependsOn:["mmin","mmax"],json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasM",null);p([h.property({readOnly:!0,
dependsOn:["zmin","zmax"],json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasZ",null);p([h.property({readOnly:!0,dependsOn:["ymin","ymax"]})],b.prototype,"height",null);p([h.property({readOnly:!0,dependsOn:["xmin","xmax"]})],b.prototype,"width",null);p([h.property({type:Number,json:{write:!0}})],b.prototype,"xmin",void 0);p([h.property({type:Number,json:{write:!0}})],b.prototype,"ymin",void 0);p([h.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],
b.prototype,"mmin",void 0);p([h.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],b.prototype,"zmin",void 0);p([h.property({type:Number,json:{write:!0}})],b.prototype,"xmax",void 0);p([h.property({type:Number,json:{write:!0}})],b.prototype,"ymax",void 0);p([h.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],b.prototype,"mmax",void 0);p([h.property({type:Number,
json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],b.prototype,"zmax",void 0);return b=k=p([h.subclass("esri.geometry.Extent")],b)}(h.declared(n));a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/support/contains":function(){define(["require","exports"],function(a,b){function l(a,b,f,l){return b>=a.xmin&&b<=a.xmax&&f>=a.ymin&&f<=a.ymax?null!=l&&a.hasZ?l>=a.zmin&&l<=a.zmax:!0:!1}function p(a,b){if(a=a.rings)if(Array.isArray(a[0][0])){for(var f=
!1,h=0,l=a.length;h<l;h++)f=r(f,a[h],b);b=f}else b=r(!1,a,b);else b=!1;return b}function r(a,b,f){var h=f[0];f=f[1];for(var l=0,e=0,g=b.length;e<g;e++){l++;l===g&&(l=0);var c=b[e],d=c[0],c=c[1],k=b[l],n=k[0],k=k[1];(c<f&&k>=f||k<f&&c>=f)&&d+(f-c)/(k-c)*(n-d)<h&&(a=!a)}return a}Object.defineProperty(b,"__esModule",{value:!0});b.extentContainsPoint=function(a,b){return l(a,b.x,b.y,b.z)};b.extentContainsExtent=function(a,b){var f=b.xmin,h=b.ymin,n=b.zmin,e=b.xmax,g=b.ymax,c=b.zmax;return a.hasZ&&b.hasZ?
l(a,f,h,n)&&l(a,f,g,n)&&l(a,e,g,n)&&l(a,e,h,n)&&l(a,f,h,c)&&l(a,f,g,c)&&l(a,e,g,c)&&l(a,e,h,c):l(a,f,h)&&l(a,f,g)&&l(a,e,g)&&l(a,e,h)};b.extentContainsCoords2D=function(a,b){return l(a,b[0],b[1])};b.extentContainsCoords3D=function(a,b){return l(a,b[0],b[1],b[2])};b.polygonContainsPoint=function(a,b){return p(a,[b.x,b.y])};b.polygonContainsCoords=p})},"esri/geometry/support/intersects":function(){define(["require","exports","./contains"],function(a,b,l){function p(a,b){return l.extentContainsPoint(a,
b)}function r(a,b){var c=a.hasZ&&b.hasZ,d;if(a.xmin<=b.xmin){if(d=b.xmin,a.xmax<d)return!1}else if(d=a.xmin,b.xmax<d)return!1;if(a.ymin<=b.ymin){if(d=b.ymin,a.ymax<d)return!1}else if(d=a.ymin,b.ymax<d)return!1;if(c&&b.hasZ)if(a.zmin<=b.zmin){if(c=b.zmin,a.zmax<c)return!1}else if(c=a.zmin,b.zmax<c)return!1;return!0}function h(a,b){var c=b.hasZ?l.extentContainsCoords3D:l.extentContainsCoords2D,d=0;for(b=b.points;d<b.length;d++)if(c(a,b[d]))return!0;return!1}function n(a,b){e[0]=a.xmin;e[1]=a.ymax;g[0]=
a.xmax;g[1]=a.ymax;c[0]=a.xmin;c[1]=a.ymin;d[0]=a.xmax;d[1]=a.ymin;for(var f=0,h=k;f<h.length;f++)if(l.polygonContainsCoords(b,h[f]))return!0;f=0;for(b=b.rings;f<b.length;f++)if(h=b[f],h.length){var q=h[0];if(l.extentContainsCoords2D(a,q))return!0;for(var n=1;n<h.length;n++){var m=h[n];if(l.extentContainsCoords2D(a,m)||u(q,m,w))return!0;q=m}}return!1}function f(a,b){e[0]=a.xmin;e[1]=a.ymax;g[0]=a.xmax;g[1]=a.ymax;c[0]=a.xmin;c[1]=a.ymin;d[0]=a.xmax;d[1]=a.ymin;b=b.paths;for(var k=0;k<b.length;k++){var f=
b[k];if(b.length){var h=f[0];if(l.extentContainsCoords2D(a,h))return!0;for(var q=1;q<f.length;q++){var n=f[q];if(l.extentContainsCoords2D(a,n)||u(h,n,w))return!0;h=n}}}return!1}function u(a,b,c){for(var d=0;d<c.length;d++)if(m(a,b,c[d][0],c[d][1]))return!0;return!1}function m(a,b,c,d,e){var k=a[0];a=a[1];var g=b[0];b=b[1];var f=c[0],h=c[1];c=d[0]-f;var f=k-f,l=g-k;d=d[1]-h;var h=a-h,q=b-a,n=d*l-c*q;if(0===n)return!1;c=(c*h-d*f)/n;f=(l*h-q*f)/n;return 0<=c&&1>=c&&0<=f&&1>=f?(e&&(e[0]=k+c*(g-k),e[1]=
a+c*(b-a)),!0):!1}Object.defineProperty(b,"__esModule",{value:!0});b.extentIntersectsPoint=p;b.extentIntersectsExtent=r;b.extentIntersectsMultipoint=h;var e=[0,0],g=[0,0],c=[0,0],d=[0,0],k=[e,g,c,d],w=[[c,e],[e,g],[g,d],[d,c]];b.extentIntersectsPolygon=n;b.extentIntersectsPolyline=f;var q=[0,0];b.isSelfIntersecting=function(a){for(var b=0;b<a.length;b++){for(var c=a[b],d=0;d<c.length-1;d++)for(var e=c[d],k=c[d+1],f=b+1;f<a.length;f++)for(var g=0;g<a[f].length-1;g++){var h=a[f][g],l=a[f][g+1],n=m(e,
k,h,l,q);if(n&&!(q[0]===e[0]&&q[1]===e[1]||q[0]===h[0]&&q[1]===h[1]||q[0]===k[0]&&q[1]===k[1]||q[0]===l[0]&&q[1]===l[1]))return!0}g=c.length;if(!(4>=g))for(d=0;d<g-3;d++){var p=g-1;0===d&&(p=g-2);e=c[d];k=c[d+1];for(f=d+2;f<p;f++)if(h=c[f],l=c[f+1],(n=m(e,k,h,l,q))&&!(q[0]===e[0]&&q[1]===e[1]||q[0]===h[0]&&q[1]===h[1]||q[0]===k[0]&&q[1]===k[1]||q[0]===l[0]&&q[1]===l[1]))return!0}}return!1};b.segmentIntersects=m;b.getExtentIntersector=function(a){switch(a){case "esriGeometryEnvelope":case "extent":return r;
case "esriGeometryMultipoint":case "multipoint":return h;case "esriGeometryPoint":case "point":return p;case "esriGeometryPolygon":case "polygon":return n;case "esriGeometryPolyline":case "polyline":return f;case "mesh":return r}}})},"esri/views/3d/webgl-engine/lib/BufferVectorMath":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});(function(a){a.length=function(a,b){var h=a[b],l=a[b+1];a=a[b+2];return Math.sqrt(h*h+l*l+a*a)};a.normalize=function(a,
b){var h=a[b],l=a[b+1],f=a[b+2],h=1/Math.sqrt(h*h+l*l+f*f);a[b]*=h;a[b+1]*=h;a[b+2]*=h};a.scale=function(a,b,h){a[b]*=h;a[b+1]*=h;a[b+2]*=h};a.add=function(a,b,h,l,f,u){void 0===u&&(u=b);f=f||a;f[u]=a[b]+h[l];f[u+1]=a[b+1]+h[l+1];f[u+2]=a[b+2]+h[l+2]};a.subtract=function(a,b,h,l,f,u){void 0===u&&(u=b);f=f||a;f[u]=a[b]-h[l];f[u+1]=a[b+1]-h[l+1];f[u+2]=a[b+2]-h[l+2]}})(b.Vec3Compact||(b.Vec3Compact={}))})},"esri/views/3d/webgl-engine/lib/localOrigin":function(){define(["require","exports","../../../../core/libs/gl-matrix-2/gl-matrix"],
function(a,b,l){Object.defineProperty(b,"__esModule",{value:!0});b.fromVector=function(a,b){return{vec3:l.vec3f64.clone(a),id:b}};b.fromValues=function(a,b,h,n){return{vec3:l.vec3f64.fromValues(a,b,h),id:n}}})},"esri/views/3d/support/orientedBoundingBox":function(){define("require exports ../../../core/libs/gl-matrix-2/gl-matrix ../../../geometry/support/aaBoundingBox ./dito ./geometryUtils".split(" "),function(a,b,l,p,r,h){function n(a,b,c){return{center:l.vec3f64.clone(a),halfSize:l.vec3f32.clone(b),
quaternion:l.quatf32.clone(c)}}function f(a,b){var c=h.plane.signedDistance(b,a.center);a=u(a,b);return c>a?1:c<-a?-1:0}function u(a,b){l.quat.conjugate(m,a.quaternion);l.vec3.transformQuat(e,b,m);a=a.halfSize;return Math.abs(e[0]*a[0])+Math.abs(e[1]*a[1])+Math.abs(e[2]*a[2])}Object.defineProperty(b,"__esModule",{value:!0});var m=l.quatf32.create(),e=l.vec3f32.create(),g=l.vec3f32.create(),c=l.mat3f32.create();a=function(){return function(a){this.buffer=new ArrayBuffer(56*a);this.obbs=Array(a);for(var b=
0;b<a;b++)this.obbs[b]={center:l.vec3f64.createView(this.buffer,56*b+0),halfSize:l.vec3f32.createView(this.buffer,56*b+24),quaternion:l.quatf32.createView(this.buffer,56*b+36)}}}();b.ObbArray=a;b.create=n;b.clone=function(a){return n(a.center,a.halfSize,a.quaternion)};b.set=function(a,b){l.vec3.copy(b.center,a.center);l.vec3.copy(b.halfSize,a.halfSize);l.quat.copy(b.quaternion,a.quaternion)};b.compute=function(a,b){b||(b=n([0,0,0],[-1,-1,-1],[0,0,0,1]));r.computeOBB(a,b);return b};b.intersectPlane=
f;b.toAaBoundingBox=function(a,b){b||(b=p.create());var d=l.mat3.fromQuat(c,a.quaternion),e=a.halfSize[0]*Math.abs(d[0])+a.halfSize[1]*Math.abs(d[3])+a.halfSize[2]*Math.abs(d[6]),k=a.halfSize[0]*Math.abs(d[1])+a.halfSize[1]*Math.abs(d[4])+a.halfSize[2]*Math.abs(d[7]),d=a.halfSize[0]*Math.abs(d[2])+a.halfSize[1]*Math.abs(d[5])+a.halfSize[2]*Math.abs(d[8]);b[0]=a.center[0]-e;b[1]=a.center[1]-k;b[2]=a.center[2]-d;b[3]=a.center[0]+e;b[4]=a.center[1]+k;b[5]=a.center[2]+d;return b};b.minimumDistancePlane=
function(a,b){var c=h.plane.signedDistance(b,a.center);a=u(a,b);return c-a};b.maximumDistancePlane=function(a,b){var c=h.plane.signedDistance(b,a.center);a=u(a,b);return c+a};b.isVisible=function(a,b){return 0>=f(a,b.planes[0])&&0>=f(a,b.planes[1])&&0>=f(a,b.planes[2])&&0>=f(a,b.planes[3])&&0>=f(a,b.planes[4])&&0>=f(a,b.planes[5])};b.intersectLine=function(a,b,c,f){void 0===f&&(f=0);l.quat.conjugate(m,a.quaternion);l.vec3.subtract(e,b,a.center);b=l.vec3.transformQuat(e,e,m);c=l.vec3.transformQuat(g,
c,m);for(var d=-Infinity,k=Infinity,h=0;3>h;h++)if(1E-6<Math.abs(c[h]))var q=(f+a.halfSize[h]-b[h])/c[h],n=(-f-a.halfSize[h]-b[h])/c[h],d=Math.max(d,Math.min(q,n)),k=Math.min(k,Math.max(q,n));else if(b[h]>a.halfSize[h]+f||b[h]<-a.halfSize[h]-f)return!1;return d<=k}})},"esri/geometry/support/aaBoundingBox":function(){define(["require","exports","../Extent","./aaBoundingRect"],function(a,b,l,p){function r(a){void 0===a&&(a=b.ZERO);return[a[0],a[1],a[2],a[3],a[4],a[5]]}function h(a,b,e,f,g,h,l){void 0===
l&&(l=r());l[0]=a;l[1]=b;l[2]=e;l[3]=f;l[4]=g;l[5]=h;return l}function n(a){return a[0]>=a[3]?0:a[3]-a[0]}function f(a){return a[1]>=a[4]?0:a[4]-a[1]}function u(a){return a[2]>=a[5]?0:a[5]-a[2]}function m(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];return a}function e(a){return 6===a.length}Object.defineProperty(b,"__esModule",{value:!0});b.create=r;b.fromValues=h;b.fromExtent=function(a,b){void 0===b&&(b=r());b[0]=a.xmin;b[1]=a.ymin;b[2]=a.zmin;b[3]=a.xmax;b[4]=a.ymax;b[5]=a.zmax;
return b};b.toExtent=function(a,b){return isFinite(a[2])||isFinite(a[5])?new l({xmin:a[0],xmax:a[3],ymin:a[1],ymax:a[4],zmin:a[2],zmax:a[5],spatialReference:b}):new l({xmin:a[0],xmax:a[3],ymin:a[1],ymax:a[4],spatialReference:b})};b.fromMinMax=function(a,b,e){void 0===e&&(e=r());e[0]=a[0];e[1]=a[1];e[2]=a[2];e[3]=b[0];e[4]=b[1];e[5]=b[2];return e};b.expandPointInPlace=function(a,b){b[0]<a[0]&&(a[0]=b[0]);b[0]>a[3]&&(a[3]=b[0]);b[1]<a[1]&&(a[1]=b[1]);b[1]>a[4]&&(a[4]=b[1]);b[2]<a[2]&&(a[2]=b[2]);b[2]>
a[5]&&(a[5]=b[2])};b.expand=function(a,b,k){void 0===k&&(k=a);e(b)?(k[0]=Math.min(a[0],b[0]),k[1]=Math.min(a[1],b[1]),k[2]=Math.min(a[2],b[2]),k[3]=Math.max(a[3],b[3]),k[4]=Math.max(a[4],b[4]),k[5]=Math.max(a[5],b[5])):p.is(b)?(k[0]=Math.min(a[0],b[0]),k[1]=Math.min(a[1],b[1]),k[3]=Math.max(a[3],b[2]),k[4]=Math.max(a[4],b[3])):2===b.length?(k[0]=Math.min(a[0],b[0]),k[1]=Math.min(a[1],b[1]),k[3]=Math.max(a[3],b[0]),k[4]=Math.max(a[4],b[1])):3===b.length&&(k[0]=Math.min(a[0],b[0]),k[1]=Math.min(a[1],
b[1]),k[2]=Math.min(a[2],b[2]),k[3]=Math.max(a[3],b[0]),k[4]=Math.max(a[4],b[1]),k[5]=Math.max(a[5],b[2]));return k};b.expandWithBuffer=function(a,b,e,f,g){void 0===g&&(g=a);var c=a[0],d=a[1],k=a[2],h=a[3],l=a[4];a=a[5];for(var q=0;q<f;q++)c=Math.min(c,b[e+3*q]),d=Math.min(d,b[e+3*q+1]),k=Math.min(k,b[e+3*q+2]),h=Math.max(h,b[e+3*q]),l=Math.max(l,b[e+3*q+1]),a=Math.max(a,b[e+3*q+2]);g[0]=c;g[1]=d;g[2]=k;g[3]=h;g[4]=l;g[5]=a;return g};b.expandWithNestedArray=function(a,b,e,f){void 0===f&&(f=a);var c=
b.length,d=a[0],k=a[1],g=a[2],h=a[3],l=a[4];a=a[5];if(e)for(e=0;e<c;e++){var n=b[e],d=Math.min(d,n[0]),k=Math.min(k,n[1]),g=Math.min(g,n[2]),h=Math.max(h,n[0]),l=Math.max(l,n[1]);a=Math.max(a,n[2])}else for(e=0;e<c;e++)n=b[e],d=Math.min(d,n[0]),k=Math.min(k,n[1]),h=Math.max(h,n[0]),l=Math.max(l,n[1]);f[0]=d;f[1]=k;f[2]=g;f[3]=h;f[4]=l;f[5]=a;return f};b.allFinite=function(a){for(var b=0;6>b;b++)if(!isFinite(a[b]))return!1;return!0};b.width=n;b.depth=f;b.height=u;b.diameter=function(a){var b=n(a),
c=u(a);a=f(a);return Math.sqrt(b*b+c*c+a*a)};b.center=function(a,b){void 0===b&&(b=[0,0,0]);b[0]=a[0]+n(a)/2;b[1]=a[1]+f(a)/2;b[2]=a[2]+u(a)/2;return b};b.size=function(a,b){void 0===b&&(b=[0,0,0]);b[0]=n(a);b[1]=f(a);b[2]=u(a);return b};b.maximumDimension=function(a){return Math.max(n(a),u(a),f(a))};b.containsPoint=function(a,b){return b[0]>=a[0]&&b[1]>=a[1]&&b[2]>=a[2]&&b[0]<=a[3]&&b[1]<=a[4]&&b[2]<=a[5]};b.containsPointWithMargin=function(a,b,e){return b[0]>=a[0]-e&&b[1]>=a[1]-e&&b[2]>=a[2]-e&&
b[0]<=a[3]+e&&b[1]<=a[4]+e&&b[2]<=a[5]+e};b.contains=function(a,b){return b[0]>=a[0]&&b[1]>=a[1]&&b[2]>=a[2]&&b[3]<=a[3]&&b[4]<=a[4]&&b[5]<=a[5]};b.intersects=function(a,b){return Math.max(b[0],a[0])<=Math.min(b[3],a[3])&&Math.max(b[1],a[1])<=Math.min(b[4],a[4])&&Math.max(b[2],a[2])<=Math.min(b[5],a[5])};b.offset=function(a,b,e,f,g){void 0===g&&(g=a);g[0]=a[0]+b;g[1]=a[1]+e;g[2]=a[2]+f;g[3]=a[3]+b;g[4]=a[4]+e;g[5]=a[5]+f;return g};b.setMin=function(a,b,e){void 0===e&&(e=a);e[0]=b[0];e[1]=b[1];e[2]=
b[2];e!==a&&(e[3]=a[3],e[4]=a[4],e[5]=a[5]);return e};b.setMax=function(a,b,e){void 0===e&&(e=a);e[3]=b[0];e[4]=b[1];e[5]=b[2];e!==a&&(e[0]=a[0],e[1]=a[1],e[2]=a[2]);return a};b.set=m;b.empty=function(a){return a?m(a,b.NEGATIVE_INFINITY):r(b.NEGATIVE_INFINITY)};b.toRect=function(a,b){b||(b=p.create());b[0]=a[0];b[1]=a[1];b[2]=a[3];b[3]=a[4];return b};b.fromRect=function(a,b){a[0]=b[0];a[1]=b[1];a[3]=b[2];a[4]=b[3];return a};b.is=e;b.isPoint=function(a){return 0===n(a)&&0===f(a)&&0===u(a)};b.equals=
function(a,b,k){if(null==a||null==b)return a===b;if(!e(a)||!e(b))return!1;if(k)for(var c=0;c<a.length;c++){if(!k(a[c],b[c]))return!1}else for(c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0};b.wrap=function(a,b,e,f,l,n){return h(a,b,e,f,l,n,g)};b.POSITIVE_INFINITY=[-Infinity,-Infinity,-Infinity,Infinity,Infinity,Infinity];b.NEGATIVE_INFINITY=[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity];b.ZERO=[0,0,0,0,0,0];var g=r()})},"esri/views/3d/support/dito":function(){define(["require","exports",
"../../../core/libs/gl-matrix-2/gl-matrix"],function(a,b,l){function p(a,b,c,d,e,k){if(!(1E-6>l.vec3.squaredLength(b)))for(l.vec3.cross(D,c,b),l.vec3.cross(E,d,b),l.vec3.cross(H,e,b),r(a,b,x),I[1]=x[0],L[1]=x[1],z[1]=L[1]-I[1],c=[c,d,e],d=[D,E,H],e=0;3>e;++e){r(a,c[e],x);I[0]=x[0];L[0]=x[1];r(a,d[e],x);I[2]=x[0];L[2]=x[1];z[0]=L[0]-I[0];z[2]=L[2]-I[2];var f=u(z);f<k.quality&&(l.vec3.copy(k.b0,c[e]),l.vec3.copy(k.b1,b),l.vec3.copy(k.b2,d[e]),k.quality=f)}}function r(a,b,c){var d=a.data,e=a.offsetIdx;
a=a.strideIdx;c[0]=Number.POSITIVE_INFINITY;for(c[1]=Number.NEGATIVE_INFINITY;e<d.length;e+=a){var k=d[e]*b[0]+d[e+1]*b[1]+d[e+2]*b[2];c[0]=Math.min(c[0],k);c[1]=Math.max(c[1],k)}}function h(a,b,c){l.vec3.copy(c.center,a);l.vec3.scale(c.halfSize,b,.5);l.quat.identity(c.quaternion)}function n(a,b,c,d,e,k){r(a,b,x);e[0]=x[0];k[0]=x[1];r(a,c,x);e[1]=x[0];k[1]=x[1];r(a,d,x);e[2]=x[0];k[2]=x[1]}function f(a,b,c,d,e,k,f){F[0]=a[0];F[1]=a[1];F[2]=a[2];F[3]=b[0];F[4]=b[1];F[5]=b[2];F[6]=c[0];F[7]=c[1];F[8]=
c[2];l.quat.fromMat3(f.quaternion,F);l.vec3.add(N,d,e);l.vec3.scale(N,N,.5);l.vec3.scale(f.center,a,N[0]);l.vec3.scale(K,b,N[1]);l.vec3.add(f.center,f.center,K);l.vec3.scale(K,c,N[2]);l.vec3.add(f.center,f.center,K);l.vec3.scale(f.halfSize,k,.5)}function u(a){return a[0]*a[1]+a[0]*a[2]+a[1]*a[2]}Object.defineProperty(b,"__esModule",{value:!0});var m=l.vec3f64.create(),e=l.vec3f64.create();b.computeOBB=function(a,b){var r=a.data.length/a.strideIdx;if(!(0>=r)){var H=new T(a);l.vec3.add(m,H.minProj,
H.maxProj);l.vec3.scale(m,m,.5);l.vec3.subtract(e,H.maxProj,H.minProj);var L=u(e),F=new P;F.quality=L;14>r&&(a={data:new Float64Array(H.buffer,112,42),size:3,offsetIdx:0,strideIdx:3});var K=l.vec3f64.create(),I=l.vec3f64.create(),z=l.vec3f64.create(),r=l.vec3f64.create(),D=l.vec3f64.create(),N=l.vec3f64.create(),E=l.vec3f64.create(),R;R=a;for(var V=l.vec3.squaredDistance(H.maxVert[0],H.minVert[0]),U=0,Q=1;7>Q;++Q){var W=l.vec3.squaredDistance(H.maxVert[Q],H.minVert[Q]);W>V&&(V=W,U=Q)}l.vec3.copy(K,
H.minVert[U]);l.vec3.copy(I,H.maxVert[U]);if(1E-6>l.vec3.squaredDistance(K,I))R=1;else{l.vec3.subtract(r,K,I);l.vec3.normalize(r,r);H=R.data;V=R.strideIdx;U=Number.NEGATIVE_INFINITY;Q=0;for(W=R.offsetIdx;W<H.length;W+=V){l.vec3.set(y,H[W]-K[0],H[W+1]-K[1],H[W+2]-K[2]);var S=r[0]*y[0]+r[1]*y[1]+r[2]*y[2],S=y[0]*y[0]+y[1]*y[1]+y[2]*y[2]-S*S/(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);S>U&&(U=S,Q=W)}l.vec3.set(z,H[Q],H[Q+1],H[Q+2]);1E-6>U?R=2:(l.vec3.subtract(D,I,z),l.vec3.normalize(D,D),l.vec3.subtract(N,z,K),
l.vec3.normalize(N,N),l.vec3.cross(E,D,r),l.vec3.normalize(E,E),p(R,E,r,D,N,F),R=0)}switch(R){case 1:h(m,e,b);return;case 2:L=a;l.vec3.copy(B,r);Math.abs(r[0])>Math.abs(r[1])&&Math.abs(r[0])>Math.abs(r[2])?B[0]=0:Math.abs(r[1])>Math.abs(r[2])?B[1]=0:B[2]=0;1E-6>l.vec3.squaredLength(B)&&(B[0]=B[1]=B[2]=1);l.vec3.cross(G,r,B);l.vec3.normalize(G,G);l.vec3.cross(C,r,G);l.vec3.normalize(C,C);n(L,r,G,C,J,M);l.vec3.subtract(O,M,J);f(r,G,C,J,M,O,b);return}R=a;H=g;V=c;U=x;Q=R.data;S=R.offsetIdx;W=R.strideIdx;
l.vec3.set(V,Q[S],Q[S+1],Q[S+2]);l.vec3.copy(H,V);U[0]=l.vec3.dot(A,E);U[1]=U[0];for(S+=W;S<Q.length;S+=W){var X=Q[S]*E[0]+Q[S+1]*E[1]+Q[S+2]*E[2];X<U[0]&&(U[0]=X,l.vec3.set(V,Q[S],Q[S+1],Q[S+2]));X>U[1]&&(U[1]=X,l.vec3.set(H,Q[S],Q[S+1],Q[S+2]))}E=l.vec3.dot(K,E);x[1]-1E-6<=E&&(H[0]=void 0);x[0]+1E-6>=E&&(V[0]=void 0);void 0!==g[0]&&(l.vec3.subtract(d,g,K),l.vec3.normalize(d,d),l.vec3.subtract(k,g,I),l.vec3.normalize(k,k),l.vec3.subtract(w,g,z),l.vec3.normalize(w,w),l.vec3.cross(q,k,r),l.vec3.normalize(q,
q),l.vec3.cross(t,w,D),l.vec3.normalize(t,t),l.vec3.cross(v,d,N),l.vec3.normalize(v,v),p(R,q,r,k,d,F),p(R,t,D,w,k,F),p(R,v,N,d,w,F));void 0!==c[0]&&(l.vec3.subtract(d,c,K),l.vec3.normalize(d,d),l.vec3.subtract(k,c,I),l.vec3.normalize(k,k),l.vec3.subtract(w,c,z),l.vec3.normalize(w,w),l.vec3.cross(q,k,r),l.vec3.normalize(q,q),l.vec3.cross(t,w,D),l.vec3.normalize(t,t),l.vec3.cross(v,d,N),l.vec3.normalize(v,v),p(R,q,r,k,d,F),p(R,t,D,w,k,F),p(R,v,N,d,w,F));n(a,F.b0,F.b1,F.b2,J,M);a=l.vec3f64.create();
l.vec3.subtract(a,M,J);F.quality=u(a);F.quality<L?f(F.b0,F.b1,F.b2,J,M,a,b):h(m,e,b)}};var g=l.vec3f64.create(),c=l.vec3f64.create(),d=l.vec3f64.create(),k=l.vec3f64.create(),w=l.vec3f64.create(),q=l.vec3f64.create(),t=l.vec3f64.create(),v=l.vec3f64.create(),y=l.vec3f64.create(),x=l.vec2f64.create(),D=l.vec3f64.create(),E=l.vec3f64.create(),H=l.vec3f64.create(),L=l.vec3f64.create(),I=l.vec3f64.create(),z=l.vec3f64.create(),A=l.vec3f64.create(),B=l.vec3f64.create(),G=l.vec3f64.create(),C=l.vec3f64.create(),
J=l.vec3f64.create(),M=l.vec3f64.create(),O=l.vec3f64.create(),K=l.vec3f64.create(),F=l.mat3f32.create(),N=l.vec3f64.create(),T=function(){return function(a){this.minVert=Array(7);this.maxVert=Array(7);this.buffer=new ArrayBuffer(448);var b=0;this.minProj=new Float64Array(this.buffer,b,7);b+=56;this.maxProj=new Float64Array(this.buffer,b,7);for(var b=b+56,c=0;7>c;++c)this.minVert[c]=l.vec3f64.createView(this.buffer,b),b+=24;for(c=0;7>c;++c)this.maxVert[c]=l.vec3f64.createView(this.buffer,b),b+=24;
for(c=0;7>c;++c)this.minProj[c]=Number.POSITIVE_INFINITY,this.maxProj[c]=Number.NEGATIVE_INFINITY;for(var b=Array(7),d=Array(7),e=a.data,k=a.strideIdx,c=a.offsetIdx;c<e.length;c+=k)a=e[c],a<this.minProj[0]&&(this.minProj[0]=a,b[0]=c),a>this.maxProj[0]&&(this.maxProj[0]=a,d[0]=c),a=e[c+1],a<this.minProj[1]&&(this.minProj[1]=a,b[1]=c),a>this.maxProj[1]&&(this.maxProj[1]=a,d[1]=c),a=e[c+2],a<this.minProj[2]&&(this.minProj[2]=a,b[2]=c),a>this.maxProj[2]&&(this.maxProj[2]=a,d[2]=c),a=e[c]+e[c+1]+e[c+2],
a<this.minProj[3]&&(this.minProj[3]=a,b[3]=c),a>this.maxProj[3]&&(this.maxProj[3]=a,d[3]=c),a=e[c]+e[c+1]-e[c+2],a<this.minProj[4]&&(this.minProj[4]=a,b[4]=c),a>this.maxProj[4]&&(this.maxProj[4]=a,d[4]=c),a=e[c]-e[c+1]+e[c+2],a<this.minProj[5]&&(this.minProj[5]=a,b[5]=c),a>this.maxProj[5]&&(this.maxProj[5]=a,d[5]=c),a=e[c]-e[c+1]-e[c+2],a<this.minProj[6]&&(this.minProj[6]=a,b[6]=c),a>this.maxProj[6]&&(this.maxProj[6]=a,d[6]=c);for(c=0;7>c;++c)a=b[c],l.vec3.set(this.minVert[c],e[a],e[a+1],e[a+2]),
a=d[c],l.vec3.set(this.maxVert[c],e[a],e[a+1],e[a+2])}}(),P=function(){return function(){this.b0=l.vec3f64.fromValues(1,0,0);this.b1=l.vec3f64.fromValues(0,1,0);this.b2=l.vec3f64.fromValues(0,0,1);this.quality=0}}()})},"esri/views/3d/support/geometryUtils":function(){define("require exports ./geometryUtils/axisAngle ./geometryUtils/boundedPlane ./geometryUtils/frustum ./geometryUtils/lineSegment ./geometryUtils/plane ./geometryUtils/ray ./geometryUtils/sphere ./geometryUtils/triangle ./geometryUtils/vector".split(" "),
function(a,b,l,p,r,h,n,f,u,m,e){Object.defineProperty(b,"__esModule",{value:!0});b.plane=n;b.boundedPlane=p;b.triangle=m;b.lineSegment=h;b.ray=f;b.sphere=u;b.frustum=r;b.vector=e;b.axisAngle=l})},"esri/views/3d/support/geometryUtils/axisAngle":function(){define(["require","exports","../../../../core/libs/gl-matrix-2/gl-matrix","../stack","./vector"],function(a,b,l,p,r){function h(a){void 0===a&&(a=b.UP);return[a[0],a[1],a[2],a[3]]}function n(a,b,l,e,g){void 0===g&&(g=h());g[0]=a;g[1]=b;g[2]=l;g[3]=
e;return g}Object.defineProperty(b,"__esModule",{value:!0});b.create=h;b.wrap=function(a,b,h,e){return n(a,b,h,e,p.sv4d.get())};b.wrapAxisAngle=function(a,b){return n(a[0],a[1],a[2],b,p.sv4d.get())};b.copy=function(a,b){void 0===b&&(b=h());return n(a[0],a[1],a[2],a[3],b)};b.fromValues=n;b.fromAxisAndAngle=function(a,b,n){void 0===n&&(n=h());l.vec3.copy(n,a);n[3]=b;return n};b.fromPoints=function(a,b,n){void 0===n&&(n=h());l.vec3.cross(n,a,b);l.vec3.normalize(n,n);n[3]=r.angle(a,b);return n};b.UP=
[0,0,1,0]})},"esri/views/3d/support/stack":function(){define(["require","exports","../../../core/VectorStack"],function(a,b,l){Object.defineProperty(b,"__esModule",{value:!0});b.sv2d=l.VectorStack.createVec2f64();b.sv3d=l.VectorStack.createVec3f64();b.sv4d=l.VectorStack.createVec4f64();b.sm4d=l.VectorStack.createMat4f64();b.sq4d=l.VectorStack.createQuatf64()})},"esri/core/VectorStack":function(){define(["require","exports","./nextTick","./libs/gl-matrix-2/gl-matrix"],function(a,b,l,p){Object.defineProperty(b,
"__esModule",{value:!0});a=function(){function a(a,b,h){var f=this;this.itemByteSize=a;this.itemCreate=b;this.bufferPtr=0;this.items=[];this.itemsPtr=0;a=Math.ceil(h/this.itemByteSize);this.buffer=new ArrayBuffer(a*this.itemByteSize);this.tickHandle=l.before(function(){return f.reset()});for(b=0;b<a;b++)this.create();this.reset()}a.prototype.destroy=function(){this.tickHandle&&(this.tickHandle.remove(),this.tickHandle=null)};a.prototype.get=function(){0===this.itemsPtr&&l(function(){});if(this.itemsPtr<
this.items.length)return this.items[this.itemsPtr++];this.growIfNeeded();return this.create()};a.prototype.reset=function(){this.itemsPtr=0};a.prototype.create=function(){var a=this.itemCreate(this.buffer,this.bufferPtr);this.bufferPtr+=this.itemByteSize;this.items.push(a);this.itemsPtr++;return a};a.prototype.growIfNeeded=function(){if(this.bufferPtr+this.itemByteSize>this.buffer.byteLength){var a=new ArrayBuffer(2*this.buffer.byteLength);(new Uint8Array(a)).set(new Uint8Array(this.buffer));this.buffer=
a}};a.createVec2f64=function(b){void 0===b&&(b=r);return new a(16,p.vec2f64.createView,b)};a.createVec3f64=function(b){void 0===b&&(b=r);return new a(24,p.vec3f64.createView,b)};a.createVec4f64=function(b){void 0===b&&(b=r);return new a(32,p.vec4f64.createView,b)};a.createMat3f64=function(b){void 0===b&&(b=r);return new a(72,p.mat3f64.createView,b)};a.createMat4f64=function(b){void 0===b&&(b=r);return new a(128,p.mat4f64.createView,b)};a.createQuatf64=function(b){void 0===b&&(b=r);return new a(32,
p.quatf64.createView,b)};return a}();b.VectorStack=a;var r=4096;b.default=a})},"esri/views/3d/support/geometryUtils/vector":function(){define(["require","exports","../../../../core/libs/gl-matrix-2/gl-matrix","../mathUtils"],function(a,b,l,p){function r(a,b){return l.vec3.dot(a,b)/l.vec3.length(a)}Object.defineProperty(b,"__esModule",{value:!0});b.projectPoint=function(a,b,f){b=r(a,b);return l.vec3.scale(f,a,b)};b.projectPointSignedLength=r;b.angle=function(a,b){a=l.vec3.dot(a,b)/(l.vec3.length(a)*
l.vec3.length(b));return-p.acos(a)}})},"esri/views/3d/support/geometryUtils/boundedPlane":function(){define("require exports ../../../../core/compilerUtils ../../../../core/Logger ../../../../core/ObjectStack ../../../../core/libs/gl-matrix-2/gl-matrix ../mathUtils ../stack ./lineSegment ./plane ./ray ./vector".split(" "),function(a,b,l,p,r,h,n,f,u,m,e,g){function c(a){void 0===a&&(a=b.UP);return{plane:m.create(a.plane),origin:h.vec3f64.clone(a.origin),basis1:h.vec3f64.clone(a.basis1),basis2:h.vec3f64.clone(a.basis2)}}
function d(a,b){void 0===b&&(b=c());return k(a.origin,a.basis1,a.basis2,b)}function k(a,b,d,e){void 0===e&&(e=c());h.vec3.copy(e.origin,a);h.vec3.copy(e.basis1,b);h.vec3.copy(e.basis2,d);m.fromVectorsAndPoint(d,b,a,e.plane);a=e;1E-6<Math.abs(h.vec3.dot(a.basis1,a.basis2)/(h.vec3.length(a.basis1)*h.vec3.length(a.basis2)))&&A.warn("fromValues()","Provided basis vectors are not perpendicular");1E-6<Math.abs(h.vec3.dot(a.basis1,a.plane))&&A.warn("fromValues()","Basis vectors and plane normal are not perpendicular");
1E-6<Math.abs(-h.vec3.dot(a.plane,a.origin)-a.plane[3])&&A.warn("fromValues()","Plane offset is not consistent with plane origin");return e}function w(a,b,c){a!==c&&d(a,c);a=h.vec3.scale(f.sv3d.get(),a.plane,b);h.vec3.add(c.origin,c.origin,a);c.plane[3]-=b;return c}function q(a,b){void 0===b&&(b=c());var d=(a[2]-a[0])/2,e=(a[3]-a[1])/2;h.vec3.set(b.origin,a[0]+d,a[1]+e,0);h.vec3.set(b.basis1,d,0,0);h.vec3.set(b.basis2,0,e,0);m.fromValues(0,0,1,0,b.plane);return b}function t(a,b,c){return m.intersectRay(a.plane,
b,c)?H(a,c):!1}function v(a,b,c){var d=B.get(),e=B.get();z(a,b,d,e);for(var e=Number.POSITIVE_INFINITY,k=0,g=J;k<g.length;k++){var l=I(a,g[k],G.get()),q=f.sv3d.get();m.intersectLineSegment(d,l,q)&&(l=n.directionFromTo(f.sv3d.get(),b.origin,q),l=Math.abs(n.acos(h.vec3.dot(b.direction,l))),l<e&&(e=l,h.vec3.copy(c,q)))}return e===Number.POSITIVE_INFINITY?y(a,b,c):c}function y(a,b,c){if(t(a,b,c))return c;var d=B.get(),k=B.get();z(a,b,d,k);for(var g=Number.POSITIVE_INFINITY,l=0,q=J;l<q.length;l++){var n=
I(a,q[l],G.get()),p=f.sv3d.get();m.intersectLineSegmentClamp(d,n,p)&&(n=e.distance2(b,p),m.isPointInside(k,p)&&n<g&&(g=n,h.vec3.copy(c,p)))}D(a,b.origin)<g&&h.vec3.copy(c,b.origin);return c}function x(a,b,c){var d=a.origin,e=a.basis1,k=a.basis2;b=h.vec3.subtract(f.sv3d.get(),b,d);e=g.projectPointSignedLength(e,b)/h.vec3.length(e);k=g.projectPointSignedLength(k,b)/h.vec3.length(k);a=g.projectPointSignedLength(a.plane,b);return h.vec3.set(c,e,k,a)}function D(a,b){b=x(a,b,f.sv3d.get());var c=a.basis2;
a=h.vec3.length(a.basis1);c=h.vec3.length(c);a=Math.max(Math.abs(b[0])-a,0);c=Math.max(Math.abs(b[1])-c,0);b=b[2];return a*a+c*c+b*b}function E(a,b){var c=-a.plane[3];return g.projectPointSignedLength(a.plane,b)-c}function H(a,b){var c=h.vec3.subtract(f.sv3d.get(),b,a.origin);b=h.vec3.squaredLength(a.basis1);var d=h.vec3.squaredLength(a.basis2),e=h.vec3.dot(a.basis1,c);a=h.vec3.dot(a.basis2,c);return 0>-e-b&&0>e-b&&0>-a-d&&0>a-d}function L(a,b){var c=G.get();h.vec3.copy(c.origin,a.origin);h.vec3.copy(c.vector,
b);return c}function I(a,b,c){var d=a.basis1,e=a.basis2;a=a.origin;var k=h.vec3.scale(f.sv3d.get(),d,b.origin[0]),g=h.vec3.scale(f.sv3d.get(),e,b.origin[1]);h.vec3.add(c.origin,k,g);h.vec3.add(c.origin,c.origin,a);d=h.vec3.scale(f.sv3d.get(),d,b.direction[0]);b=h.vec3.scale(f.sv3d.get(),e,b.direction[1]);h.vec3.scale(c.vector,h.vec3.add(d,d,b),2);return c}function z(a,b,c,d){a=a.plane;m.fromVectorsAndPoint(a,b.direction,b.origin,c);m.fromVectorsAndPoint(c,a,b.origin,d)}Object.defineProperty(b,"__esModule",
{value:!0});var A=p.getLogger("esri.views.3d.support.geometryUtils.boundedPlane");a=function(){return function(){this.plane=m.create();this.origin=h.vec3f64.create();this.basis1=h.vec3f64.create();this.basis2=h.vec3f64.create()}}();b.BoundedPlaneClass=a;b.create=c;b.wrap=function(a,b,c){var d=C.get();d.origin=a;d.basis1=b;d.basis2=c;d.plane=m.fromVectorsAndPoint(c,b,a,m.wrap(0,0,0,0));return d};b.copy=d;b.fromValues=k;b.elevate=w;b.setExtent=function(a,b,c){q(b,c);w(c,E(a,a.origin),c);return c};b.fromAABoundingRect=
q;b.intersectRay=t;b.intersectRayClosestSilhouette=function(a,b,c){if(t(a,b,c))return c;a=v(a,b,f.sv3d.get());h.vec3.add(c,b.origin,h.vec3.scale(f.sv3d.get(),b.direction,h.vec3.distance(b.origin,a)/h.vec3.length(b.direction)));return c};b.closestPointOnSilhouette=v;b.closestPoint=y;b.projectPoint=function(a,b,c){var d=m.projectPoint(a.plane,b,f.sv3d.get());b=u.projectPointClamp(L(a,a.basis1),d,-1,1,f.sv3d.get());d=u.projectPointClamp(L(a,a.basis2),d,-1,1,f.sv3d.get());h.vec3.subtract(c,h.vec3.add(f.sv3d.get(),
b,d),a.origin);return c};b.projectPointLocal=x;b.distance2=D;b.distance=function(a,b){return Math.sqrt(D(a,b))};b.distanceToSilhouette=function(a,b){for(var c=Number.NEGATIVE_INFINITY,d=0,e=J;d<e.length;d++){var k=I(a,e[d],G.get()),k=u.distance2(k,b);k>c&&(c=k)}return Math.sqrt(c)};b.extrusionContainsPoint=function(a,b){return m.isPointInside(a.plane,b)&&H(a,b)};b.axisAt=function(a,b,c,d){switch(c){case 0:h.vec3.copy(d,a.basis1);h.vec3.normalize(d,d);break;case 1:h.vec3.copy(d,a.basis2);h.vec3.normalize(d,
d);break;case 2:h.vec3.copy(d,a.plane);break;default:l.neverReached(c)}return d};b.altitudeAt=E;b.setAltitudeAt=function(a,b,c,d){var e=E(a,b);a=h.vec3.scale(f.sv3d.get(),a.plane,c-e);h.vec3.add(d,b,a);return d};b.transform=function(a,b,c){a!==c&&d(a,c);h.mat4.invert(M,b);h.mat4.transpose(M,M);h.vec3.transformMat4(c.basis1,a.basis1,M);h.vec3.transformMat4(c.basis2,a.basis2,M);h.vec3.transformMat4(c.plane,a.plane,M);h.vec3.transformMat4(c.origin,a.origin,b);m.setOffsetFromPoint(c.plane,c.origin,c.plane);
return c};b.UP={plane:m.create(),origin:h.vec3f64.fromValues(0,0,0),basis1:h.vec3f64.fromValues(1,0,0),basis2:h.vec3f64.fromValues(0,1,0)};var B=new r.ObjectStack(m.create),G=new r.ObjectStack(u.create),C=new r.ObjectStack(function(){return{origin:null,basis1:null,basis2:null,plane:null}}),J=[{origin:[-1,-1],direction:[1,0]},{origin:[1,-1],direction:[0,1]},{origin:[1,1],direction:[-1,0]},{origin:[-1,1],direction:[0,-1]}],M=h.mat4f64.create()})},"esri/core/ObjectStack":function(){define(["require",
"exports","./nextTick"],function(a,b,l){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(a,b){void 0===b&&(b=8);var f=this;this.allocator=a;this.items=[];this.itemsPtr=0;this.tickHandle=l.before(function(){return f.reset()});this.grow(b)}a.prototype.destroy=function(){this.tickHandle&&(this.tickHandle.remove(),this.tickHandle=null)};a.prototype.get=function(){0===this.itemsPtr&&l(function(){});this.itemsPtr===this.items.length&&this.grow();return this.items[this.itemsPtr++]};
a.prototype.reset=function(){this.itemsPtr=0};a.prototype.grow=function(a){void 0===a&&(a=this.items.length);for(var b=0;b<Math.max(8,Math.min(a,p));b++)this.items.push(this.allocator())};return a}();b.ObjectStack=a;var p=1024;b.default=a})},"esri/views/3d/support/geometryUtils/lineSegment":function(){define("require exports ../../../../core/ObjectStack ../../../../core/libs/gl-matrix-2/gl-matrix ../mathUtils ../stack".split(" "),function(a,b,l,p,r,h){function n(a){return a?{origin:p.vec3f64.clone(a.origin),
vector:p.vec3f64.clone(a.vector)}:{origin:p.vec3f64.create(),vector:p.vec3f64.create()}}function f(a,b){var c=d.get();c.origin=a;c.vector=b;return c}function u(a,b,c){void 0===c&&(c=n());p.vec3.copy(c.origin,a);p.vec3.copy(c.vector,b);return c}function m(a,b){b=p.vec3.subtract(h.sv3d.get(),b,a.origin);var c=p.vec3.dot(a.vector,b),d=p.vec3.dot(a.vector,a.vector),c=r.clamp(c/d,0,1);a=p.vec3.subtract(h.sv3d.get(),p.vec3.scale(h.sv3d.get(),a.vector,c),b);return p.vec3.dot(a,a)}function e(a,b,c,d,e){var k=
a.vector,g=a.origin;b=p.vec3.subtract(h.sv3d.get(),b,g);g=p.vec3.length(k);b=p.vec3.dot(k,b)/g;p.vec3.scale(e,k,r.clamp(b,c,d));return p.vec3.add(e,e,a.origin)}function g(a,b,c,d){var e=a.origin,k=p.vec3.add(h.sv3d.get(),e,a.vector);a=b.origin;var g=p.vec3.add(h.sv3d.get(),a,b.vector),f=h.sv3d.get();b=h.sv3d.get();f[0]=e[0]-a[0];f[1]=e[1]-a[1];f[2]=e[2]-a[2];b[0]=g[0]-a[0];b[1]=g[1]-a[1];b[2]=g[2]-a[2];if(1E-6>Math.abs(b[0])&&1E-6>Math.abs(b[1])&&1E-6>Math.abs(b[2]))return!1;g=h.sv3d.get();g[0]=k[0]-
e[0];g[1]=k[1]-e[1];g[2]=k[2]-e[2];if(1E-6>Math.abs(g[0])&&1E-6>Math.abs(g[1])&&1E-6>Math.abs(g[2]))return!1;var k=f[0]*b[0]+f[1]*b[1]+f[2]*b[2],l=b[0]*g[0]+b[1]*g[1]+b[2]*g[2],q=b[0]*b[0]+b[1]*b[1]+b[2]*b[2],n=(g[0]*g[0]+g[1]*g[1]+g[2]*g[2])*q-l*l;if(1E-6>Math.abs(n))return!1;f=(k*l-(f[0]*g[0]+f[1]*g[1]+f[2]*g[2])*q)/n;k=(k+l*f)/q;c&&(f=r.clamp(f,0,1),k=r.clamp(k,0,1));c=h.sv3d.get();l=h.sv3d.get();c[0]=e[0]+f*g[0];c[1]=e[1]+f*g[1];c[2]=e[2]+f*g[2];l[0]=a[0]+k*b[0];l[1]=a[1]+k*b[1];l[2]=a[2]+k*b[2];
d.tA=f;d.tB=k;d.pA=c;d.pB=l;d.distance2=p.vec3.squaredDistance(c,l);return!0}Object.defineProperty(b,"__esModule",{value:!0});b.create=n;b.wrap=f;b.copy=function(a,b){void 0===b&&(b=n());return u(a.origin,a.vector,b)};b.fromValues=u;b.fromPoints=function(a,b,c){void 0===c&&(c=n());p.vec3.copy(c.origin,a);p.vec3.subtract(c.vector,b,a);return c};b.distance2=m;b.distance=function(a,b){return Math.sqrt(m(a,b))};b.projectPoint=function(a,b,c){return e(a,b,0,1,c)};b.projectPointClamp=e;b.closestRayDistance2=
function(a,b){if(g(a,f(b.origin,b.direction),!1,c)){b=c.tA;var d=c.pB,e=c.distance2;if(0<=b&&1>=b)return e;if(0>b)return p.vec3.squaredDistance(a.origin,d);if(1<b)return p.vec3.squaredDistance(p.vec3.add(h.sv3d.get(),a.origin,a.vector),d)}return null};b.closestLineSegmentPoint=function(a,b,d){return g(a,b,!0,c)?(p.vec3.copy(d,c.pA),!0):!1};b.closestLineSegmentDistance2=function(a,b){return g(a,b,!0,c)?c.distance2:null};var c={tA:0,tB:0,pA:p.vec3f64.create(),pB:p.vec3f64.create(),distance2:0},d=new l.ObjectStack(function(){return{origin:null,
vector:null}})})},"esri/views/3d/support/geometryUtils/plane":function(){define(["require","exports","../../../../core/libs/gl-matrix-2/gl-matrix","../mathUtils","../stack"],function(a,b,l,p,r){function h(a){void 0===a&&(a=b.UP);return[a[0],a[1],a[2],a[3]]}function n(a,b){void 0===b&&(b=h());return f(a[0],a[1],a[2],a[3],b)}function f(a,b,c,d,e){void 0===e&&(e=h());e[0]=a;e[1]=b;e[2]=c;e[3]=d;return e}function u(a,b,c){void 0===c&&(c=h());l.vec3.copy(c,b);b=l.vec3.dot(b,b);1E-5<Math.abs(b-1)&&l.vec3.scale(c,
c,1/Math.sqrt(b));m(c,a,c);return c}function m(a,b,c){a!==c&&n(a,c);c[3]=-l.vec3.dot(c,b);return c}function e(a,b,c,d){void 0===d&&(d=h());a=l.vec3.cross(r.sv3d.get(),b,a);return u(c,a,d)}function g(a,b,c){a=l.vec3.scale(r.sv3d.get(),a,l.vec3.dot(a,b));l.vec3.subtract(c,b,a);return c}function c(a,b){return l.vec3.dot(a,b)+a[3]}function d(a,b,c,d,e,g){var k=l.vec3.dot(a,c);if(0===k)return!1;a=-(l.vec3.dot(a,b)+a[3])/k;e&&(a=d?Math.max(0,a):p.clamp(a,0,1));if(0>a||!d&&1<a)return!1;l.vec3.add(g,b,l.vec3.scale(g,
c,a));return!0}Object.defineProperty(b,"__esModule",{value:!0});b.create=h;b.wrap=function(a,b,c,d){return f(a,b,c,d,r.sv4d.get())};b.copy=n;b.fromValues=f;b.fromNormalAndOffset=function(a,b,c){void 0===c&&(c=h());l.vec3.copy(c,a);c[3]=b;return c};b.fromPositionAndNormal=u;b.fromPoints=function(a,b,c,d){void 0===d&&(d=h());return e(l.vec3.subtract(r.sv3d.get(),a,b),l.vec3.subtract(r.sv3d.get(),c,b),a,d)};b.setOffsetFromPoint=m;b.negate=function(a,b){b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];b[3]=-a[3];return b};
b.fromVectorsAndPoint=e;b.intersectRay=function(a,b,c){return d(a,b.origin,b.direction,!0,!1,c)};b.intersectLineSegment=function(a,b,c){return d(a,b.origin,b.vector,!1,!1,c)};b.intersectLineSegmentClamp=function(a,b,c){return d(a,b.origin,b.vector,!1,!0,c)};b.isSphereFullyInside=function(a,b){var d=b.radius;return 0<=c(a,b.center)-d};b.isSphereFullyOutside=function(a,b){var d=b.radius;return 0>c(a,b.center)+d};b.isPointInside=function(a,b){return 0<=c(a,b)};b.isPointOutside=function(a,b){return 0>
c(a,b)};b.isAABBFullyInside=function(a,b){var c=b[0],d=b[1],e=b[2],g=b[3],f=b[4];b=b[5];return 0<=a[0]*(0<a[0]?c:g)+a[1]*(0<a[1]?d:f)+a[2]*(0<a[2]?e:b)+a[3]};b.clip=function(a,b){var d=l.vec3.dot(a,b.ray.direction);a=-c(a,b.ray.origin);if(0>a&&0<=d)return!1;if(-1E-6<d&&1E-6>d)return 0<a;if((0>a||0>d)&&!(0>a&&0>d))return!0;a/=d;0<d?a<b.c1&&(b.c1=a):a>b.c0&&(b.c0=a);return b.c0<=b.c1};b.projectPoint=function(a,b,c){var d=l.vec3.scale(r.sv3d.get(),a,-a[3]);b=l.vec3.subtract(r.sv3d.get(),b,d);a=g(a,b,
r.sv3d.get());l.vec3.add(c,a,d);return c};b.projectVector=g;b.distance=function(a,b){return Math.abs(c(a,b))};b.signedDistance=c;b.UP=[0,0,1,0]})},"esri/views/3d/support/geometryUtils/ray":function(){define(["require","exports","../../../../core/ObjectStack","../../../../core/libs/gl-matrix-2/gl-matrix","../stack"],function(a,b,l,p,r){function h(a){return a?{origin:p.vec3f64.clone(a.origin),direction:p.vec3f64.clone(a.direction)}:{origin:p.vec3f64.create(),direction:p.vec3f64.create()}}function n(a,
b,c){void 0===c&&(c=h());p.vec3.copy(c.origin,a);p.vec3.copy(c.direction,b);return c}function f(a,b){a=p.vec3.cross(r.sv3d.get(),p.vec3.normalize(r.sv3d.get(),a.direction),p.vec3.subtract(r.sv3d.get(),b,a.origin));return p.vec3.dot(a,a)}function u(){return{origin:null,direction:null}}Object.defineProperty(b,"__esModule",{value:!0});b.create=h;b.wrap=function(a,b){var c=m.get();c.origin=a;c.direction=b;return c};b.copy=function(a,b){void 0===b&&(b=h());return n(a.origin,a.direction,b)};b.fromValues=
n;b.fromScreen=function(a,b,c){void 0===c&&(c=h());var d=p.vec3.set(r.sv3d.get(),b[0],b[1],0);a.unprojectPoint(d,c.origin);b=p.vec3.set(r.sv3d.get(),b[0],b[1],1);a=a.unprojectPoint(b,r.sv3d.get());p.vec3.subtract(c.direction,a,c.origin);return c};b.fromScreenAtEye=function(a,b,c){void 0===c&&(c=h());p.vec3.copy(c.origin,a.eye);b=p.vec3.set(r.sv3d.get(),b[0],b[1],1);a=a.unprojectPoint(b,r.sv3d.get());p.vec3.subtract(c.direction,a,c.origin);return c};b.distance2=f;b.distance=function(a,b){return Math.sqrt(f(a,
b))};b.closestPoint=function(a,b,c){b=p.vec3.dot(a.direction,p.vec3.subtract(c,b,a.origin));p.vec3.add(c,a.origin,p.vec3.scale(c,a.direction,b));return c};b.createWrapper=u;var m=new l.ObjectStack(u)})},"esri/views/3d/support/geometryUtils/frustum":function(){define("require exports ../../../../core/ObjectStack ../../../../core/libs/gl-matrix-2/gl-matrix ../stack ./clipRay ./plane".split(" "),function(a,b,l,p,r,h,n){function f(a){if(a){var b=a.planes;a=a.points;return{planes:[n.create(b[0]),n.create(b[1]),
n.create(b[2]),n.create(b[3]),n.create(b[4]),n.create(b[5])],points:[p.vec3f64.clone(a[0]),p.vec3f64.clone(a[1]),p.vec3f64.clone(a[2]),p.vec3f64.clone(a[3]),p.vec3f64.clone(a[4]),p.vec3f64.clone(a[5]),p.vec3f64.clone(a[6]),p.vec3f64.clone(a[7])]}}return{planes:[n.create(),n.create(),n.create(),n.create(),n.create(),n.create()],points:[p.vec3f64.create(),p.vec3f64.create(),p.vec3f64.create(),p.vec3f64.create(),p.vec3f64.create(),p.vec3f64.create(),p.vec3f64.create(),p.vec3f64.create()]}}function u(a,
b,c){void 0===c&&(c=f());for(var d=0;6>d;d++)n.copy(a[d],c.planes[d]);for(d=0;8>d;d++)p.vec3.copy(c.points[d],b[d]);return c}function m(a){var b=a.planes;a=a.points;n.fromPoints(a[4],a[0],a[3],b[0]);n.fromPoints(a[1],a[5],a[6],b[1]);n.fromPoints(a[4],a[5],a[1],b[2]);n.fromPoints(a[3],a[2],a[6],b[3]);n.fromPoints(a[0],a[1],a[2],b[4]);n.fromPoints(a[5],a[4],a[7],b[5])}function e(a,b){a=a.planes;for(var c=0;6>c;c++)if(!n.clip(a[c],b))return!1;return!0}Object.defineProperty(b,"__esModule",{value:!0});
b.create=f;b.copy=function(a,b){void 0===b&&(b=f());return u(a.planes,a.points,b)};b.fromValues=u;b.fromMatrix=function(a,b,c){void 0===c&&(c=f());var d=c.points;a=p.mat4.multiply(r.sm4d.get(),b,a);p.mat4.invert(a,a);for(b=0;8>b;++b){var e=p.vec4.transformMat4(r.sv4d.get(),g[b],a);p.vec3.set(d[b],e[0]/e[3],e[1]/e[3],e[2]/e[3])}m(c);return c};b.recomputePlanes=m;b.intersectsSphere=function(a,b){a=a.planes;for(var c=0;6>c;c++)if(n.isSphereFullyInside(a[c],b))return!1;return!0};b.intersectsRay=function(a,
b){return e(a,h.fromRay(b,c.get()))};b.intersectsLineSegment=function(a,b,g){return e(a,h.fromLineSegmentAndDirection(b,g,c.get()))};b.intersectsPoint=function(a,b){a=a.planes;for(var c=0;6>c;c++)if(0<n.signedDistance(a[c],b))return!1;return!0};b.intersectsAABB=function(a,b){a=a.planes;for(var c=0;6>c;c++)if(n.isAABBFullyInside(a[c],b))return!1;return!0};b.planePointIndices={bottom:[5,1,0,4],near:[0,1,2,3],far:[5,4,7,6],right:[1,5,6,2],left:[4,0,3,7],top:[7,3,2,6]};var g=[p.vec4f64.fromValues(-1,
-1,-1,1),p.vec4f64.fromValues(1,-1,-1,1),p.vec4f64.fromValues(1,1,-1,1),p.vec4f64.fromValues(-1,1,-1,1),p.vec4f64.fromValues(-1,-1,1,1),p.vec4f64.fromValues(1,-1,1,1),p.vec4f64.fromValues(1,1,1,1),p.vec4f64.fromValues(-1,1,1,1)],c=new l.ObjectStack(h.create)})},"esri/views/3d/support/geometryUtils/clipRay":function(){define("require exports ../../../../core/ObjectStack ../../../../core/libs/gl-matrix-2/gl-matrix ../stack ./ray".split(" "),function(a,b,l,p,r,h){function n(a){return a?{ray:h.create(a.ray),
c0:a.c0,c1:a.c1}:{ray:h.create(),c0:0,c1:Number.MAX_VALUE}}function f(a,b,c,d){void 0===d&&(d=n());h.copy(a,d.ray);d.c0=b;d.c1=c;return d}function u(a,b,c){void 0===c&&(c=n());var d=p.vec3.length(a.vector);h.fromValues(a.origin,b,c.ray);c.c0=0;c.c1=d;return c}Object.defineProperty(b,"__esModule",{value:!0});b.create=n;b.wrap=function(a,b,c){var d=m.get();d.ray=a;d.c0=b;d.c1=c;return d};b.copy=function(a,b){void 0===b&&(b=n());return f(a.ray,a.c0,a.c1,b)};b.fromValues=f;b.fromRay=function(a,b){void 0===
b&&(b=n());h.copy(a,b.ray);b.c0=0;b.c1=Number.MAX_VALUE;return b};b.fromLineSegment=function(a,b){void 0===b&&(b=n());var c=p.vec3.normalize(r.sv3d.get(),a.vector);return u(a,c,b)};b.fromLineSegmentAndDirection=u;var m=new l.ObjectStack(function(){return{c0:0,c1:0,ray:null}})})},"esri/views/3d/support/geometryUtils/sphere":function(){define("require exports ../../../../core/compilerUtils ../../../../core/Logger ../../../../core/ObjectStack ../../../../core/libs/gl-matrix-2/gl-matrix ../geometryUtils ../mathUtils ../stack ./ray".split(" "),
function(a,b,l,p,r,h,n,f,u,m){function e(a){return a?{radius:a.radius,center:h.vec3f64.clone(a.center)}:{radius:1,center:h.vec3f64.create()}}function g(a,b){void 0===b&&(b=e());return c(a.radius,a.center,b)}function c(a,b,c){void 0===c&&(c=e());h.vec3.copy(c.center,b);c.radius=a;return c}function d(a,b,c){var d=h.vec3.subtract(u.sv3d.get(),b.origin,a.center),e=h.vec3.dot(b.direction,b.direction),f=2*h.vec3.dot(b.direction,d);a=h.vec3.dot(d,d)-a.radius*a.radius;a=f*f-4*e*a;if(0>a)return!1;d=Math.sqrt(a);
a=(-f-d)/(2*e);e=(-f+d)/(2*e);if(0>a||e<a&&0<e)a=e;if(0>a)return!1;c&&h.vec3.add(c,b.origin,h.vec3.scale(u.sv3d.get(),b.direction,a));return!0}function k(a,b,c){var d=u.sv3d.get(),e=u.sm4d.get();h.vec3.cross(d,b.origin,b.direction);h.vec3.cross(c,d,b.origin);h.vec3.scale(c,c,1/h.vec3.length(c)*a.radius);a=q(a,b.origin);b=n.vector.angle(b.origin,c);h.mat4.identity(e);h.mat4.rotate(e,e,b+a,d);h.vec3.transformMat4(c,c,e);return c}function w(a,b,c){b=h.vec3.subtract(u.sv3d.get(),b,a.center);b=h.vec3.scale(u.sv3d.get(),
b,a.radius/h.vec3.length(b));return h.vec3.add(c,b,a.center)}function q(a,b){b=h.vec3.subtract(u.sv3d.get(),b,a.center);b=h.vec3.length(b);return f.acos(a.radius/(a.radius+Math.abs(a.radius-b)))}function t(a,b,c,d){a=h.vec3.subtract(u.sv3d.get(),b,a.center);switch(c){case 0:return a=f.cartesianToSpherical(a,u.sv3d.get()),a=a[2],h.vec3.set(d,-Math.sin(a),Math.cos(a),0);case 1:return a=f.cartesianToSpherical(a,u.sv3d.get()),c=a[1],a=a[2],b=Math.sin(c),h.vec3.set(d,-b*Math.cos(a),-b*Math.sin(a),Math.cos(c));
case 2:return h.vec3.normalize(d,a);default:l.neverReached(c)}}function v(a,b){b=h.vec3.subtract(u.sv3d.get(),b,a.center);return h.vec3.length(b)-a.radius}Object.defineProperty(b,"__esModule",{value:!0});var y=p.getLogger("esri.views.3d.support.geometryUtils.sphere");b.create=e;b.wrap=function(a,b){var c=x.get();c.radius=a;c.center=b||E;return c};b.copy=g;b.fromValues=c;b.elevate=function(a,b,c){a!==c&&h.vec3.copy(c.center,a.center);c.radius=a.radius+b;return c};b.setExtent=function(a,b,c){y.error("sphere.setExtent is not yet supported");
return a===c?c:g(a,c)};b.intersectRay=d;b.intersectScreen=function(a,b,c,e){b=m.fromScreenAtEye(b,c,D);return d(a,b,e)};b.intersectsRay=function(a,b){return d(a,b,null)};b.intersectRayClosestSilhouette=function(a,b,c){if(d(a,b,c))return c;a=k(a,b,u.sv3d.get());h.vec3.add(c,b.origin,h.vec3.scale(u.sv3d.get(),b.direction,h.vec3.distance(b.origin,a)/h.vec3.length(b.direction)));return c};b.closestPointOnSilhouette=k;b.closestPoint=function(a,b,c){if(d(a,b,c))return c;m.closestPoint(b,a.center,c);return w(a,
c,c)};b.projectPoint=w;b.distanceToSilhouette=function(a,b){b=h.vec3.subtract(u.sv3d.get(),b,a.center);b=h.vec3.squaredLength(b);return Math.sqrt(Math.abs(b-a.radius*a.radius))};b.angleToSilhouette=q;b.axisAt=t;b.altitudeAt=v;b.setAltitudeAt=function(a,b,c,d){var e=v(a,b);a=t(a,b,2,u.sv3d.get());c=h.vec3.scale(u.sv3d.get(),a,c-e);h.vec3.add(d,b,c);return d};var x=new r.ObjectStack(function(){return{center:null,radius:0}}),D=m.create(),E=h.vec3f64.create();Object.freeze(E)})},"esri/views/3d/support/geometryUtils/triangle":function(){define("require exports ../../../../core/ObjectStack ../../../../core/libs/gl-matrix-2/gl-matrix ../stack ./lineSegment".split(" "),
function(a,b,l,p,r,h){function n(a){return a?{p0:p.vec3f64.clone(a.p0),p1:p.vec3f64.clone(a.p1),p2:p.vec3f64.clone(a.p2)}:{p0:p.vec3f64.create(),p1:p.vec3f64.create(),p2:p.vec3f64.create()}}function f(a,b,d,e){void 0===e&&(e=n());p.vec3.copy(e.p0,a);p.vec3.copy(e.p1,b);p.vec3.copy(e.p2,d);return e}function u(a,b,d){var c=p.vec2.distance(a,b);b=p.vec2.distance(b,d);a=p.vec2.distance(d,a);d=(c+b+a)/2;c=d*(d-c)*(d-b)*(d-a);return 0>=c?0:Math.sqrt(c)}Object.defineProperty(b,"__esModule",{value:!0});b.create=
n;b.wrap=function(a,b,d){var c=e.get();c.p0=a;c.p1=b;c.p2=d;return c};b.copy=function(a,b){void 0===b&&(b=n());return f(a.p0,a.p1,a.p2,b)};b.fromValues=f;b.distance2=function(a,b){var c=a.p0,e=a.p1;a=a.p2;var f=p.vec3.subtract(r.sv3d.get(),e,c),g=p.vec3.subtract(r.sv3d.get(),a,e),l=p.vec3.subtract(r.sv3d.get(),c,a),n=p.vec3.subtract(r.sv3d.get(),b,c),u=p.vec3.subtract(r.sv3d.get(),b,e),x=p.vec3.subtract(r.sv3d.get(),b,a),D=p.vec3.cross(f,f,l),E=p.vec3.dot(p.vec3.cross(r.sv3d.get(),f,D),n),u=p.vec3.dot(p.vec3.cross(r.sv3d.get(),
g,D),u),x=p.vec3.dot(p.vec3.cross(r.sv3d.get(),l,D),x);if(0<E&&0<u&&0<x)return b=p.vec3.dot(D,n),b*b/p.vec3.dot(D,D);c=h.distance2(h.fromValues(c,f,m.get()),b);e=h.distance2(h.fromValues(e,g,m.get()),b);b=h.distance2(h.fromValues(a,l,m.get()),b);return Math.min(c,e,b)};b.areaPoints2d=u;b.area2d=function(a){return u(a.p0,a.p1,a.p2)};var m=new l.ObjectStack(h.create),e=new l.ObjectStack(function(){return{p0:null,p1:null,p2:null}})})},"esri/views/3d/webgl-engine/lib/PreinterleavedGeometryData":function(){define(["require",
"exports","./ComponentUtils","./geometryDataUtils","../../../webgl/Util"],function(a,b,l,p,r){function h(a){switch(a){case 5120:return Int8Array;case 5126:return Float32Array;case 5124:return Int32Array;case 5122:return Int16Array;case 5121:return Uint8Array;case 5125:return Uint32Array;case 5123:return Uint16Array}throw Error("Unhandled data type: "+a);}return function(){function a(b,n,m,e,g,c){void 0===m&&(m=null);void 0===e&&(e=a.DefaultOffsets);void 0===g&&(g=a.DefaultIndices);void 0===c&&(c=
!1);this._freeDataAfterUse=c;this.preinterleaved=!0;this.primitiveType="triangle";this._positionData=null;c=r.getStride(n)/4;c=b.length/c;(this._hasDefaultIndices=g===a.DefaultIndices)&&(g=p.generateDefaultIndexArray(c));c={};for(var d=0;d<n.length;d++){var f=n[d],u=new (h(f.type))(b.buffer),q=r.getBytesPerElement(f.type);c[f.name]={data:u,size:f.count,offsetIdx:f.offset/q,strideIdx:f.stride/q}}m&&(this._positionData=m,c.position={data:m.data,size:3,offsetIdx:0,strideIdx:3});this._id=p.getNewId();
this._vertexData=b;this._vertexAttributes=c;this._layout=n;this._indexData=g;this._componentOffsets=l.createOffsets(e);this._gpuMemoryUsage=b.byteLength+(this._hasDefaultIndices?0:g.byteLength);this._indexCount=g.length}Object.defineProperty(a.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"layout",{get:function(){return this._layout},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"componentOffsets",{get:function(){return this._componentOffsets},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"indexCount",{get:function(){return this._indexCount},enumerable:!0,configurable:!0});a.prototype.toRenderData=function(){var a={id:this._id.toString(),preinterleaved:!0,indexData:this._hasDefaultIndices?null:this._indexData,indexCount:this._indexCount,vertexData:this._vertexData,layout:this._layout};this._freeDataAfterUse&&(this._indexData=this._vertexData=null,this._vertexAttributes={position:this._vertexAttributes.position});return a};
a.prototype.getIndices=function(a){return"position"===a&&this._positionData?this._positionData.indices:this._indexData};a.prototype.getAttribute=function(a){return this._vertexAttributes[a]};a.prototype.estimateGpuMemoryUsage=function(){return this._gpuMemoryUsage};Object.defineProperty(a.prototype,"hasPositionData",{get:function(){return!!this._positionData},enumerable:!0,configurable:!0});a.DefaultOffsets=new Uint32Array(0);a.DefaultIndices=new Uint32Array(0);return a}()})},"esri/views/3d/webgl-engine/lib/ComponentUtils":function(){define(["require",
"exports","../../../../core/arrayUtils"],function(a,b,l){function p(a,b){if(null!=a){var d=a.isVisibleBit,e=a.data,f=8*e.BYTES_PER_ELEMENT;return b<e.length*f?c(d,e,b,f):!a.isVisibleBit}return!0}function r(a){return null===a.component?-1:a.component}function h(a,b,c,d,e){p(b,d)&&n(a,b,c,c[d],c[d+1]-1,e)}function n(a,b,c,d,e,f){c=(b=0<a.length?a[a.length-1]:null)?b.range[1]:-1;var g=b?b.options:null;c>=d||(c+1===d&&g===f?b.range[1]=e:a.push({range:[d,e],options:f}))}function f(a){void 0===a&&(a=!0);
return{isVisibleBit:!a,data:new Uint32Array(0)}}function u(a,b){return e(a,b,!0)}function m(a,b){return e(a,b,!1)}function e(a,b,c){var e=!1;a=a||k;e=a.isVisibleBit;a=a.data;b=d(b);var f=8*a.BYTES_PER_ELEMENT,g=a.length*f;c=c===e;if(0===a.length||0===b)e=!c;else if(g<b&&!c)e=!0;else{for(var h=w[f],g=w[0],l=0;l<a.length-1;l++)if(e=!c&&a[l]!==h||c&&a[l]!==g)return e;e=a.length-1;b=w[(b-1)%f+1];e=!c&&(a[e]&b)!==b||c&&(a[e]&b)!==g}return e}function g(a){return 0<a.length}function c(a,b,c,d){var e=c/d|
0;return 0!==(b[e]&1<<c-e*d)===a}function d(a){return Math.max(0,a.length-1)}Object.defineProperty(b,"__esModule",{value:!0});b.updateVisibility=function(a,b,c,e){if(c<d(b)){null==a&&(a=f());var g=a.isVisibleBit,k=a.data,h=8*k.BYTES_PER_ELEMENT,l=c/h|0,n=c-h*l;b=(d(b)-1)/h|0;var q=k;e=e===g;c<q.length*h||!e||(c=Math.max(l+1,Math.ceil(1.5*q.length)),c=Math.min(c,b+1),k=new Uint32Array(c),k.set(q));l<k.length&&(k[l]=k[l]&~(1<<n)|(e?1:0)<<n);a.data=k}return a};b.getVisibility=p;b.hideAllComponents=function(a){if(null==
a)a=f(!1);else{a.isVisibleBit=!0;for(var b=0;b<a.data.length;b++)a.data[b]=0}return a};b.unhideAllComponents=function(a){var b;if(null!=a)for(b=a,b.isVisibleBit=!1,a=0;a<b.data.length;a++)b.data[a]=0;return b};b.generateVisibleIndexRanges=function(a,b){var e;if(a)if(g(b))if(0===a.data.length)e=[],b=[[b[0],b[b.length-1]-1]],e=a.isVisibleBit?e:b;else{e=[];for(var f=a.isVisibleBit,k=a.data,h=8*k.BYTES_PER_ELEMENT,l=k.length*h,n=d(b),m=!1,q=0;q<l&&q<n;q++){var p=c(f,k,q,h);if(p!==m){var t=b[q];p?e.push([t,
0]):(m=e[e.length-1],m[1]=t-1);m=p}}a=!a.isVisibleBit;n>l&&a&&!m?e.push([b[l],b[n]-1]):m&&(m=e[e.length-1],m[1]=b[a?n:Math.min(n,l)]-1)}else e=[],e=a.isVisibleBit?e:null;else e=null;return e};b.addHighlight=function(a,b,c,d){a=a||[];b={component:b,options:c,id:d};a.push(b);c=r(b);for(d=a.length-1;0<d&&c<r(a[d-1]);)b=[a[d],a[d-1]],a[d-1]=b[0],a[d]=b[1],--d;return a};b.removeHighlight=function(a,b){return a?(a=a.filter(function(a){return a.id!==b}),0===a.length?null:a):a};b.generateHighlightedIndexRanges=
function(a,b,c){if(!b)return null;if(!g(c))return a&&a.isVisibleBit?null:b.map(function(a){return{range:null,options:a.options}});for(var e=c[0],f=c[c.length-1]-1,k=[],l=!m(a,c),q=0;q<b.length;++q){var p=b[q].options,r=b[q].component;if(null!==r)h(k,a,c,r,p);else if(l)n(k,a,c,e,f,p);else for(r=0;r<d(c);++r)h(k,a,c,r,p)}return 0<k.length?k:null};b.defaultVisibilities=f;b.isAllVisible=function(a,b){return!m(a,b)};b.isAllHidden=function(a,b){return!u(a,b)};b.hasVisible=u;b.hasHidden=m;var k=f();b.createOffsets=
function(a){return Array.isArray(a)?new Uint32Array(a):a};b.hasComponent=function(a,b){return b<d(a)};b.hasComponents=g;var w=[];for(a=0;65>a;a++)w.push(Math.pow(2,a)-1);b.componentCount=d;b.componentFind=function(a,b){a=l.binaryIndexOf(a,b,!0);return 0<=a?a:null}})},"esri/views/3d/webgl-engine/lib/geometryDataUtils":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});var l=1,p=null;b.generateDefaultIndexArray=function(a){if(a>l||null==p){for(;a>
l;)l*=2;p=new Uint32Array(l);for(var b=0;b<l;b++)p[b]=b}return new Uint32Array(p.buffer,0,a)};var r=0;b.getNewId=function(){return r++}})},"esri/views/webgl/Util":function(){define(["require","exports","../../core/tsSupport/assignHelper","../../core/Error"],function(a,b,l,p){function r(a){return a[0].stride}function h(a){switch(a){case 5126:return 4;case 5124:return 4;case 5125:return 4;case 5122:return 2;case 5123:return 2;case 5120:return 1;case 5121:return 1;default:throw Error("Unknown data type");
}}Object.defineProperty(b,"__esModule",{value:!0});b.vertexCount=function(a,b){return a.vertexBuffers[b].size/r(a.layout[b])};b.getStride=r;b.getBytesPerElement=h;b.addDescriptor=function(a,b,l,m,e,g){var c=h(m);if(0<a.length){var d=a[0].stride,f=d+c*l;a.forEach(function(a){return a.stride=f});a.push({name:b,count:l,type:m,offset:d,stride:f,normalized:e,divisor:g})}else a.push({name:b,count:l,type:m,offset:0,stride:c*l,normalized:e,divisor:g})};b.assertCompatibleVertexAttributeLocations=function(a,
b){(a=a.locations===b.locations)||console.error("VertexAttributeLocations are incompatible");return a};b.hasAttribute=function(a,b){for(var f=0;f<a.length;f++)if(a[f].name===b)return!0;return!1};b.findAttribute=function(a,b){for(var f=0;f<a.length;f++)if(a[f].name===b)return a[f];return null};b.copyFramebufferToTexture=function(a,b,h,l,e){void 0===e&&(e=0);var f=a.getBoundFramebufferObject(),c=a.getBoundTexture(0);a.bindFramebuffer(b);a.bindTexture(h,0);a.gl.copyTexImage2D(a.gl.TEXTURE_2D,e,h.descriptor.pixelFormat,
l[0],l[1],l[2],l[3],0);a.gl.flush();a.bindFramebuffer(f);a.bindTexture(c,0)};b.assert=function(a,b){if(!a)throw new p(b);};b.setBaseInstanceOffset=function(a,b){var f={},h;for(h in a)f[h]=a[h].map(function(a){return a.divisor?l({},a,{baseInstance:b}):a});return f};b.bindVertexBufferLayout=function(a,b,h,l,e){var f=a.gl,c=a.capabilities.instancing;a.bindBuffer(h);l.forEach(function(a){var d=b[a.name],g=(e?e:0+a.baseInstance?a.baseInstance:0)*a.stride;void 0===d&&console.error("There is no location for vertex attribute '"+
a.name+"' defined.");a.baseInstance&&!a.divisor&&console.error("Vertex attribute '"+a.name+"' uses baseInstanceOffset without divisor.");if(4>=a.count)f.vertexAttribPointer(d,a.count,a.type,a.normalized,a.stride,a.offset+g),f.enableVertexAttribArray(d),a.divisor&&0<a.divisor&&c&&c.vertexAttribDivisor(d,a.divisor);else if(9===a.count)for(var h=0;3>h;h++)f.vertexAttribPointer(d+h,3,a.type,a.normalized,a.stride,a.offset+12*h+g),f.enableVertexAttribArray(d+h),a.divisor&&0<a.divisor&&c&&c.vertexAttribDivisor(d+
h,a.divisor);else if(16===a.count)for(h=0;4>h;h++)f.vertexAttribPointer(d+h,4,a.type,a.normalized,a.stride,a.offset+16*h+g),f.enableVertexAttribArray(d+h),a.divisor&&0<a.divisor&&c&&c.vertexAttribDivisor(d+h,a.divisor);else console.error("Unsupported vertex attribute element count: "+a.count)})};b.unbindVertexBufferLayout=function(a,b,h,l){var e=a.gl,f=a.capabilities.instancing;a.bindBuffer(h);l.forEach(function(a){var c=b[a.name];if(4>=a.count)e.disableVertexAttribArray(c),a.divisor&&0<a.divisor&&
f&&f.vertexAttribDivisor(c,0);else if(9===a.count)for(var g=0;3>g;g++)e.disableVertexAttribArray(c+g),a.divisor&&0<a.divisor&&f&&f.vertexAttribDivisor(c+g,0);else if(16===a.count)for(g=0;4>g;g++)e.disableVertexAttribArray(c+g),a.divisor&&0<a.divisor&&f&&f.vertexAttribDivisor(c+g,0);else console.error("Unsupported vertex attribute element count: "+a.count)});a.unbindBuffer(34962)}})},"*noref":1}});
define("require exports ../../../core/promiseUtils ../../../core/libs/gl-matrix-2/gl-matrix ../../../geometry/SpatialReference ./i3s/I3SGeometryUtil ./i3s/I3SProjectionUtil ../support/meshProcessing ../support/orientedBoundingBox ../support/projectionUtils ../webgl-engine/lib/PreinterleavedGeometryData ../webgl-engine/lib/Util".split(" "),function(a,b,l,p,r,h,n,f,u,m,e,g){a=function(){function a(){}a.prototype.process=function(a){var b=[a.geometryBuffer];return l.resolve({result:this.transform(a,
b),transferList:b})};a.prototype.transform=function(a,b){var k=r.fromJSON(a.indexSR),l=r.fromJSON(a.vertexSR),q=r.fromJSON(a.renderSR),t=!1,w=0,H=[],L=n.computeGlobalTransformation(a.mbs,a.elevationOffset,k,q),I=a.obb?null:u.create([0,0,0],[-1,-1,-1],[0,0,0,1]);p.vec3.copy(c,a.mbs);c[2]+=a.elevationOffset;p.vec3.copy(d,c);for(var z=0,A=a.geometryData;z<A.length;z++)for(var B=A[z],G=B.componentOffsets,C=0,B=B.geometries;C<B.length;C++){var J=B[C],M=a.layouts[w];++w;var O=h.interleaveGeometryBuffer(J,
a.geometryBuffer,M,[{name:g.VertexAttrConstants.COLOR,byteValue:255}],[g.VertexAttrConstants.NORMAL,g.VertexAttrConstants.NORMALCOMPRESSED,g.VertexAttrConstants.SYMBOLCOLOR,g.VertexAttrConstants.COMPONENTINDEX]),K=new e(new Float32Array(O),M,void 0,void 0,void 0,!0),F=K.getAttribute(g.VertexAttrConstants.POSITION);n.reprojectPoints(F,a.mbs,L,a.elevationOffset,k,l,q);I&&this._updateObb(I,F,L);a.needNormals&&(F={normals:K.getAttribute(g.VertexAttrConstants.NORMALCOMPRESSED),positions:F,normalInd:K.getIndices(g.VertexAttrConstants.NORMALCOMPRESSED),
positionInd:K.getIndices(g.VertexAttrConstants.POSITION)},h.processAndInterleaveNormals(a.normalReferenceFrame,J,a.geometryBuffer,L,F));(J=K.getAttribute(g.VertexAttrConstants.COMPONENTINDEX))&&this._createComponentNumbers(J,G);(K=K.getAttribute(g.VertexAttrConstants.COLOR))&&!t&&(t=this._hasColors(K));K={globalTrafo:L};J=M[0].stride;J=f.deduplicate(O,J/4,1-.8*J/(J+4));null!=J?(O=65536>J.uniqueCount?new Uint16Array(J.indices):J.indices,F=h.extractPositionData(J.buffer,M,O),H.push({layout:M,interleavedVertexData:J.buffer,
indices:O,corMatrices:K,hasColors:t,positionData:F}),b&&(b.push(J.buffer),b.push(O.buffer),b.push(F.data.buffer),b.push(F.indices.buffer))):(F=h.extractPositionData(O,M),H.push({layout:M,interleavedVertexData:O,corMatrices:K,hasColors:t,positionData:F}),b&&(b.push(O),b.push(F.data.buffer),b.push(F.indices.buffer)))}I&&(p.vec3.transformMat4(I.center,I.center,L),m.vectorToVector(I.center,q,I.center,k),I.center[2]-=a.elevationOffset);return{geometryBuffer:a.geometryBuffer,transformedGeometries:H,obb:I}};
a.prototype._hasColors=function(a){var b=a.data,c=a.size,d=a.strideIdx;for(a=a.offsetIdx;a<b.length;a+=d)for(var e=0;e<c;e++)if(255!==b[a+e])return!0;return!1};a.prototype._createComponentNumbers=function(a,b){var c=a.data,d=a.strideIdx,e=c.length/d,f=0;a=a.offsetIdx;for(var g=0;g<e;g++)g>=b[f+1]&&f++,c[a]=f,a+=d};a.prototype._updateObb=function(a,b,e){if(0<a.halfSize[0]){p.vec3.subtract(c,a.center,a.halfSize);p.vec3.add(d,a.center,a.halfSize);for(e=b.offsetIdx;e<b.data.length;e+=b.strideIdx)c[0]=
Math.min(c[0],b.data[e]),c[1]=Math.min(c[1],b.data[e+1]),c[2]=Math.min(c[2],b.data[e+2]),d[0]=Math.max(d[0],b.data[e]),d[1]=Math.max(d[1],b.data[e+1]),d[2]=Math.max(d[2],b.data[e+2]);p.vec3.subtract(a.halfSize,d,c);p.vec3.scale(a.halfSize,a.halfSize,.5);p.vec3.add(a.center,c,d);p.vec3.scale(a.center,a.center,.5)}else u.compute(b,a),b=2*Math.sqrt(1+e[0]+e[5]+e[10]),k[0]=(e[9]-e[6])/b,k[1]=(e[2]-e[8])/b,k[2]=(e[4]-e[1])/b,k[3]=.25*b,p.quat.conjugate(k,k),p.quat.multiply(a.quaternion,k,a.quaternion)};
return a}();var c=p.vec3f64.create(),d=p.vec3f64.create(),k=p.quatf32.create();return a});