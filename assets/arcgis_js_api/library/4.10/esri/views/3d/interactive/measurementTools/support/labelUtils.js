// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.10/esri/copyright.txt for details.
//>>built
define(["require","exports","../../../../../core/libs/gl-matrix-2/gl-matrix","./viewUtils"],function(A,d,a,r){function t(f,b,a){f.projectPoint(b,e);if(0>e[2]||1<e[2])return!1;a[0]=e[0];a[1]=e[1];l(f,a);return!0}function u(f,b,z,m,h,g){if(!b)return!1;r.screenSpaceTangent(b.start,b.end,p,f);a.vec2.set(c,-p[1],p[0]);var d=!1;switch(m){case "top":d=0>c[1];break;case "bottom":d=0<c[1];break;case "left":d=0<c[0];break;case "right":d=0>c[0]}d&&a.vec2.negate(c,c);if(0===a.vec2.length(c))switch(m){case "top":c[1]=
1;break;case "bottom":c[1]=-1;break;case "left":c[0]=-1;break;case "right":c[0]=1}f.projectPoint(b.origin,e);if(0>e[2]||1<e[2])return!1;h[0]=e[0];h[1]=e[1];a.vec2.scale(g,c,z);a.vec2.add(g,g,h);l(f,h);l(f,g);return!0}function v(f,b,d,m,h,g){if(!b||!d)return!1;r.screenSpaceTangent(b.end,b.start,p,f);r.screenSpaceTangent(d.start,d.end,w,f);a.vec2.add(c,p,w);a.vec2.negate(c,c);a.vec2.normalize(c,c);f.projectPoint(b.end,e);if(0>e[2]||1<e[2])return!1;h[0]=e[0];h[1]=e[1];a.vec2.scale(g,c,m);a.vec2.add(g,
g,h);l(f,h);l(f,g);return!0}function x(f,b,d,m,h,g){f.projectPoint(b,e);a.vec3.add(y,b,d);f.projectPoint(y,q);if(0>e[2]||1<e[2]||0>q[2]||1<q[2])return!1;a.vec2.subtract(c,q,e);a.vec2.normalize(c,c);a.vec2.copy(h,e);a.vec2.scale(g,c,m);a.vec2.add(g,g,h);l(f,h);l(f,g);return!0}function l(f,b){b[1]=f.fullHeight-b[1]}Object.defineProperty(d,"__esModule",{value:!0});d.mirrorPosition=function(f){switch(f){case "top":return"bottom";case "right":return"left";case "bottom":return"top";case "left":return"right"}};
d.computeLabelPositionFromPoint=t;d.positionLabelOnPoint=function(f,b,a){(b=t(a,b,k))&&f.updatePosition(k,null);return b};d.computeLabelPositionFromSegment=u;d.positionLabelOnSegment=function(a,b,c,d,e){(b=u(e,b,c,d,k,n))&&a.updatePosition(k,n);return b};d.computeLabelPositionFromCorner=v;d.computeLabelPositionFromPlane=x;d.positionLabelOnCorner=function(a,b,c,d,e){(b=v(e,b,c,d,k,n))&&a.updatePosition(k,n);return b};d.positionLabelOnPlane=function(a,b,c,d,e,g){(b=x(g,b,c,d,k,n))&&a.updatePosition(k,
n);return b};var p=a.vec2f64.create(),w=a.vec2f64.create(),c=a.vec2f64.create(),e=a.vec3f64.create(),q=a.vec3f64.create(),y=a.vec3f64.create(),k=a.vec2f64.create(),n=a.vec2f64.create()});