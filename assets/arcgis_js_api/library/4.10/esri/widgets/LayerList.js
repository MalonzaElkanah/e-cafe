// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.10/esri/copyright.txt for details.
//>>built
require({cache:{"esri/widgets/LayerList/LayerListViewModel":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Collection ../../core/Evented ../../core/Handles ../../core/watchUtils ../../core/accessorSupport/decorators ./ListItem ./support/layerListUtils".split(" "),function(u,n,r,c,p,m,t,l,h,k,q,g){var v=m.ofType(q);return function(e){function b(a){a=e.call(this)||this;a._handles=new l;a.listItemCreatedFunction=
null;a.operationalItems=new v;a.view=null;return a}r(b,e);b.prototype.initialize=function(){var a=this;this._handles.add(h.init(this,"view",function(){return a._viewHandles()}),"view")};b.prototype.destroy=function(){this._handles.destroy();this.view=this._handles=null;this.operationalItems.removeAll()};Object.defineProperty(b.prototype,"state",{get:function(){var a=this.get("view");return this.get("view.ready")?"ready":a?"loading":"disabled"},enumerable:!0,configurable:!0});b.prototype.triggerAction=
function(a,d){a&&this.emit("trigger-action",{action:a,item:d})};b.prototype._createLayerViewHandles=function(a){var d=this,b=this._handles;b.remove("layer-views");this._compileList();a&&b.add(a.on("change",function(){return d._compileList()}),"layer-views")};b.prototype._createMapLayerHandles=function(a){var d=this,b=this._handles;b.remove("map-layers");this._compileList();a&&b.add(a.on("change",function(){return d._compileList()}),"map-layers")};b.prototype._watchItemProperties=function(a){var d=
this;this._handles.add([a.children.on("change",function(){d._modifyListItemChildren(a.children)})],"children-change-"+a.uid)};b.prototype._modifyListItemChildren=function(a){var d=this;a.forEach(function(a){return d._modifyListItem(a)})};b.prototype._modifyListItem=function(a){"function"===typeof this.listItemCreatedFunction&&this.listItemCreatedFunction.call(null,{item:a});this._modifyListItemChildren(a.children)};b.prototype._createListItem=function(a){a=new q({layer:a,view:this.view});this._watchItemProperties(a);
return a};b.prototype._removeAllItems=function(){var a=this._handles,d=this.operationalItems;d.forEach(function(d){a.remove("children-change-"+d.uid)});d.removeAll()};b.prototype._getViewableLayers=function(a){if(a)return a.filter(function(a){return"hide"!==g.findLayerListMode(a)})};b.prototype._watchLayersListMode=function(a){var d=this,b=this._handles;b.remove("layer-list-mode");a&&a.forEach(function(a){b.add(h.watch(a,"listMode",function(){return d._compileList()}),"layer-list-mode")})};b.prototype._compileList=
function(){var a=this.get("view.map.layers");this._watchLayersListMode(a);(a=this._getViewableLayers(a))&&a.length?(this._createNewItems(a),this._modifyOrRemoveItems(a),this._sortItems(a)):this._removeAllItems()};b.prototype._createNewItems=function(a){var d=this,b=this.operationalItems;a.forEach(function(a){b.find(function(d){return d.layer===a})||b.add(d._createListItem(a))})};b.prototype._modifyOrRemoveItems=function(a){var d=this,b=this._handles,e=this.operationalItems;e.forEach(function(f){f&&
(a.find(function(a){return f.layer===a})?d._modifyListItem(f):(b.remove("children-change-"+f.uid),e.remove(f)))})};b.prototype._sortItems=function(a){this.operationalItems.sort(function(d,b){d=a.indexOf(d.layer);b=a.indexOf(b.layer);return d>b?-1:d<b?1:0})};b.prototype._viewHandles=function(){var a=this,d=this._handles,b=this.view;d.remove(["map-layers","layer-views","view-layers"]);this._compileList();b&&d.add([h.init(this,"view.map.layers",function(d){return a._createMapLayerHandles(d)}),h.init(this,
"view.layerViews",function(d){return a._createLayerViewHandles(d)}),h.init(this,"listItemCreatedFunction",function(){return a._compileList()})],"view-layers")};c([k.property()],b.prototype,"listItemCreatedFunction",void 0);c([k.property({type:v})],b.prototype,"operationalItems",void 0);c([k.property({dependsOn:["view.ready"],readOnly:!0})],b.prototype,"state",null);c([k.property()],b.prototype,"view",void 0);c([k.property()],b.prototype,"triggerAction",null);return b=c([k.subclass("esri.widgets.LayerList.LayerListViewModel")],
b)}(k.declared(p,t))})},"esri/widgets/LayerList/ListItem":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Collection ../../core/Handles ../../core/Identifiable ../../core/watchUtils ../../core/accessorSupport/decorators ../../layers/support/Sublayer ../../support/actions/ActionBase ../../support/actions/ActionButton ../../support/actions/ActionSlider ../../support/actions/ActionToggle ./ListItemPanel ./support/layerListUtils".split(" "),
function(u,n,r,c,p,m,t,l,h,k,q,g,v,e,b,a,d){u=m.ofType({key:"type",defaultKeyValue:"button",base:g,typeMap:{button:v,toggle:b,slider:e}});var A=m.ofType(u);return function(b){function f(a){a=b.call(this)||this;a._handles=new t;a._layerViewPromise=null;a.actionsSections=new A;a.actionsOpen=!1;a.children=new (m.ofType(e));a.error=null;a.layer=null;a.layerView=null;a.open=!1;a.panel=null;a.parent=null;a.view=null;a.visible=null;return a}r(f,b);e=f;f.prototype.initialize=function(){var a=this;this._handles.add([h.init(this,
"layer",function(d){return a._watchLayerProperties(d)}),h.init(this,"view",function(d){return a._updateChildren(d)}),h.init(this,"panel",function(d){return a._setListItemOnPanel(d)}),h.init(this,["layer","view"],function(){return a._getLayerView()})])};f.prototype.destroy=function(){this._layerViewPromise&&this._layerViewPromise.cancel();this._layerViewPromise=null;this._handles.destroy();this.view=this._handles=null};f.prototype.castPanel=function(d){this.get("panel.open")&&!d.hasOwnProperty("open")&&
(d.open=!0);return d?new a(d):null};Object.defineProperty(f.prototype,"title",{get:function(){var a=this.get("layer.layer");return(!a||a&&this.get("layer.layer.loaded"))&&this.get("layer.title")||""},set:function(a){void 0===a?this._clearOverride("title"):this._override("title",a)},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"updating",{get:function(){var a=this.layerView;return a?a.updating:this._isLayerUpdating(this.layer)},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,
"visibleAtCurrentScale",{get:function(){return!d.isLayerOutsideScaleRange(this.layer,this.get("view.scale"))},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"visibilityMode",{get:function(){return d.findLayerVisibilityMode(this.layer)||"independent"},enumerable:!0,configurable:!0});f.prototype.clone=function(){return new e({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,children:this.children.clone(),layer:this.layer,open:this.open,panel:this.panel,title:this.title,
view:this.view,visible:this.visible})};f.prototype._setListItemOnPanel=function(a){a&&(a.listItem=this)};f.prototype._updateChildren=function(a){var d=this.children;d&&d.forEach(function(d){return d.view=a})};f.prototype._addChildren=function(a){var b=this;this.children.removeAll();if(a){this._handles.remove("child-list-mode");a.forEach(function(d){b._handles.add(h.watch(d,"listMode",function(){return b._addChildren(a)}),"child-list-mode")});var f=[];a.filter(function(a){return"hide"!==d.findLayerListMode(a)}).forEach(function(a){d.canDisplayLayer(a)&&
(a=new e({layer:a,parent:b,view:b.view}),f.unshift(a))});this.children.addMany(f)}};f.prototype._watchSublayerChanges=function(a){var d=this;a&&this._handles.add(a.on("change",function(){d._addChildren(a)}),"layer")};f.prototype._initializeChildLayers=function(a){this._addChildren(a);this._watchSublayerChanges(a)};f.prototype._watchLayerProperties=function(a){var b=this;if(this._handles&&(this._handles.remove("layer"),a)){var f=d.getNormalizedChildLayerProperty(a);f&&this._handles.add(h.init(a,f,
function(){a.hasOwnProperty(f)&&b._initializeChildLayers(a[f])}),"layer")}};f.prototype._getLayerView=function(){var a=this,d=this.layer,b=this.view;if(d&&b){var f=this._layerViewPromise=b.whenLayerView(d);f.then(function(d){f===a._layerViewPromise&&(a._layerViewPromise=null,a._set("layerView",d))}).catch(function(d){f===a._layerViewPromise&&(a._layerViewPromise=null)})}};f.prototype._isLayerUpdating=function(a){return a instanceof q?!1:a&&"loading"===a.loadStatus};var e;c([k.property({type:A})],
f.prototype,"actionsSections",void 0);c([k.property()],f.prototype,"actionsOpen",void 0);c([k.property({type:m})],f.prototype,"children",void 0);c([k.aliasOf("layer.loadError?")],f.prototype,"error",void 0);c([k.property()],f.prototype,"layer",void 0);c([k.property({readOnly:!0})],f.prototype,"layerView",void 0);c([k.property()],f.prototype,"open",void 0);c([k.property({type:a})],f.prototype,"panel",void 0);c([k.cast("panel")],f.prototype,"castPanel",null);c([k.property()],f.prototype,"parent",void 0);
c([k.property({dependsOn:["layer.layer?.loaded","layer.title"]})],f.prototype,"title",null);c([k.property({dependsOn:["layer.loadStatus?","layerView.updating"],readOnly:!0})],f.prototype,"updating",null);c([k.property({value:null})],f.prototype,"view",void 0);c([k.aliasOf("layer.visible")],f.prototype,"visible",void 0);c([k.property({dependsOn:["layer.minScale","layer.maxScale","view.scale"],readOnly:!0})],f.prototype,"visibleAtCurrentScale",null);c([k.property({dependsOn:["layer.visibilityMode?"],
readOnly:!0})],f.prototype,"visibilityMode",null);return f=e=c([k.subclass("esri.widgets.LayerList.ListItem")],f)}(k.declared(p,l.Identifiable))})},"esri/support/actions/ActionSlider":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./ActionBase".split(" "),function(u,n,r,c,p,m){return function(m){function l(c){c=m.call(this)||this;c.displayValueEnabled=!1;c.max=1;c.min=0;c.step=.1;c.type="slider";
c.value=null;return c}r(l,m);h=l;l.prototype.clone=function(){return new h({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,displayValueEnabled:this.displayValueEnabled,max:this.max,min:this.min,step:this.step,value:this.value})};var h;c([p.property()],l.prototype,"displayValueEnabled",void 0);c([p.property()],l.prototype,"max",void 0);c([p.property()],l.prototype,"min",void 0);c([p.property()],l.prototype,
"step",void 0);c([p.property()],l.prototype,"value",void 0);return l=h=c([p.subclass("esri.support.Action.ActionSlider")],l)}(p.declared(m))})},"esri/widgets/LayerList/ListItemPanel":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Handles ../../core/Identifiable ../../core/promiseUtils ../../core/watchUtils ../../core/accessorSupport/decorators ../Widget ../support/widget".split(" "),function(u,n,r,c,p,m,t,l,h,k,q){return function(m){function g(e){e=
m.call(this)||this;e._legend=null;e._handles=new p;e.content=null;e.image=null;e.listItem=null;e.open=!1;e.visible=!0;return e}r(g,m);g.prototype.postInitialize=function(){var e=this;this.own([l.init(this,"content",function(b){return e._createLegend(b)})])};g.prototype.destroy=function(){var e=this._legend;e&&e.destroy();this._legend=null};Object.defineProperty(g.prototype,"className",{get:function(){var e=this.image,b=this._getFirstWidget();return this._get("className")||!e&&b?b.iconClass:""},set:function(e){void 0===
e?this._clearOverride("className"):this._override("className",e)},enumerable:!0,configurable:!0});Object.defineProperty(g.prototype,"title",{get:function(){var e=this._getFirstWidget();return this._get("title")||e?e.label:""},set:function(e){void 0===e?this._clearOverride("title"):this._override("title",e)},enumerable:!0,configurable:!0});g.prototype.render=function(){return q.tsx("div",{class:"esri-layer-list-panel"},this._renderContents())};g.prototype._renderContent=function(e,b){b=this._legend;
var a=this.listItem;return e?"legend"===e?a&&a.view&&a.layer&&b?q.tsx("div",{class:this.classes("esri-layer-list-panel__content","esri-layer-list-panel__content--legend"),key:b},b.render()):null:"string"===typeof e?q.tsx("div",{class:this.classes("esri-layer-list-panel__content","esri-layer-list-panel__content--string"),key:e,innerHTML:e}):q.isWidget(e)?q.tsx("div",{class:this.classes("esri-layer-list-panel__content","esri-layer-list-panel__content--widget"),key:e},e.render()):e instanceof HTMLElement?
q.tsx("div",{class:this.classes("esri-layer-list-panel__content","esri-layer-list-panel__content--html-element"),key:e,bind:e,afterCreate:this._attachToNode}):null:null};g.prototype._renderContents=function(){var e=this,b=this.content;return Array.isArray(b)?b.map(function(a,d){return e._renderContent(a,d)}):this._renderContent(b,0)};g.prototype._getLegendOptions=function(e){if(e){var b=e.layer;e=e.view;if(b&&e)return{view:e,layerInfos:[{layer:b,title:""}]}}};g.prototype._createLegend=function(e){var b=
this;this._hasLegend(e)&&!this._legend&&t.create(function(a){u(["../Legend"],a)}).then(function(a){var d=b._handles,e=new a(b._getLegendOptions(b.listItem));b._legend=e;b.notifyChange("className");b.notifyChange("title");a=l.init(b,["listItem.view","listItem.layer"],function(){return b._updateLegend(e)});d.add(a,"legends");b.scheduleRender()})};g.prototype._hasLegend=function(e){return"legend"===e?!0:Array.isArray(e)?e.some(function(b){return"legend"===b}):!1};g.prototype._attachToNode=function(e){e.appendChild(this)};
g.prototype._updateLegend=function(e){var b=this.listItem;if(b){var a=b.layer;e.view=b.view;e.layerInfos=[{layer:a,title:null}];this.scheduleRender()}};g.prototype._getWidget=function(e){return"legend"===e?this._legend:q.isWidget(e)?e:null};g.prototype._getFirstWidget=function(){var e=this,b=this.content;if(Array.isArray(b)){var a=null;b.some(function(d){(d=e._getWidget(d))&&(a=d);return!!d});return a}return this._getWidget(b)};c([h.property({dependsOn:["content","image"]})],g.prototype,"className",
null);c([h.property(),q.renderable()],g.prototype,"content",void 0);c([h.property()],g.prototype,"image",void 0);c([h.property()],g.prototype,"listItem",void 0);c([h.property({dependsOn:["content"]})],g.prototype,"title",null);c([h.property(),q.renderable()],g.prototype,"open",void 0);c([h.property()],g.prototype,"visible",void 0);return g=c([h.subclass("esri.widgets.LayerList.ListItemPanel")],g)}(h.declared(k,m.Identifiable))})},"esri/widgets/LayerList/support/layerListUtils":function(){define(["require",
"exports"],function(u,n){function r(c){if(c)return c.hasOwnProperty("listMode")?c.listMode:void 0}function c(c){if(c)return c.hasOwnProperty("minScale")?c.minScale:void 0}function p(c){if(c)return c.hasOwnProperty("maxScale")?c.maxScale:void 0}Object.defineProperty(n,"__esModule",{value:!0});n.findLayerListMode=r;n.findLayerMinScale=c;n.findLayerMaxScale=p;n.findLayerVisibilityMode=function(c){if(c)return c.get("layer.capabilities")?c.get("layer.capabilities.exportMap.supportsSublayerVisibility")?
"independent":"inherited":c.hasOwnProperty("visibilityMode")?c.visibilityMode:void 0};n.getNormalizedChildLayerProperty=function(c){if(c&&"hide-children"!==c.listMode&&"wmts"!==c.type)return"group"===c.type?"layers":"sublayers"};n.canDisplayLayer=function(c){return"hide"!==r(c)};n.isLayerOutsideScaleRange=function(m,n){if(!m||isNaN(n))return!1;var l=c(m);m=p(m);l=!isNaN(l)&&0<l&&n>=l;n=!isNaN(m)&&0<m&&n<=m;return l||n}})},"*now":function(u){u(['dojo/i18n!*preload*esri/widgets/nls/LayerList*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])},
"*noref":1}});
define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper dojo/i18n!../nls/common dojo/i18n!./LayerList/nls/LayerList ../core/Handles ../core/watchUtils ../core/accessorSupport/decorators ./Widget ./LayerList/LayerListViewModel ./support/widget".split(" "),function(u,n,r,c,p,m,t,l,h,k,q,g){function v(c){var b=c.children;c.actionsOpen&&(c.actionsOpen=!1);b.forEach(function(a){return v(a)})}return function(e){function b(){var a=e.call(this)||this;a._handles=new t;
a.iconClass="esri-icon-layers";a.statusIndicatorsVisible=!0;a.label=m.widgetLabel;a.listItemCreatedFunction=null;a.operationalItems=null;a.view=null;a.viewModel=new q;return a}r(b,e);b.prototype.postInitialize=function(){var a=this,d=this.operationalItems;this.own(l.on(this,"operationalItems","change",function(){return a._itemsChanged(d)}))};b.prototype.destroy=function(){this._handles.destroy();this._handles=null};b.prototype.triggerAction=function(a,d){};b.prototype.render=function(){var a=this,
d,b=this._getItems(),c=this.get("viewModel.state"),b=0===b.length?g.tsx("div",{class:"esri-layer-list__no-items"},m.noItemsToDisplay):g.tsx("ul",{class:this.classes("esri-layer-list__list","esri-layer-list__list--root","esri-layer-list__list--independent")},b.map(function(d,b){return a._renderItem(d,null)})),c=(d={},d["esri-hidden"]="loading"===c,d["esri-disabled"]="disabled"===c,d);return g.tsx("div",{class:this.classes("esri-layer-list esri-widget esri-widget--panel",c)},b)};b.prototype._getItems=
function(){var a=this;return this.operationalItems.toArray().filter(function(d){return a.errorsVisible||!d.error})};b.prototype._getSingleActionButton=function(a){return a.actionsSections.reduce(function(a){return a}).filter(function(a){return a&&"button"===a.type}).getItemAt(0)};b.prototype._renderItem=function(a,d){var b=this,c,f,e,h,k=this.id+"_"+a.uid,l=k+"_actions",n=k+"__list",k=k+"__title",q=!!a.children.length,r=!!a.error,u=r?m.layerError:"",t=a.visibilityMode,v=a.children&&a.children.toArray(),
C=(c={},c["esri-layer-list__list--exclusive"]="exclusive"===t,c["esri-layer-list__list--inherited"]="inherited"===t,c["esri-layer-list__list--independent"]="inherited"!==t&&"exclusive"!==t,c);c=(f={},f["esri-layer-list__item--has-children"]=q,f["esri-layer-list__item--error"]=!!u,f["esri-layer-list__item--updating"]=a.updating&&!d&&this.statusIndicatorsVisible,f["esri-layer-list__item--invisible-at-scale"]=!a.visibleAtCurrentScale,f);var x=this._countActions(a.actionsSections),w=a.panel;f=w&&w.open?
w.render():null;var w=w&&w.visible?this._renderPanelButton(w):null,y=(e={},e["esri-layer-list__item-actions-menu-item--active"]=a.actionsOpen,e),B=a.actionsOpen?p.close:p.open,z=1===x&&this._getSingleActionButton(a);e=z?this._renderAction({item:a,action:z,singleAction:!0}):null;e=(y=!z&&x?g.tsx("div",{key:"actions-menu-toggle","data-item":a,bind:this,onclick:this._toggleActionsOpen,onkeydown:this._toggleActionsOpen,class:this.classes("esri-layer-list__item-actions-menu-item",y),tabindex:"0",role:"button",
"aria-controls":l,"aria-label":B,title:B},g.tsx("span",{"aria-hidden":"true",class:"esri-icon-handle-horizontal"})):null)||w||e?g.tsx("div",{key:"esri-layer-list__actions-menu",class:"esri-layer-list__item-actions-menu"},w,e,y):null;l=x?this._renderActionsSections(a,a.actionsSections,l):null;t=q?g.tsx("ul",{key:"esri-layer-list__list-items",id:n,class:this.classes("esri-layer-list__list",C),"aria-expanded":a.open?"true":"false",role:"exclusive"===t?"radiogroup":"group",hidden:a.open?null:!0},v.map(function(d,
c){return b._renderItem(d,a)})):null;v=(h={},h["esri-layer-list__child-toggle--open"]=a.open,h);h=a.open?p.collapse:p.expand;n=q?g.tsx("span",{onclick:this._toggleChildrenClick,onkeydown:this._toggleChildrenClick,"data-item":a,key:"esri-layer-list__toggle-children",class:this.classes("esri-layer-list__child-toggle",v),tabindex:"0",role:"button","aria-controls":n,"aria-label":h,title:h},g.tsx("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--closed","esri-icon-right-triangle-arrow")}),
g.tsx("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--opened","esri-icon-down-arrow")}),g.tsx("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--closed-rtl","esri-icon-left-triangle-arrow")})):null;d=this._createLabelNode(a,d,k);r=r?g.tsx("div",{key:"esri-layer-list__error",class:"esri-layer-list__item-error-message",role:"alert"},g.tsx("span",{"aria-hidden":"true",class:"esri-icon-notice-triangle"}),g.tsx("span",null,u)):null;
return g.tsx("li",{key:a,class:this.classes("esri-layer-list__item",c),"aria-labelledby":k},g.tsx("div",{key:"esri-layer-list__list-item-container",class:"esri-layer-list__item-container"},n,d,e),r,l,f,t)};b.prototype._createLabelNode=function(a,d,b){var c;d=d&&d.visibilityMode;var f=(c={},c["esri-icon-radio-checked"]="exclusive"===d&&a.visible,c["esri-icon-radio-unchecked"]="exclusive"===d&&!a.visible,c["esri-icon-visible"]="exclusive"!==d&&a.visible,c["esri-icon-non-visible"]="exclusive"!==d&&!a.visible,
c);c="exclusive"===d?"radio":"checkbox";var e=a.title||m.untitledLayer,h=a.visibleAtCurrentScale?e:e+" ("+m.layerInvisibleAtScale+")",e=g.tsx("span",{id:b,title:h,"aria-label":h,class:"esri-layer-list__item-title"},e);return"inherited"===d?g.tsx("div",{key:a,class:"esri-layer-list__item-label"},e):g.tsx("div",{key:a,onclick:this._labelClick,onkeydown:this._labelClick,"data-item":a,"data-parent-visibility":d,tabindex:"0","aria-checked":a.visible?"true":"false",role:c,"aria-labelledby":b,class:"esri-layer-list__item-label"},
g.tsx("span",{class:"esri-layer-list__item-toggle"},g.tsx("span",{class:this.classes("esri-layer-list__item-toggle-icon",f),"aria-hidden":"true"})),e)};b.prototype._renderPanelButton=function(a){var d,b,c=a.className,e=a.open,h=a.title,c=a.image||c?c:"esri-icon-default-action",k=this._getIconImageStyles(a),e=(d={},d["esri-layer-list__item-actions-menu-item--active"]=e,d);d=(b={},b["esri-layer-list__item-action-image"]=!!k["background-image"],b);c&&(d[c]=!!c);return g.tsx("div",{key:a,bind:this,"data-panel":a,
onclick:this._triggerPanel,onkeydown:this._triggerPanel,class:this.classes("esri-layer-list__item-actions-menu-item",e),role:"button",tabindex:"0",title:h,"aria-label":h},g.tsx("span",{class:this.classes(d),styles:k}))};b.prototype._watchActionSectionChanges=function(a,d){var b=this,c="action-section"+d;this._handles.add(a.on("change",this.scheduleRender.bind(this)),c);a.forEach(function(a){return b._renderOnActionChanges(a,d)})};b.prototype._renderOnActionChanges=function(a,d){var b=this;d="actions"+
d;"toggle"===a.type?this._handles.add([l.init(a,"className image id title visible value".split(" "),function(){return b.scheduleRender()})],d):"slider"===a.type?this._handles.add([l.init(a,"className id title visible value displayValueEnabled max min step".split(" "),function(){return b.scheduleRender()})],d):this._handles.add([l.init(a,["className","image","id","title","visible"],function(){return b.scheduleRender()})],d)};b.prototype._renderOnItemChanges=function(a){var d=this,b=a.uid,c="items"+
b;this._handles.add([l.init(a,"actionsOpen visible open updating title visibleAtCurrentScale error visibilityMode panel panel.title panel.content panel.className".split(" "),function(){return d.scheduleRender()}),a.actionsSections.on("change",function(){return d.scheduleRender()}),a.children.on("change",function(){return d.scheduleRender()})],c);a.children.forEach(function(a){return d._renderOnItemChanges(a)});a.actionsSections.forEach(function(a){return d._watchActionSectionChanges(a,b)})};b.prototype._itemsChanged=
function(a){var b=this;this._handles.removeAll();a.forEach(function(a){return b._renderOnItemChanges(a)});this.scheduleRender()};b.prototype._renderActionsSections=function(a,b,c){var d=this;b=b.toArray().map(function(b){return g.tsx("ul",{key:b,class:"esri-layer-list__item-actions-list"},d._renderActionSection(a,b))});return g.tsx("div",{role:"group","aria-expanded":a.actionsOpen?"true":"false",key:"esri-layer-list__actions-section",id:c,class:"esri-layer-list__item-actions",hidden:a.actionsOpen?
null:!0},b)};b.prototype._renderActionSection=function(a,b){var d=this;return(b&&b.toArray()).map(function(b){return d._renderAction({item:a,action:b})})};b.prototype._renderAction=function(a){var b,c,e=a.item,f=a.action;a=a.singleAction;var h=this._getIconImageStyles(f),k=f.active,l=f.className,m=f.disabled,n=f.title,l="button"!==f.type||f.image||l?l:"esri-icon-default-action",m=(b={},b["esri-layer-list__item-actions-menu-item"]=a&&"button"===f.type,b["esri-layer-list__item-action"]=!a&&"toggle"!==
f.type,b["esri-layer-list__action-toggle"]="toggle"===f.type,b["esri-layer-list__action-toggle--on"]="toggle"===f.type&&f.value,b["esri-disabled-element"]=m,b);b=(c={},c["esri-layer-list__item-action-image"]=!k&&!!h["background-image"],c["esri-icon-loading-indicator"]=k,c["esri-rotating"]=k,c);l&&(b[l]=!0);c=g.tsx("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__item-action-icon",b),styles:h});b=a?null:g.tsx("span",{class:"esri-layer-list__item-action-title"},n);c=[c,b];return a?
g.tsx("div",{bind:this,"data-item":e,"data-action":f,role:"button",key:f,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:m,tabindex:"0",title:n,"aria-label":n},c):g.tsx("li",{bind:this,"data-item":e,"data-action":f,key:f,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:m,tabindex:"0",role:"button",title:n,"aria-label":n},c)};b.prototype._countActions=function(a){return a.reduce(function(a,b){return a+b.length},0)};b.prototype._getIconImageStyles=function(a){a=a.declaredClass=
a.image;return{"background-image":a?'url("'+a+'")':null}};b.prototype._toggleActionsOpen=function(a){a=a.currentTarget["data-item"];var b=!a.actionsOpen;b&&this.operationalItems.forEach(function(a){return v(a)});a.actionsOpen=b};b.prototype._triggerPanel=function(a){if(a=a.currentTarget["data-panel"])a.open=!a.open};b.prototype._triggerAction=function(a){var b=a.currentTarget;a=b["data-action"];b=b["data-item"];"toggle"===a.type&&(a.value=!a.value);this.triggerAction(a,b)};b.prototype._labelClick=
function(a){var b=a.currentTarget;a=b.getAttribute("data-parent-visibility");b=b["data-item"];"exclusive"===a&&b.visible||(b.visible=!b.visible)};b.prototype._toggleChildrenClick=function(a){a=a.currentTarget["data-item"];a.open=!a.open};c([h.property()],b.prototype,"iconClass",void 0);c([h.property(),g.renderable()],b.prototype,"statusIndicatorsVisible",void 0);c([h.property(),g.renderable()],b.prototype,"errorsVisible",void 0);c([h.property()],b.prototype,"label",void 0);c([h.aliasOf("viewModel.listItemCreatedFunction"),
g.renderable()],b.prototype,"listItemCreatedFunction",void 0);c([h.aliasOf("viewModel.operationalItems"),g.renderable()],b.prototype,"operationalItems",void 0);c([h.aliasOf("viewModel.view"),g.renderable()],b.prototype,"view",void 0);c([g.vmEvent("trigger-action"),h.property({type:q}),g.renderable("viewModel.state")],b.prototype,"viewModel",void 0);c([h.aliasOf("viewModel.triggerAction")],b.prototype,"triggerAction",null);c([g.accessibleHandler()],b.prototype,"_toggleActionsOpen",null);c([g.accessibleHandler()],
b.prototype,"_triggerPanel",null);c([g.accessibleHandler()],b.prototype,"_triggerAction",null);c([g.accessibleHandler()],b.prototype,"_labelClick",null);c([g.accessibleHandler()],b.prototype,"_toggleChildrenClick",null);return b=c([h.subclass("esri.widgets.LayerList")],b)}(h.declared(k))});