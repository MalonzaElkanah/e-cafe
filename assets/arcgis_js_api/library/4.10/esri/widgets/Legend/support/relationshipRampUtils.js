// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.10/esri/copyright.txt for details.
//>>built
define("require exports dojox/gfx dojox/gfx/matrix ../../../symbols/support/gfxUtils ../../../symbols/support/previewSymbol3D".split(" "),function(B,k,w,n,p,x){function y(b){if(b){var a=b.type;return-1<a.indexOf("3d")?x.getSymbolLayerFill(b.symbolLayers.getItemAt(0)):"simple-line"===a||"simple-marker"===b.type&&("x"===b.style||"cross"===b.style)?(b=p.getStroke(b))&&b.color:p.getFill(b)}}function z(b,a){var c=a.HH.label,d=a.LL.label,e=a.HL.label;a=a.LH.label;switch(b){case "HH":return{top:c,bottom:d,
left:e,right:a};case "HL":return{top:e,bottom:a,left:d,right:c};case "LL":return{top:d,bottom:c,left:a,right:e};case "LH":return{top:a,bottom:e,left:c,right:d};default:return{top:c,bottom:d,left:e,right:a}}}function l(b){var a=t[b];b&&null==a&&(a=t.HH);return a||0}function u(b,a,c,d){var e=d+"_arrowStart";d+="_arrowEnd";a="left"===a;switch(c){case "HL":b.setAttribute(a?"marker-start":"marker-end","url(#"+(a?d:e)+")");break;case "LL":b.setAttribute("marker-start","url(#"+d+")");break;case "LH":b.setAttribute(a?
"marker-end":"marker-start","url(#"+(a?e:d)+")");break;default:b.setAttribute("marker-end","url(#"+e+")")}}function v(b,a,c){var d="start"===a;a=d?c+"_arrowStart":c+"_arrowEnd";c=d?"0,0 5,5 0,10":"5,0 0,5 5,10";var e=d?"5":"0",d=document.createElementNS("http://www.w3.org/2000/svg","marker");d.setAttribute("id",a);d.setAttribute("markerWidth","10");d.setAttribute("markerHeight","10");d.setAttribute("refX",e);d.setAttribute("refY","5");d.setAttribute("markerUnits","strokeWidth");d.setAttribute("orient",
"auto");a=document.createElementNS("http://www.w3.org/2000/svg","polyline");a.setAttribute("points",c);a.setAttribute("fill","none");a.setAttribute("stroke","#555555");a.setAttribute("stroke-width","1");d.appendChild(a);b.appendChild(d)}Object.defineProperty(k,"__esModule",{value:!0});var t={HH:315,HL:45,LL:135,LH:225},A={2:[["HL","HH"],["LL","LH"]],3:[["HL","HM","HH"],["ML","MM","MH"],["LL","LM","LH"]],4:[["HL","HM1","HM2","HH"],["M2L","M2M1","M2M2","M2H"],["M1L","M1M1","M1M2","M1H"],["LL","LM1",
"LM2","LH"]]};k.getRelationshipRampElement=function(b){var a=b.focus,c=b.numClasses,d=A[c],e={};b.infos.forEach(function(a){e[a.value]={label:a.label,fill:y(a.symbol)}});b=[];for(var h=0;h<c;h++){for(var g=[],f=0;f<c;f++)g.push(e[d[h][f]].fill);b.push(g)}d=z(a,e);return{type:"relationship-ramp",numClasses:c,focus:a,colors:b,labels:d,rotation:l(a)}};k.getRotationAngleForFocus=l;k.renderRamp=function(b,a,c){void 0===c&&(c=60);var d=b.focus,e=b.numClasses,h=b.colors,g=b.rotation;b=!!d;var f=Math.sqrt(Math.pow(c,
2)+Math.pow(c,2))+(b?0:5),k=document.createElement("div"),q=w.createSurface(k,f,f),m=p.create2DColorRamp({surface:q,colors:h,numClasses:e,size:c}),e=(f-c)/2,f=(f-c)/2;m.applyTransform(n.translate(e,f));var h=c/2,l=c/2;m.applyTransform(n.rotategAt(g,h,l));var g=q.createGroup(),m={width:1,color:"#555555"},r=q.defNode;v(r,"start",a);v(r,"end",a);r=g.createLine({x1:-10,y1:c-15,x2:-10,y2:15}).setStroke(m);c=g.createLine({x1:15,y1:c+10,x2:c-15,y2:c+10}).setStroke(m);u(r.rawNode,"left",d,a);u(c.rawNode,
"right",d,a);g.applyTransform(n.translate(e,f));b?g.applyTransform(n.rotategAt(-45,h,l)):q.rawNode.style.margin="-15px -15px -18px -15px";return k}});