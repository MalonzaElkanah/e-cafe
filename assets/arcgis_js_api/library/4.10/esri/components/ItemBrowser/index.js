// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.10/esri/copyright.txt for details.
//>>built
define("../Component dojo/i18n!../ItemBrowser/nls/resources dojo/Deferred dojo/promise/all dojo/date/locale ../Buttons/SvgButton ../Loaders/LoaderBars ../Buttons/IconButton ../Filters/CategoriesFilter/index ../Buttons/Toggle ../Navigation/Pager/index ../Dropdowns/SortDropdown/index ../Dropdowns/TextOptionDropdown dojo/_base/kernel dojo/debounce ../Modals/Overlay ../Navigation/TabNav ../Modals/MobileWrap ../Filters/MapAreaFilter ../Filters/CreatedFilter/index ../Filters/ItemTypeFilter/index ../Filters/ModifiedFilter/index ../Filters/SharedFilter/index ../Filters/StatusFilter/index ../Filters/FolderFilter/index ../Filters/GroupFilter/index ../Filters/TagsFilter/index ../Dropdowns/AccordionDropdown/index ../Dropdowns/FilterController/index ../ItemCards/AnalysisCard/index ../Badges/Authoritative ../Badges/Deprecated ../Badges/LivingAtlas ../Badges/Marketplace ../Badges/OpenData ../Badges/Premium ../Badges/Subscriber ../ItemCards/MiniCard/index ../ItemCards/MiniCardRow/index".split(" "),
function(C,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta){return function(d){function b(f){if(a[f])return a[f].exports;var c=a[f]={i:f,l:!1,exports:{}};return d[f].call(c.exports,c,c.exports,b),c.l=!0,c.exports}var a={};return b.m=d,b.c=a,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:d})},b.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"});Object.defineProperty(a,
"__esModule",{value:!0})},b.t=function(a,c){if((1&c&&(a=b(a)),8&c)||4&c&&"object"==typeof a&&a&&a.__esModule)return a;var f=Object.create(null);if(b.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:a}),2&c&&"string"!=typeof a)for(var h in a)b.d(f,h,function(b){return a[b]}.bind(null,h));return f},b.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=
289)}([function(d,b,a){function f(a,b){function e(){this.constructor=a}c(a,b);a.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}a.d(b,"b",function(){return f});a.d(b,"a",function(){return k});var c=function(a,b){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])})(a,b)},k=function(){return(k=Object.assign||function(a){for(var b,e=1,c=arguments.length;e<c;e++)for(var h in b=
arguments[e])Object.prototype.hasOwnProperty.call(b,h)&&(a[h]=b[h]);return a}).apply(this,arguments)}},function(d,b){d.exports=C},function(d,b){d.exports=I},function(d,b,a){function f(a,b,f){var d,l,k=b.settings.utils.request,n=Object(h.b)({},b),n=k(n[0],n[1]).then(Object(g.a)(b),function(b){return a({type:u,payload:b})});if(f){d=Object(h.a)(b,["access","contentstatus","categories"]);d=k(d[0],d[1]);f=b.settings.config.customSections;var r=b.parameters.section;if(Object(p.a)(r)||Object(v.e)(f,r)&&
Object(p.a)(Object(v.b)(f,r)))l=Object(h.c)(b,b.ui.tagsFilter.filterString),l=k(l[0],l[1])}k=[n,d,l].filter(function(a){return!!a});e(k).then(function(e){return a(function(a,b){var e=a.settings.utils.iconDir,g=Object(y.a)(a);return{type:w,payload:{search:c.a({},b[0].data,{results:b[0].data.results.map(function(a){return Object(m.a)(g,e,a)})}),aggregations:b[1]&&b[1].data&&b[1].data.aggregations?{counts:b[1].data.aggregations.counts.slice().concat(b[2]&&b[2].data&&b[2].data.aggregations?b[2].data.aggregations.counts.slice():
[]),countInfo:{section:a.parameters.section,group:a.parameters.filter.group,custom:a.settings.config.customSections.filter(function(b){return b.name===a.parameters.section})[0]}}:void 0}}}(b,e))},function(b){return a({type:u,payload:b})})}a.d(b,"a",function(){return x});a.d(b,"c",function(){return w});a.d(b,"b",function(){return u});a.d(b,"d",function(){return z});a.d(b,"f",function(){return A});a.d(b,"e",function(){return B});a.d(b,"g",function(){return E});a.d(b,"h",function(){return F});var c=
a(0),k=a(25),h=a(47),g=a(89),e=a(15),m=a(27),l=a(88),q=a(64),n=a(26),t=a(57),r=a(50),v=a(18),p=a(248),y=a(31),x="LOADING_CONTENT",w="LOADING_CONTENT_SUCCESS",u="LOADING_CONTENT_FAILED",z="LOADING_NEXT",A="LOADING_NEXT_SUCCESS",B="LOADING_NEXT_FAILED",E=function(a){return function(b,e){var c=e();e=c.settings.utils.request;var f=c.parameters.nextQuery.nextStart;b({type:z});f=Object(h.b)({num:a,start:f},c);e(f[0],f[1]).then(Object(g.a)(c),function(a){return b({type:B,payload:a})}).then(function(a){return b(G(c,
a))},function(a){return b({type:B,payload:a})})}},F=function(a){return function(b,e){e=e();b({type:x});e.settings.config.clearSelectionBetweenSearches&&b({type:k.a});b(H(a))}},H=function(a){return function(b,g){var c=g(),h=c.parameters.section,d=c.settings.utils.portal.user,p=!!d;b(Object(l.b)()).then(function(l){"livingAtlas"===h?b(Object(q.d)(l)).then(function(){return f(b,g(),a)},function(){return b({type:u,payload:"Couldn't load the living atlas info."})}):"myContent"!==h&&"myGroups"!==h&&"myFavorites"!==
h&&"subscription"!==h||!p?"myOrganization"===h&&p?b(Object(t.d)()).then(function(){return f(b,g(),a)},function(){return b({type:u,payload:"Couldn't load the organization info."})}):Object(v.e)(c.settings.config.customSections,h)?b(Object(r.e)()).then(function(){return f(b,g(),a)},function(){return b({type:u,payload:"Couldn't load the custom section info."})}):f(b,c,a):e([b(Object(n.l)())].concat(p&&d.orgId?[b(Object(t.d)())]:[])).then(function(){return f(b,g(),a)},function(){return b({type:u,payload:"Couldn't load the user info."})})})}},
G=function(a,b){var e=a.settings.utils.iconDir,g=Object(y.a)(a);return{type:A,payload:c.a({},b.data,{results:b.data.results.map(function(a){return Object(m.a)(g,e,a)})})}}},function(d,b,a){a.d(b,"c",function(){return f});a.d(b,"m",function(){return c});a.d(b,"h",function(){return k});a.d(b,"i",function(){return h});a.d(b,"l",function(){return g});a.d(b,"e",function(){return e});a.d(b,"g",function(){return m});a.d(b,"k",function(){return l});a.d(b,"b",function(){return q});a.d(b,"o",function(){return n});
a.d(b,"f",function(){return t});a.d(b,"d",function(){return r});a.d(b,"p",function(){return v});a.d(b,"j",function(){return p});a.d(b,"n",function(){return y});a.d(b,"q",function(){return x});a.d(b,"a",function(){return w});a.d(b,"s",function(){return u});a.d(b,"C",function(){return z});a.d(b,"w",function(){return A});a.d(b,"B",function(){return B});a.d(b,"x",function(){return E});a.d(b,"y",function(){return F});a.d(b,"u",function(){return H});a.d(b,"A",function(){return G});a.d(b,"r",function(){return ua});
a.d(b,"E",function(){return va});a.d(b,"t",function(){return wa});a.d(b,"v",function(){return xa});a.d(b,"F",function(){return D});a.d(b,"z",function(){return ya});a.d(b,"D",function(){return za});a.d(b,"G",function(){return C});var f="UPDATE_CUSTOM_FILTER",c="UPDATE_ORG_GROUP_FILTER",k="UPDATE_LIVING_ATLAS_CATEGORIES_FILTER",h="UPDATE_LIVING_ATLAS_REGION_FILTER",g="UPDATE_ORG_CATEGORIES_FILTER",e="UPDATE_GROUP_CATEGORIES_FILTER",m="UPDATE_ITEM_TYPE_FILTER",l="UPDATE_MODIFIED_FILTER",q="UPDATE_CREATED_FILTER",
n="UPDATE_SHARED_FILTER",t="UPDATE_GROUP_FILTER",r="UPDATE_FOLDER_FILTER",v="UPDATE_STATUS_FILTER",p="UPDATE_MAP_AREA_FILTER",y="UPDATE_SEARCH_ORG_FILTER",x="UPDATE_TAGS_FILTER",w="CLEAR_ALL_FILTERS",u=function(a,b){return{type:f,payload:{index:a,filter:b}}},z=function(a){return{type:c,payload:a}},A=function(a){return{type:m,payload:a}},B=function(a){return{type:g,payload:a}},E=function(a){return{type:k,payload:a}},F=function(a){return{type:h,payload:a}},H=function(a){return{type:e,payload:a}},G=
function(a,b){return{type:l,payload:{section:a,modified:b}}},ua=function(a,b){return{type:q,payload:{section:a,created:b}}},va=function(a){return{type:n,payload:a}},wa=function(a){return{type:r,payload:a}},xa=function(a){return{type:t,payload:a}},D=function(a){return{type:v,payload:a}},ya=function(a){return{type:p,payload:a}},za=function(a){return{type:y,payload:a}},C=function(a){return{type:x,payload:a}}},,function(d,b,a){a.d(b,"a",function(){return h});var f=a(165);a.d(b,"g",function(){return f.a});
a.d(b,"i",function(){return f.b});var c=a(97);a.d(b,"b",function(){return c.a});a.d(b,"c",function(){return c.b});a.d(b,"d",function(){return c.c});a.d(b,"e",function(){return c.d});a.d(b,"f",function(){return c.e});a.d(b,"h",function(){return c.f});var k=a(166);a.d(b,"j",function(){return k.a});var h="CLEAR_SELECTION_STATE"},function(d,b,a){function f(a){return function h(){for(var b=this,e=[],c=0;c<arguments.length;c++)e[c]=arguments[c];return e.length>=a.length?a.call.apply(a,[this].concat(e)):
function(){for(var a=[],g=0;g<arguments.length;g++)a[g]=arguments[g];return h.call.apply(h,[b].concat(e,a))}}}a.d(b,"a",function(){return f})},,,,,function(d,b,a){function f(a){return a.reduce(function(a,b){return b&&b.relatedItems?a.concat(b.relatedItems.map(function(a){return a.id})):a},[])}function c(a,b,e){return a(b,{query:k.a({f:"json"},e)}).then(function(a){return a.data})}a.d(b,"i",function(){return g});a.d(b,"f",function(){return e});a.d(b,"c",function(){return m});a.d(b,"d",function(){return l});
a.d(b,"g",function(){return q});a.d(b,"h",function(){return n});a.d(b,"a",function(){return t});a.d(b,"b",function(){return r});a.d(b,"j",function(){return v});a.d(b,"k",function(){return p});a.d(b,"l",function(){return y});a.d(b,"e",function(){return x});a.d(b,"m",function(){return c});var k=a(0),h=a(15),g=function(a,b,e){return c(a,b.restUrl+"/portals/self",{culture:e,default:!0})},e=function(a,b,e){return c(a,b.restUrl+"/content/items/"+e+"/data")},m=function(a,b,e){return c(a,b.restUrl+"/community/groups",
{q:e})},l=function(a,b,e){return c(a,b.restUrl+"/community/groups/"+e+"/categorySchema")},q=function(a,b,e){return c(a,b.restUrl+"/portals/"+(e||b.id)+"/categorySchema")},n=function(a,b,e){return c(a,location.protocol+"//"+b.portalHostname+"/sharing/rest/portals/"+(e||b.id))},t=function(a,b,e){return a(b.restUrl+"/community/groups",{query:{f:"json",q:"orgid:"+b.id+" AND access:public",num:100,start:e||1,sortField:"title",sortOrder:"asc"}}).then(function(e){return e.data.total>e.data.start+e.data.num?
t(a,b,e.data.start+e.data.num).then(function(a){return k.a({},a,{data:k.a({},a.data,{results:e.data.results.concat(a.data.results)})})}):e})},r=function(a,b,e,g){return a(b.restUrl+"/community/users/"+e+"/provisionedListings",{query:{f:"json",num:100,start:g||1}}).then(function(g){var d=g.data.provisionedListings.map(function(e){return c(a,b.restUrl+"/content/items/"+(e.id||e.itemId)+"/relatedItems?relationshipType\x3dListed2ImplicitlyListed\x26direction\x3dforward").then(function(a){return a},function(a){})});
return g.data.total>g.data.start+g.data.num?r(a,b,e,g.data.start+g.data.num).then(function(a){return h(d).then(function(b){return a.concat(g.data.provisionedListings.filter(function(a){return!!a.itemId}).map(function(a){return a.itemId}).concat(f(b)))})}):h(d).then(function(a){return g.data.provisionedListings.filter(function(a){return!!a.itemId}).map(function(a){return a.itemId}).concat(f(a))})})},v=function(a,b,e){return c(a,b.restUrl+"/community/users/"+(e||b.user.username))},p=function(a,b,e){return c(a,
b.restUrl+"/content/users/"+(e||b.user.username))},y=function(a,b,e){return c(a,b.restUrl+"/content/groups/"+e)},x=function(a,b,e){return c(a,b.restUrl+"/community/groups",e)}},function(d,b){d.exports=J},function(d,b,a){function f(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return function(b){return a.reduceRight(function(a,b){return b(a)},b)}}a.d(b,"a",function(){return f})},function(d,b){d.exports=K},,,function(d,b,a){function f(a){return!!g(a)||!!e(a)}function c(a,b){return a.filter(function(a){return a.name===
b})[0]}function k(a,b){return!!c(a,b)}a.d(b,"a",function(){return h});a.d(b,"c",function(){return g});a.d(b,"d",function(){return e});a.d(b,"f",function(){return f});a.d(b,"b",function(){return c});a.d(b,"e",function(){return k});d=a(7);var h=function(a){return a.filters?a.filters.filter(function(a){return"object"==typeof a&&("group"===a.type||"org"===a.type)}):[]};d=Object(d.a)(function(a,b){if(b.filters)return b.filters.reduce(function(b,e){return"object"==typeof e&&e.type===a?e:b},void 0)});var g=
d("group"),e=d("org")},,function(d,b){d.exports=L},,function(d,b){d.exports=M},function(d,b,a){function f(a){return Object(g.f)(a,function(a){return a.count&&delete a.count,a})}function c(a,b,c){if(b)return a.counts.filter(function(a){return a.fieldName===c})[0].fieldValues.forEach(function(a){var e=a.count;a=a.value.split("/").slice(1);(a=Object(g.d)(b,a))&&(a.count=e)}),b}function k(a){a=Object(g.c)("categories","title",{title:"root",categories:a});return Object(g.f)(a,function(a){return h.a({},
a,{value:a.value.toLowerCase(),displayName:a.displayName?a.displayName:a.value,tooltip:a.description?a.description:void 0})}).children}a.d(b,"a",function(){return f});a.d(b,"c",function(){return c});a.d(b,"b",function(){return k});var h=a(0),g=a(39)},function(d,b,a){function f(a){return 0===Object.keys(a).length&&a.constructor===Object}function c(a,b){return e.apply(null,arguments)}function k(a,b){return m.apply(null,arguments)}a.d(b,"a",function(){return f});a.d(b,"d",function(){return g});a.d(b,
"b",function(){return c});a.d(b,"c",function(){return k});var h=a(0);d=a(7);var g=Object(d.a)(function(a,b){b=h.a({},b);return delete b[a],b}),e=Object(d.a)(function(a,b){return Object.keys(b).reduce(function(e,g){return e[g]=a(b[g],g,b),e},{})}),m=Object(d.a)(function(a,b){return Object.keys(b).reduce(function(e,g){return a(b[g],g,b)&&(e[g]=b[g]),e},{})})},function(d,b,a){a.d(b,"e",function(){return c});a.d(b,"h",function(){return k});a.d(b,"f",function(){return h});a.d(b,"g",function(){return g});
a.d(b,"b",function(){return e});a.d(b,"c",function(){return m});a.d(b,"a",function(){return l});a.d(b,"d",function(){return q});a.d(b,"j",function(){return n});a.d(b,"i",function(){return t});var f=a(27),c="SELECT_ITEM",k="SELECT_ITEM_SINGLE",h="SELECT_ITEM_ASYNC",g="SELECT_ITEM_ASYNC_FAILED",e="DESELECT_ITEM",m="SELECT_ALL",l="DESELECT_ALL",q="SELECT_ALL_FROM_QUERY_SUCCESS",n=function(a){return function(b,e){var d=e();d.settings.config.asynchronousItemSelect?(b({type:h,payload:a}),(e=d.settings.config.onSelect([Object(f.b)(a)]))&&
e.then?e.then(function(){d.settings.config.singleItemSelect?b({type:k,payload:a}):b({type:c,payload:a})},function(){b({type:g,payload:a})}):console.error("If asynchronous item selection is enabled, the onSelect function in the item browser config must return a dojo deferred.")):d.settings.config.singleItemSelect?(b({type:k,payload:a}),d.settings.config.onSelect([Object(f.b)(a)])):(b({type:c,payload:a}),d.settings.config.onSelect([Object(f.b)(a)]))}},t=function(a){return function(b,g){g=g();b({type:e,
payload:a});g.settings.config.onDeselect([Object(f.b)(a)])}}},function(d,b,a){a.d(b,"a",function(){return g});a.d(b,"c",function(){return e});a.d(b,"b",function(){return m});a.d(b,"d",function(){return l});a.d(b,"h",function(){return q});a.d(b,"i",function(){return n});a.d(b,"j",function(){return t});a.d(b,"e",function(){return r});a.d(b,"g",function(){return v});a.d(b,"f",function(){return p});a.d(b,"l",function(){return y});a.d(b,"k",function(){return w});a.d(b,"m",function(){return u});var f=a(15),
c=a(13),k=a(12),h=a(3),g="ADD_TO_FAVORITES",e="ADD_TO_FAVORITES_SUCCESS",m="ADD_TO_FAVORITES_FAIL",l="LOADING_USER_INFO",q="UPDATE_GROUP_CATEGORIES",n="UPDATE_USER_INFO",t="UPDATE_USER_INFO_FAILED",r="REMOVE_FROM_FAVORITES",v="REMOVE_FROM_FAVORITES_SUCCESS",p="REMOVE_FROM_FAVORITES_FAIL",y=function(){return function(a,b){var e=b();b=e.parameters.filter.group;var g=e.results.user.groupCategories;if("loaded"===e.results.user.status)return b&&!g[b.id]?a(x(b.id)):(new c).resolve();if("failed"===e.results.user.status)return(new c).reject();
a({type:l});g=e.settings.utils;e=g.request;g=g.portal;return f([Object(k.j)(e,g).then(function(a){return a.groups.map(function(a){return{id:a.id,title:a.title}})}),Object(k.k)(e,g).then(function(a){return a.folders.map(function(a){return{id:a.id,title:a.title}})}),Object(k.l)(e,g,g.user.favGroupId).then(function(a){return a.items.reduce(function(a,b){return a[b.id]=!0,a},{})}),Object(k.b)(e,g,g.user.username).then(function(a){return a},function(a){return[]})].concat(b?[a(x(b.id))]:[])).then(function(b){a({type:n,
payload:{groups:b[0],folders:b[1],favorites:b[2],provisionedContent:b[3]}})},function(b){console.error(b);a({type:t})})}},x=function(a){return function(b,e){e=e().settings.utils;return Object(k.d)(e.request,e.portal,a).then(function(e){b({type:q,payload:{id:a,categorySchema:e.categorySchema}})})}},w=function(a){return function(b,c){c=c();var h=c.settings.utils.portal,f=h.restUrl+"/content/items/"+a.id+"/share",h={f:"json",everyone:a.access&&"public"===a.access||a.sharing&&a.sharing.access&&"public"===
a.sharing.access,org:a.access&&"org"===a.access||a.sharing&&a.sharing.access&&"org"===a.sharing.access||!1,groups:[h.user.favGroupId],items:[a.id]};b({type:g,payload:a});c.settings.utils.request(f,{method:"post",query:h}).then(function(g){b({type:e,payload:a})},function(e){console.error(e);b({type:m,payload:a})})}},u=function(a){return function(b,e){var g=e(),c=g.settings.utils.portal,f=c.user.favGroupId,d=c.restUrl+"/content/items/"+a.id+"/unshare",k={f:"json",everyone:!1,org:!1,groups:[f],items:[a.id]};
b({type:r,payload:a});g.settings.utils.request(d,{method:"post",query:k}).then(function(d){function p(){b({type:v,payload:a})}"myFavorites"===(g=e()).parameters.section?function D(){g.settings.utils.request(c.restUrl+"/search",{query:{f:"json",q:"(id:"+a.id+") (group:"+f+")"},method:"get"}).then(function(a){0<a.data.total?setTimeout(function(){D()},250):(p(),b(Object(h.h)()))},function(a){console.error(a);p()})}():p()},function(e){b({type:p,payload:a})})}}},function(d,b,a){a.d(b,"a",function(){return m});
a.d(b,"b",function(){return l});var f=a(14);d=a(24);var c=a(44),k=a(43),h=a(42),g=a(41),e=a(40),m=function(a,b,d){return Object(f.a)(Object(e.a)(a),Object(g.a)(a),Object(h.a)(b),k.a,c.a)(d)},l=Object(f.a)(Object(d.d)("patchedDescription"),Object(d.d)("thumbURI"),Object(d.d)("iconURI"),Object(d.d)("displayName"),Object(d.d)("badges"))},,,function(d,b){d.exports=N},function(d,b,a){function f(a){var b=Object(c.b)(a.settings.config.customSections,a.parameters.section);return b&&b.portal?Object(k.b)(b.portal):
a.settings.utils.portal}a.d(b,"a",function(){return f});var c=a(18),k=a(34)},,,function(d,b,a){a.d(b,"a",function(){return c});a.d(b,"b",function(){return k});var f=a(0),c=function(a){return a.urlKey?location.protocol+"//"+a.urlKey+"."+a.customBaseUrl:location.protocol+"//"+a.portalHostname},k=function(a){return f.a({},a,{baseUrl:c(a)})}},,,function(d,b,a){a.d(b,"b",function(){return f});a.d(b,"a",function(){return c});a.d(b,"d",function(){return k});a.d(b,"c",function(){return h});var f="CHANGE_SORT_ORDER",
c="CHANGE_SORT_FIELD",k=function(a){return{type:f,payload:a}},h=function(a){return{type:c,payload:a}}},function(d,b,a){a.d(b,"b",function(){return f});a.d(b,"c",function(){return c});a.d(b,"d",function(){return k});a.d(b,"a",function(){return h});a.d(b,"e",function(){return g});a.d(b,"f",function(){return e});a.d(b,"g",function(){return m});var f="MAXIMIZE_DLG",c="MINIMIZE_DLG",k="TOGGLE_EXPANDED_FILTERS",h="CLOSE_FULLSCREEN_BROWSER",g="TOGGLE_EXPANDED_SORT",e=function(){return{type:k}},m=function(){return{type:g}}},
function(d,b,a){function f(a,b){return e("children","value",a,b)}function c(a,b){return function v(a,b,e,g){var c,h=e[a];return h&&0!==h.length?q.a({},e,(c={},c[a]=h.reduce(function(e,c){return-1!==g.indexOf(c[b])&&e.push(v(a,b,c,g)),e},[]),c)):q.a({},e)}("children","value",a,b)}function k(a){return function(a,b){var e,g=b[a];return g?q.a({},b,((e={})[a]=function x(b){return 0===b.length?[]:1!==b.length||b[0][a]?1<b.length?b.reduce(function(b,e){var g;return e[a]?(b.push(q.a({},e,((g={})[a]=x(e[a]),
g))),b):(b.push(e),b)},[]):x(b[0][a]):b}(g),e)):b}("children",a)}function h(a,b){return m("children",a,b)}function g(a,b,e,c){var h=e[a];return e[b]===c?e:h?h.reduce(function(e,h){return e||g(a,b,h,c)},void 0):void 0}function e(a,b,g,c){if(g=g[a])return g.reduce(function(g,h){return h[b]===c[0]?1===c.length?h:e(a,b,h,c.slice(1)):g},void 0)}function m(a,b,e){var g;return e(q.a({},b,((g={})[a]=b[a]?b[a].map(function(b){return m(a,b,e)}):void 0,g)))}function l(a,b,e){return m(a,e,function(e){var g=e[b];
if(delete e[b],e[a]){var c=e[a];return delete e[a],q.a({},e,{value:g,children:c})}return q.a({},e,{value:g})})}a.d(b,"d",function(){return f});a.d(b,"g",function(){return c});a.d(b,"e",function(){return k});a.d(b,"f",function(){return h});a.d(b,"a",function(){return g});a.d(b,"b",function(){return e});a.d(b,"c",function(){return l});var q=a(0)},function(d,b,a){a.d(b,"a",function(){return c});var f=a(0);d=a(7);var c=Object(d.a)(function(a,b){return f.a({},b,{thumbURI:function(a,b){var e=a.baseUrl+
"/home/js/arcgisonline/css/images/default_thumb.png";return b.thumbnail&&(e=a.restUrl+"/content/items/"+b.id+"/info/"+b.thumbnail+(a.credential?"?token\x3d"+a.credential.token:"")),e}(a,b)})})},function(d,b,a){a.d(b,"a",function(){return c});var f=a(0);d=a(7);var c=Object(d.a)(function(a,b){return f.a({},b,{patchedDescription:function(a,b){return b.description?b.description.replace(/src=('|")js\/jsapi\/esri\//g,function(b){return"src\x3d"+('"'===b[4]?'"':"'")+a.baseUrl+"/home/js/jsapi/esri/"}):void 0}(a,
b)})})},function(d,b,a){a.d(b,"a",function(){return c});var f=a(0);d=a(7);var c=Object(d.a)(function(a,b){return f.a({},b,{iconURI:function(a,b,c){var e;b=b&&b.toLowerCase();var g=!1,h=!1,f=!1,d=!1;if(0<b.indexOf("service")||"feature collection"===b||"kml"===b||"wms"===b||"wmts"===b||"wfs"===b){var k=-1<c.indexOf("Hosted Service");"feature service"===b||"feature collection"===b||"kml"===b||"wfs"===b?(d=-1<c.indexOf("Table"),g=-1<c.indexOf("Route Layer"),h=-1<c.indexOf("Markup"),e=(f=-1!==c.indexOf("Spatiotemporal"))&&
d?"spatiotemporaltable":d?"table":g?"routelayer":h?"markup":f?"spatiotemporal":k?"featureshosted":"features"):e="map service"===b||"wms"===b||"wmts"===b?k||-1<c.indexOf("Tiled")||"wmts"===b?"maptiles":"mapimages":"scene service"===b?-1<c.indexOf("Line")?"sceneweblayerline":-1<c.indexOf("3DObject")?"sceneweblayermultipatch":-1<c.indexOf("Point")?"sceneweblayerpoint":-1<c.indexOf("IntegratedMesh")?"sceneweblayermesh":-1<c.indexOf("PointCloud")?"sceneweblayerpointcloud":-1<c.indexOf("Polygon")?"sceneweblayerpolygon":
"sceneweblayer":"image service"===b?-1<c.indexOf("Elevation 3D Layer")?"elevationlayer":"imagery":"stream service"===b?"streamlayer":"vector tile service"===b?"vectortile":"datastore catalog service"===b?"datastorecollection":"geocoding service"===b?"geocodeservice":"geoprocessing service"===b&&-1<c.indexOf("Web Tool")?"tool":"layers"}else e="web map"===b||"cityengine web scene"===b?"maps":"web scene"===b?-1<c.indexOf("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===
b||"mobile application"===b||"application"===b||"operation view"===b||"desktop application"===b?"apps":"map document"===b||"map package"===b||"published map"===b||"scene document"===b||"globe document"===b||"basemap package"===b||"mobile basemap package"===b||"mobile map package"===b||"project package"===b||"project template"===b||"pro map"===b||"layout"===b||"layer"===b&&-1<c.indexOf("ArcGIS Pro")||"explorer map"===b&&-1<c.indexOf("Explorer Document")?"mapsgray":"service definition"===b||"csv"===
b||"shapefile"===b||"cad drawing"===b||"geojson"===b||"360 vr experience"===b||"netcdf"===b?"datafiles":"explorer add in"===b||"desktop add in"===b||"windows viewer add in"===b||"windows viewer configuration"===b?"appsgray":"arcgis pro add in"===b||"arcgis pro configuration"===b?"addindesktop":"rule package"===b||"file geodatabase"===b||"csv collection"===b||"kml collection"===b||"windows mobile package"===b||"map template"===b||"desktop application template"===b||"arcpad package"===b||"code sample"===
b||"form"===b||"document link"===b||"vector tile package"===b||"operations dashboard add in"===b||"rules package"===b||"image"===b||"workflow manager package"===b||"explorer map"===b&&-1<c.indexOf("Explorer Mapping Application")||-1<c.indexOf("Document")?"datafilesgray":"network analysis service"===b||"geoprocessing service"===b||"geodata service"===b||"geometry service"===b||"geoprocessing package"===b||"locator package"===b||"geoprocessing sample"===b||"workflow manager service"===b||"raster function template"===
b?"toolsgray":"layer"===b||"layer package"===b||"explorer layer"===b?"layersgray":"scene package"===b?"scenepackage":"tile package"===b?"tilepackage":"task file"===b?"taskfile":"report template"===b?"report-template":"statistical data collection"===b?"statisticaldatacollection":"insights workbook"===b?"workbook":"insights model"===b?"insightsmodel":"insights page"===b?"insightspage":"hub initiative"===b?"hubinitiative":"hub page"===b?"hubpage":"hub site application"===b?"hubsite":"relational database connection"===
b?"relationaldatabaseconnection":"big data file share"===b?"datastorecollection":"image collection"===b?"imagecollection":"desktop style"===b?"desktopstyle":"style"===b?"style":"dashboard"===b?"dashboard":"maps";return a+"/"+e+"16.png"}(a,b.type,b.typeKeywords?b.typeKeywords:[])})})},function(d,b,a){a.d(b,"a",function(){return c});var f=a(0),c=function(a){return f.a({},a,{displayName:function(a){var b=a.type;a=a.typeKeywords||[];var e=b;return"Feature Service"===b||"Feature Collection"===b?e=-1<a.indexOf("Table")?
"Table":-1<a.indexOf("Route Layer")?"Route Layer":-1<a.indexOf("Markup")?"Markup":"Feature Layer":"Image Service"===b?e=-1<a.indexOf("Elevation 3D Layer")?"Elevation Layer":"Imagery Layer":"Scene Service"===b?e="Scene Layer":"Scene Package"===b?e="Scene Layer Package":"Stream Service"===b?e="Feature Layer":"Geocoding Service"===b?e="Locator":"Microsoft Powerpoint"===b?e="Microsoft PowerPoint":"GeoJson"===b?e="GeoJSON":"Globe Service"===b?e="Globe Layer":"Vector Tile Service"===b?e="Tile Layer":"netCDF"===
b?e="NetCDF":"Map Service"===b?e=-1===a.indexOf("Spatiotemporal")&&(-1<a.indexOf("Hosted Service")||-1<a.indexOf("Tiled"))?"Tile Layer":"Map Image Layer":b&&-1<b.toLowerCase().indexOf("add in")?e=b.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===b&&(e="Big Data File Share"),e}(a)})}},function(d,b,a){a.d(b,"a",function(){return c});var f=a(0),c=function(a){return f.a({},a,{badges:function(a){var b=[],e=a.typeKeywords?a.typeKeywords:[];return a.contentStatus&&("org_authoritative"===a.contentStatus||
"public_authoritative"===a.contentStatus?b.push("authoritative"):"deprecated"===a.contentStatus&&b.push("deprecated")),a.groupDesignations&&-1<a.groupDesignations.indexOf("livingatlas")&&b.push("livingAtlas"),-1<e.indexOf("Requires Credits")?b.push("premium"):-1<e.indexOf("Requires Subscription")&&b.push("subscriber"),b}(a)})}},function(d,b,a){a.d(b,"b",function(){return f});a.d(b,"a",function(){return c});var f={maps:'(type:("Project Package" OR "Windows Mobile Package" OR "Map Package" OR "Basemap Package" OR "Mobile Basemap Package" OR "Mobile Map Package" OR "Pro Map" OR "Project Package" OR "Web Map" OR "CityEngine Web Scene" OR "Map Document" OR "Globe Document" OR "Scene Document" OR "Published Map" OR "Explorer Map" OR "ArcPad Package" OR "Map Template") -type:("Web Mapping Application" OR "Layer Package"))',
webMaps:'(type:("Web Map" OR "CityEngine Web Scene") -type:("Web Mapping Application"))',mapFiles:'(type:("Map Document" OR "Windows Mobile Package" OR "Globe Document" OR "Scene Document" OR "Published Map" OR "Explorer Map" OR "ArcPad Package" OR "Map Package" OR "Basemap Package" OR "Mobile Basemap Package" OR "Mobile Map Package" OR "Pro Map" OR "Project Package" OR "Map Template"))',layers:'(type:("Scene Service" OR "Feature Collection" OR "Route Layer" OR "Layer" OR "Explorer Layer" OR "Tile Package" OR "Vector Tile Package" OR "Scene Package" OR "Layer Package" OR "Feature Service" OR "Stream Service" OR "Map Service" OR "Vector Tile Service" OR "Image Service" OR "WMS" OR "WFS" OR "WMTS" OR "KML" OR typekeywords:"OGC" OR typekeywords:"Geodata Service" OR "Globe Service" OR "CSV" OR "Shapefile" OR "GeoJson" OR "Service Definition" OR "File Geodatabase" OR "CAD Drawing" OR "Relational Database Connection") -type:("Web Mapping Application" OR "Geodata Service"))',
featureLayers:'(type:("Feature Collection" OR "Feature Service" OR "Stream Service" OR "WFS") -typekeywords:"Table")',tileLayers:'(type:("WMTS" OR "Map Service" OR "Vector Tile Service") typekeywords:("Hosted" OR "Tiled"))',mapImageLayers:'(type:("Map Service" OR "WMS") -typekeywords:("Tiled") -type:("Web Map" OR "Web Mapping Application" OR "Shapefile"))',imageryLayers:'(type:"Image Service")',sceneLayers:'(type:"Scene Service")',tables:"(typekeywords:Table)",layerFiles:'(type:("Layer" OR "Explorer Layer" OR "Tile Package" OR "Vector Tile Package" OR "Scene Package" OR "Layer Package" OR "CSV" OR "Shapefile" OR "GeoJson" OR "Service Definition" OR "File Geodatabase" OR "CAD Drawing" OR "Microsoft Excel") -type:("Explorer Maps" OR "Map Documents"))',
scenes:'(-type:"CityEngine Web Scene" type:"Web Scene")',apps:'(type:("Code Sample" OR "Web Mapping Application" OR "Mobile Application" OR "Application" OR "Desktop Application Template" OR "Desktop Application" OR "Operation View" OR "Dashboard" OR "Operations Dashboard Extension" OR "Workforce Project" OR "Insights Workbook" OR "Insights Page" OR "Insights Model" OR "Hub Page" OR "Hub Initiative" OR "Hub Site Application"))',webApps:'(type:("Web Mapping Application" OR "Dashboard"))',mobileApps:'(type:"Mobile Application")',
desktopApps:'(type:"Desktop Application" -type:"Desktop Application Template")',tools:'((typekeywords:"tool" OR type:"Raster function template" OR type:"Geodata Service" OR type:"Workflow Manager Package" OR type:"Rule Package" OR type:"Operations Dashboard Add In" OR type:"Workflow Manager Service" OR type:"ArcGIS Pro Configuration") -type:"KML")',locators:'(type:("Geocoding Service" OR "Locator Package"))',geodatabaseAccess:'(type:"Geodata Service")',geometricOperations:'(type:"Geometry Service")',
geoprocessingTasks:'(type:("Geoprocessing Service" OR "Geoprocessing Package" OR "Geoprocessing Sample"))',networkAnalysis:'(type:"Network Analysis Service")',files:'((typekeywords:"Document" OR type:"Image" OR type:"Layout" OR type:"Desktop Style" OR type:"Project Template" OR type:"Report Template" OR type:"Statistical Data Collection" OR type:"360 VR Experience" OR type:"netCDF") -type:("Map Document" OR "Image Service" OR "Explorer Document" OR "Explorer Map" OR "Globe Document" OR "Scene Document" OR "Microsoft Excel"))',
documents:'(typekeywords:"Document" -type:"PDF")',images:'(type:("Image" OR "360 VR Experience") -type:"Image Service")',pdfs:'(type:"PDF")',webTools:'(type:"Geoprocessing Service" AND typekeywords: "Web Tool")',notebooks:'type:("Notebook") OR typekeywords:("Notebook" OR "Jupyter Notebook")'},c="Web Map;CityEngine Web Scene;Web Scene;360 VR Experience;Pro Map;Feature Service;Map Service;Image Service;KML;KML Collection;WFS;WMTS;Feature Collection;Feature Collection Template;Vector Tile Service;Scene Service;Relational Database Connection;Web Mapping Application;Mobile Application;Code Attachment;Operations Dashboard Add In;Native Application;Native Application Template;Native Application Installer;Workforce Project;Form;Insights Workbook;Insights Model;Insights Page;Dashboard;Hub Initiative;Hub Site Application;Hub Page;AppBuilder Widget Package;Symbol Set;Color Set;Shapefile;File Geodatabase;CSV;CAD Drawing;Service Definition;Microsoft Word;Microsoft Powerpoint;Microsoft Excel;PDF;Image;Visio Document;iWork Keynote;iWork Pages;iWork Numbers;Report Template;Statistical Data Collection;Map Document;Map Package;Mobile Basemap Package;Mobile Map Package;Tile Package;Vector Tile Package;Project Package;Task File;ArcPad Package;Explorer Map;Globe Document;Scene Document;Published Map;Map Template;Windows Mobile Package;Pro Map;Layout;Project Template;Layer;Layer Package;Explorer Layer;Scene Package;Image Collection;Desktop Style;Geoprocessing Package;Geoprocessing Package (Pro version);Geoprocessing Sample;Locator Package;Rule Package;Raster function template;ArcGIS Pro Configuration;Workflow Manager Package;Desktop Application;Desktop Application Template;Code Sample;Desktop Add In;Explorer Add In;ArcGIS Pro Add In;Geometry Service;Geocoding Service;Network Analysis Service;Geoprocessing Service;Workflow Manager Service".split(";")},
function(d,b,a){a.d(b,"b",function(){return h});a.d(b,"a",function(){return g});a.d(b,"c",function(){return e});a.d(b,"d",function(){return m});var f=a(47),c=a(27),k=a(89),h="CHANGE_PAGE_SUCCESS",g="CHANGE_PAGE_FAIL",e="CHANGING_PAGE",m=function(a){return function(b,d){d=d();b({type:e,payload:a});var l=d.settings.utils,m=l.portal,n=l.iconDir,l=d.settings.utils.request,p=d.settings.config.resultsPerQuery,p=Object(f.b)({num:p,start:p*a-p},d);l(p[0],p[1]).then(Object(k.a)(d),function(a){return b({type:g,
payload:{err:a}})}).then(function(e){b({type:h,payload:{organizations:e.data.organizations,displayItems:e.data.results.map(function(a){return Object(c.a)(m,n,a)}),page:a}})},function(a){return b({type:g,payload:{err:a}})})}}},function(d,b,a){function f(a,b){a=["",{method:"get",query:b.settings.config.addRequestParameters?h.a({f:"json",q:Object(e.b)(b),num:a.num?a.num:b.settings.config.resultsPerQuery,sortOrder:b.parameters.sort.order,start:a.start?a.start:1},b.settings.config.addRequestParameters()):
{f:"json",q:Object(e.b)(b),num:a.num?a.num:b.settings.config.resultsPerQuery,sortOrder:b.parameters.sort.order,start:a.start?a.start:1}}];return Object(g.a)(n(b),t(b),r(b))(a)}function c(a,b){b=["",{method:"get",query:{f:"json",q:Object(e.a)(a),num:0,countFields:b.join(", "),countSize:200}}];return q(a)(b)}function k(a,b){b=["",{method:"get",query:{f:"json",q:Object(e.c)(a,b),num:0,countFields:"tags",countSize:200}}];return q(a)(b)}a.d(b,"b",function(){return f});a.d(b,"a",function(){return c});a.d(b,
"c",function(){return k});var h=a(0),g=a(14);d=a(7);var e=a(94),m=a(31),l=a(18),q=function(a){return Object(g.a)(r(a),v(a))},n=Object(d.a)(function(a,b){var e=b[0];b=b[1];a=a.parameters.sort.field;return"relevance"!==a?[e,h.a({},b,{query:h.a({},b.query,{sortField:a})})]:[e,b]}),t=Object(d.a)(function(a,b){var e=b[0];b=b[1];return a.parameters.filter.searchMapArea?(a=a.parameters.extent.area,[e,h.a({},b,{query:h.a({},b.query,{bbox:a.minx+","+a.miny+","+a.maxx+","+a.maxy})})]):[e,b]}),r=Object(d.a)(function(a,
b){b[0];b=b[1];var e=a.parameters,c=e.section,e=e.filter,g=Object(m.a)(a),h=g.restUrl+"/search";if("myGroups"===c&&e.group)h=g.restUrl+"/content/groups/"+e.group.id+"/search",e.groupCategories&&(h=h+"?categories\x3d"+encodeURIComponent(JSON.stringify([e.groupCategories.value])));else if("livingAtlas"===c&&a.results.livingAtlas.groupId)h=g.restUrl+"/content/groups/"+a.results.livingAtlas.groupId+"/search",e.livingAtlasCategories?(h=h+"?categories\x3d"+encodeURIComponent(JSON.stringify([e.livingAtlasCategories.value])),
e.livingAtlasRegion&&(h=h+"\x26categories\x3d"+encodeURIComponent(JSON.stringify([e.livingAtlasRegion.value])))):e.livingAtlasRegion&&(h=h+"?categories\x3d"+encodeURIComponent(JSON.stringify([e.livingAtlasRegion.value])));else if(!e.orgCategories||"myOrganization"!==c&&"myContent"!==c){if(a=Object(l.b)(a.settings.config.customSections,c))Object(l.d)(a)&&e.orgCategories&&(h=h+"?categories\x3d"+encodeURIComponent(JSON.stringify([e.orgCategories.value]))),(a=Object(l.c)(a))&&(h=g.restUrl+"/content/groups/"+
a.id+"/search",e.groupCategories&&(h=h+"?categories\x3d"+encodeURIComponent(JSON.stringify([e.groupCategories.value]))))}else h=h+"?categories\x3d"+encodeURIComponent(JSON.stringify([e.orgCategories.value]));return[h,b]}),v=Object(d.a)(function(a,b){var e=b[0];b=b[1];var c=a.parameters.section,g=Object(l.b)(a.settings.config.customSections,c);return"myGroups"===c&&a.parameters.filter.group||"livingAtlas"===c&&a.results.livingAtlas.groupId||g&&Object(l.c)(g)?[e,h.a({},b,{query:h.a({},b.query,{countFields:b.query.countFields?
b.query.countFields.replace("categories","groupcategories"):void 0})})]:[e,b]})},function(d,b,a){a.d(b,"b",function(){return l});a.d(b,"a",function(){return q});a.d(b,"c",function(){return n});var f=a(0),c=a(15),k=a(13),h=a(12),g=a(308),e=a(27),m=a(31),l="UPDATE_FULL_ITEM_DETAILS",q="FETCH_FULL_ITEM_DETAILS_FAILED",n=function(a){return function(b,d){var p=d(),n=Object(m.a)(p),r=p.settings.utils.request;d=[];d.push(Object(h.j)(r,n,a.owner).then(function(a){return Object(g.a)(n,a)},function(a){throw a;
}));var t=n.restUrl+"/content/items/"+a.id;n.user&&a.owner===n.user.username&&(t=n.restUrl+"/content/users/"+n.user.username+"/items/"+a.id);d.push(Object(h.m)(r,t).then(function(a){if(a.item&&a.sharing){var b=new k;return Object(h.m)(r,n.restUrl+"/community/groups",{q:"id: "+a.sharing.groups.map(function(a){return'"'+a+'"'}).join(" OR ")}).then(function(c){return b.resolve(f.a({},Object(e.a)(n,p.settings.utils.iconDir,a.item),{sharing:a.sharing,sharedToGroups:c.results}))},function(a){return b.reject(a)}),
b}return Object(e.a)(n,p.settings.utils.iconDir,a)},function(b){throw a.id;}));c(d).then(function(a){b({type:l,payload:{item:a[1],owner:a[0]}})},function(a){b({type:q,payload:a})})}}},,function(d,b,a){a.d(b,"a",function(){return e});a.d(b,"c",function(){return m});a.d(b,"d",function(){return l});a.d(b,"b",function(){return q});a.d(b,"e",function(){return n});var f=a(15),c=a(13),k=a(55),h=a(12);d=a(7);var g=a(18),e="LOADING_CUSTOM_SECTION_INFO",m="UPDATE_CUSTOM_SECTION_SCHEMAS",l="UPDATE_CUSTOM_SECTION_INFO_FAILED",
q="UPDATE_CUSTOM_SECTION_GROUPS",n=function(){return function(a,b){function h(b){console.error(b);a({type:l})}var d=b();if("loaded"===d.results.customSections.status)return(new c).resolve();if("failed"===d.results.customSections.status)return(new c).reject();a({type:e});var p=Object(k.c)("id",d.settings.config.customSections.filter(g.f).map(g.a).reduce(function(a,b){return a.concat(b)},[]));return t(a,b,p).then(function(){return d=b(),f(p.map(function(a){return r(d,a).then(function(b){return{id:a.id,
type:a.type,response:b}})}))},h).then(function(b){return a({type:m,payload:b})},h)}},t=function(a,b,e){var g=b(),d=new c;if(0<e.length){var g=g.settings.utils,k=g.request,l=g.portal;e=e.filter(function(a){return"group"===a.type}).map(function(a){var b=a.id;return Object(h.c)(k,l,a.fetchGroupIdByQuery||"id:"+b).then(function(a){return a.results[0]})});f(e).then(function(e){var c=b();a({type:q,payload:{currentSection:c.parameters.section,customSections:c.settings.config.customSections,groups:e}});d.resolve()})}else d.resolve();
return d},r=Object(d.a)(function(a,b){var e=a.settings.utils;a=e.request;e=e.portal;return b.staticSchema?(a=new c,a.resolve({categorySchema:b.staticSchema}),a.then(function(a){return a})):"group"===b.type?Object(h.d)(a,e,b.id):Object(h.g)(a,e,b.id)})},function(d,b,a){a.d(b,"a",function(){return f});a.d(b,"b",function(){return c});var f="CHANGE_SEARCH_SECTION",c=function(a){return function(b,c){c=c();b({type:f,payload:{newSection:a,customSections:c.settings.config.customSections,customSectionGroupSort:c.results.customSections.groupSort}})}}},
,,function(d,b,a){a.d(b,"b",function(){return f});a.d(b,"a",function(){return c});a.d(b,"c",function(){return k});var f="CLOSING_DETAILS_PANE",c="CLOSE_DETAILS_PANE",k=function(){return{type:f}}},function(d,b,a){function f(a){return a.filter(function(a){return 0<a.length})}a.d(b,"b",function(){return c});a.d(b,"c",function(){return k});a.d(b,"a",function(){return f});d=a(7);var c=function(a,b,e){return e.indexOf(a)===b},k=Object(d.a)(function(a,b){var e={};return b.filter(function(b){return!e[b[a]]&&
(e[b[a]]=!0,!0)})})},,function(d,b,a){a.d(b,"a",function(){return h});a.d(b,"b",function(){return g});a.d(b,"c",function(){return e});a.d(b,"d",function(){return m});var f=a(15),c=a(13),k=a(12),h="LOADING_ORG_INFO",g="UPDATE_ORG_INFO",e="UPDATE_ORG_INFO_FAILED",m=function(){return function(a,b){b=b();if("loaded"===b.results.organization.status)return(new c).resolve();if("failed"===b.results.organization.status)return(new c).reject();a({type:h});var d=b.settings.utils;b=d.request;d=d.portal;return f([Object(k.g)(b,
d).then(function(a){return a.categorySchema}),Object(k.a)(b,d).then(function(a){return a.data.results})]).then(function(b){a({type:g,payload:{schema:b[0],groups:b[1]}})},function(b){console.error(b);a({type:e})})}}},function(d,b,a){a.d(b,"a",function(){return c});a.d(b,"c",function(){return k});a.d(b,"b",function(){return h});a.d(b,"d",function(){return g});a.d(b,"e",function(){return e});d=a(186);var f=a(47),c="LOADING_TAGS",k="LOADING_TAGS_SUCCESS",h="LOADING_TAGS_FAILED",g="UPDATE_TAGS_FILTER_STRING",
e=function(a){return function(b,e){b({type:g,payload:a});2<a.length&&m(b,e(),a)}},m=d(function(a,b,e){a({type:c});var g=b.settings.utils.request;b=Object(f.c)(b,e);g(b[0],b[1]).then(function(b){a({type:k,payload:b.data})},function(b){return a({type:h,payload:b})})},400)},function(d,b){d.exports=O},,function(d,b){d.exports=P},function(d,b,a){var f=a(0),c=a(2);d=a(1);var k=a(39),h=a(205),g=a(4),e=a(3),m=a(58),l=a(196),q=a.n(l),l=a(197),n=a.n(l),l=a(198),t=a.n(l),l=a(199),r=a.n(l),l=a(200),v=a.n(l),
l=a(201),p=a.n(l),l=a(202),y=a.n(l),l=a(203),x=a.n(l),l=a(204),w=a.n(l),l=a(61),u=a.n(l),z=a(206);a=function(a){function b(b){b=a.call(this,b)||this;return b.handleCustomFilterToggle=b.handleCustomFilterToggle.bind(b),b.handleMapAreaToggle=b.handleMapAreaToggle.bind(b),b.handleSearchOrgToggle=b.handleSearchOrgToggle.bind(b),b.handleCreatedFilterChange=b.handleCreatedFilterChange.bind(b),b.handleItemTypeFilterChange=b.handleItemTypeFilterChange.bind(b),b.handleModifiedFilterChange=b.handleModifiedFilterChange.bind(b),
b.handleSharedFilterChange=b.handleSharedFilterChange.bind(b),b.handleStatusFilterChange=b.handleStatusFilterChange.bind(b),b.handleFolderFilterChange=b.handleFolderFilterChange.bind(b),b.handleGroupFilterChange=b.handleGroupFilterChange.bind(b),b.handleOrgGroupFilterChange=b.handleOrgGroupFilterChange.bind(b),b.handleTagsFilterChange=b.handleTagsFilterChange.bind(b),b.handleOrgCategorySelect=b.handleOrgCategorySelect.bind(b),b.handleClearOrgCategories=b.handleClearOrgCategories.bind(b),b.handleGroupCategorySelect=
b.handleGroupCategorySelect.bind(b),b.handleClearGroupCategories=b.handleClearGroupCategories.bind(b),b.handleLACategorySelect=b.handleLACategorySelect.bind(b),b.handleClearLACategories=b.handleClearLACategories.bind(b),b.handleLARegionSelect=b.handleLARegionSelect.bind(b),b.handleClearLARegion=b.handleClearLARegion.bind(b),b.handleTagsFilterStringChange=b.handleTagsFilterStringChange.bind(b),b}return f.b(b,a),b.prototype.render=function(a){var b=this,e=this.props.stateTree.settings.config,g=this.props.stateTree.parameters.filter,
d=this.props.stateTree.settings.utils.portal.user,f=Object(h.a)(this.props.stateTree),l=e.enableMapAreaFilter?a(q.a,{key:"map-area-filter",handleMapAreaToggle:this.handleMapAreaToggle,searchMapArea:this.props.stateTree.parameters.filter.searchMapArea,text:c.filterPane.mapArea}):null,f=f.map(function(h,f){switch(h){case "group":return a(x.a,{key:"group-filter",onGroupSelect:b.handleGroupFilterChange,availableGroups:b.props.stateTree.results.user.groups,groupFilter:b.props.stateTree.parameters.filter.group});
case "folder":return h=b.props.stateTree.results.user.folders,f={title:b.props.stateTree.settings.utils.portal.user.username,id:"root"},a(y.a,{key:"folder-filter",onFolderSelect:b.handleFolderFilterChange,availableFolders:h?[f].concat(h):[f],folderFilter:b.props.stateTree.parameters.filter.folder});case "itemType":return a(t.a,{key:"item-type-filter",onItemTypeSelect:b.handleItemTypeFilterChange,availableItemTypes:e.availableItemTypeFilters,itemTypeFilter:b.props.stateTree.parameters.filter.itemType});
case "orgCategories":if((l=b.props.stateTree.results.organization.categorySchema)&&l.children&&l.children[0]&&l.children[0].children)return a(u.a,{key:"org-categories-filter",onCategorySelect:b.handleOrgCategorySelect,onClearCategories:b.handleClearOrgCategories,availableCategories:l.children[0].children,categoriesFilter:b.props.stateTree.parameters.filter.orgCategories,title:c.filterPane.categories,prependValue:"/"+l.children[0].value+"/"});break;case "livingAtlasCategories":if((l=b.props.stateTree.results.livingAtlas.categorySchema)&&
l.children&&l.children[0]&&l.children[0].children)return a(u.a,{key:"la-categories-filter",onCategorySelect:b.handleLACategorySelect,onClearCategories:b.handleClearLACategories,availableCategories:l.children[0].children,categoriesFilter:b.props.stateTree.parameters.filter.livingAtlasCategories,title:l.children[0].displayName,prependValue:"/categories/",showTooltips:!0,startActive:!0});break;case "livingAtlasRegion":if((l=b.props.stateTree.results.livingAtlas.categorySchema)&&l.children&&l.children[1]&&
l.children[1].children)return a(u.a,{key:"la-region-filter",onCategorySelect:b.handleLARegionSelect,onClearCategories:b.handleClearLARegion,availableCategories:l.children[1].children,categoriesFilter:b.props.stateTree.parameters.filter.livingAtlasRegion,title:l.children[1].displayName,prependValue:"/region/",startActive:!0});break;case "groupCategories":if(g.group&&(l=b.props.stateTree.results.user.groupCategories[g.group.id])&&l.children&&l.children[0]&&l.children[0].children)return a(u.a,{key:"group-categories-filter",
onCategorySelect:b.handleGroupCategorySelect,onClearCategories:b.handleClearGroupCategories,availableCategories:l.children[0].children,categoriesFilter:b.props.stateTree.parameters.filter.groupCategories,title:c.filterPane.groupCategories,prependValue:"/"+l.children[0].value+"/"});break;case "orgGroups":break;case "modified":return a(r.a,{key:"modified-filters",onDateModifiedSelect:b.handleModifiedFilterChange,dateModifiedFilter:b.props.stateTree.parameters.filter.dateModified,dateModifiedSection:b.props.stateTree.ui.filters.modifiedSection});
case "created":return a(n.a,{key:"created-filters",onDateCreatedSelect:b.handleCreatedFilterChange,dateCreatedFilter:b.props.stateTree.parameters.filter.dateCreated,dateCreatedSection:b.props.stateTree.ui.filters.createdSection});case "shared":return a(v.a,{counts:b.props.stateTree.results.counts.access,key:"shared-filters",onSharedSelect:b.handleSharedFilterChange,sharedFilter:b.props.stateTree.parameters.filter.shared,hideOrgGroupFilters:!!d&&!d.orgId});case "status":return h=b.props.stateTree.results.counts.contentStatus,
f=h.orgAuthoritative,l=h.publicAuthoritative,a(p.a,{counts:{authoritative:d&&d.orgId?f+l:l,deprecated:h.deprecated},key:"status-filters",onStatusSelect:b.handleStatusFilterChange,statusFilter:b.props.stateTree.parameters.filter.status});case "tags":return a(w.a,{availableTags:b.props.stateTree.ui.tagsFilter.visibleTags,filterString:b.props.stateTree.ui.tagsFilter.filterString,key:"ib-tags-filter",onFilterStringChange:b.handleTagsFilterStringChange,onTagSelect:b.handleTagsFilterChange,tagsFilter:b.props.stateTree.parameters.filter.tags});
default:if("object"==typeof h)if("group"===h.type){if((l=b.props.stateTree.results.customSections.groupSchemas[h.id])&&l.children&&l.children[0]&&l.children[0].children)return f=void 0,h.path&&(f=(m=Object(k.b)("children","value",l,h.path))?m.children:void 0),a(u.a,{key:"custom-group-categories-filter",onCategorySelect:b.handleGroupCategorySelect,onClearCategories:b.handleClearGroupCategories,availableCategories:h.path&&f?f:l.children,categoriesFilter:b.props.stateTree.parameters.filter.groupCategories,
title:h.name,prependValue:"/"+(h.path?h.path.join("/")+"/":"")})}else if("org"===h.type){var l;if((l=b.props.stateTree.results.customSections.orgSchemas[h.id])&&l.children&&l.children[0]&&l.children[0].children){var m;f=void 0;h.path&&(f=(m=Object(k.b)("children","value",l,h.path))?m.children:void 0);return a(u.a,{key:"custom-org-categories-filter",onCategorySelect:b.handleOrgCategorySelect,onClearCategories:b.handleClearOrgCategories,availableCategories:h.path&&f?f:l.children,categoriesFilter:b.props.stateTree.parameters.filter.orgCategories,
title:h.name,prependValue:"/"+(h.path?h.path.join("/")+"/":"")})}}else if(h.children)return l=b.props.stateTree.parameters.filter.customFilter[f],a(z.a,{key:h.displayName+"-filter-accordion",filter:h,index:f,onClear:b.handleCustomFilterToggle,onClick:b.handleCustomFilterToggle,selectedOption:l?l.value:void 0})}return null});return l?[l,a("div",{key:"filter-accordion",class:"ib-filter-pane__accordion"},f)]:a("div",{key:"filter-accordion",class:"ib-filter-pane__accordion"},f)},b.prototype.handleCustomFilterToggle=
function(a,b,c){this.props.dispatch(Object(g.s)(a,b?{value:b,text:c}:void 0));this.props.dispatch(Object(e.h)())},b.prototype.handleMapAreaToggle=function(){this.props.dispatch(Object(g.z)(!this.props.stateTree.parameters.filter.searchMapArea));this.props.dispatch(Object(e.h)())},b.prototype.handleSearchOrgToggle=function(){this.props.dispatch(Object(g.D)(!this.props.stateTree.parameters.filter.searchOrg));this.props.dispatch(Object(e.h)())},b.prototype.handleItemTypeFilterChange=function(a){this.props.dispatch(Object(g.w)(a));
this.props.dispatch(Object(e.h)())},b.prototype.handleModifiedFilterChange=function(a,b){this.props.dispatch(Object(g.A)(a,b));this.props.dispatch(Object(e.h)())},b.prototype.handleCreatedFilterChange=function(a,b){this.props.dispatch(Object(g.r)(a,b));this.props.dispatch(Object(e.h)())},b.prototype.handleSharedFilterChange=function(a){this.props.dispatch(Object(g.E)(a));this.props.dispatch(Object(e.h)())},b.prototype.handleStatusFilterChange=function(a){this.props.dispatch(Object(g.F)(a));this.props.dispatch(Object(e.h)())},
b.prototype.handleFolderFilterChange=function(a){this.props.dispatch(Object(g.t)(a));this.props.dispatch(Object(e.h)(!0))},b.prototype.handleGroupFilterChange=function(a){this.props.dispatch(Object(g.v)(a));this.props.dispatch(Object(e.h)(!0))},b.prototype.handleOrgGroupFilterChange=function(a){this.props.dispatch(Object(g.C)(a));this.props.dispatch(Object(e.h)())},b.prototype.handleTagsFilterChange=function(a){this.props.dispatch(Object(g.G)(a));this.props.dispatch(Object(e.h)())},b.prototype.handleOrgCategorySelect=
function(a){var b=this.props.stateTree.parameters.filter.orgCategories;b&&b.value===a.value?this.props.dispatch(Object(g.B)()):this.props.dispatch(Object(g.B)(a));this.props.dispatch(Object(e.h)())},b.prototype.handleClearOrgCategories=function(){this.props.dispatch(Object(g.B)());this.props.dispatch(Object(e.h)())},b.prototype.handleLACategorySelect=function(a){var b=this.props.stateTree.parameters.filter.livingAtlasCategories;b&&b.value===a.value?this.props.dispatch(Object(g.x)()):this.props.dispatch(Object(g.x)(a));
this.props.dispatch(Object(e.h)())},b.prototype.handleClearLACategories=function(){this.props.dispatch(Object(g.x)());this.props.dispatch(Object(e.h)())},b.prototype.handleLARegionSelect=function(a){var b=this.props.stateTree.parameters.filter.livingAtlasRegion;b&&b.value===a.value?this.props.dispatch(Object(g.y)()):this.props.dispatch(Object(g.y)(a));this.props.dispatch(Object(e.h)())},b.prototype.handleClearLARegion=function(){this.props.dispatch(Object(g.y)());this.props.dispatch(Object(e.h)())},
b.prototype.handleGroupCategorySelect=function(a){var b=this.props.stateTree.parameters.filter.groupCategories;b&&b.value===a.value?this.props.dispatch(Object(g.u)()):this.props.dispatch(Object(g.u)(a));this.props.dispatch(Object(e.h)())},b.prototype.handleClearGroupCategories=function(){this.props.dispatch(Object(g.u)());this.props.dispatch(Object(e.h)())},b.prototype.handleTagsFilterStringChange=function(a){this.props.dispatch(Object(m.e)(a))},b}(d.Component);b.a=Object(d.connect)(function(a){return{stateTree:a}},
function(a){return{dispatch:a}})(a)},,function(d,b,a){a.d(b,"a",function(){return e});a.d(b,"b",function(){return m});a.d(b,"c",function(){return l});a.d(b,"d",function(){return q});var f=a(0),c=a(2),k=a(13),h=a(102),g=a(307),e="LOADING_LIVING_ATLAS_INFO",m="UPDATE_LIVING_ATLAS_INFO",l="FETCH_LIVING_ATLAS_INFO_FAILED",q=function(a){return function(b,d){d=d();if("loaded"===d.results.livingAtlas.status)return(new k).resolve();if("failed"===d.results.livingAtlas.status)return(new k).reject();b({type:e});
d=d.settings.utils;var n=d.portal;return Object(g.a)(d.request,n,a,n.user&&n.user.culture?n.user.culture:h.locale).then(function(a){b({type:m,payload:f.a({},a,{schema:a.schema.map(function(a){return"region"===a.title?f.a({},a,{displayName:c.regions}):a})})})},function(a){console.error(a);b({type:l})})}}},function(d,b,a){a.d(b,"b",function(){return c});a.d(b,"a",function(){return k});a.d(b,"c",function(){return h});var f=a(27),c="START_CUSTOM_ACTION",k="END_CUSTOM_ACTION",h=function(a,b){return function(e,
g){(g=g().settings.config.customActions.filter(function(b){return b.name===a})[0])&&(g.asynchronous?(e({type:c,payload:b}),g.onAction(Object(f.b)(b)).then(function(){e({type:k,payload:b})},function(){e({type:k,payload:b})})):g.onAction(Object(f.b)(b)))}}},function(d,b){d.exports=Q},,,,,,,,,function(d,b){d.exports=R},function(d,b){d.exports=S},function(d,b){d.exports=T},,,,,,,,,,,function(d,b,a){a.d(b,"a",function(){return g});a.d(b,"b",function(){return e});var f=a(13),c=a(12),k=a(245),h=a(102),g=
"UPDATE_PORTAL_SELF",e=function(){return function(a,b){var e=b(),d=e.settings.utils;b=d.portal;var d=d.request,l=b.user&&b.user.culture?b.user.culture:h.locale;return e.settings.utils.self?(new f).resolve(e.settings.utils.self):Object(c.i)(d,b,l).then(function(b){b=Object(k.a)(b);return a({type:g,payload:{self:b,config:e.settings.config}}),b})}}},function(d,b,a){a.d(b,"a",function(){return l});var f=a(0),c=a(13),k=a(15);d=a(7);var h=a(55),g=a(12),e=a(245),m=a(31),l=Object(d.a)(function(a,b){var d=
a.settings.utils.request,l=Object(m.a)(a),n=new c,p=b.data.results.filter(function(b){return!!b.orgId&&!a.results.allOrganizations[b.orgId]}).map(function(a){return a.orgId}).filter(h.b).map(function(a){return Object(g.h)(d,l,a)});return k(p).then(function(a){n.resolve(f.a({},b,{data:f.a({},b.data,{organizations:a.reduce(function(a,b){var c;return f.a({},a,((c={})[b.id]=Object(e.a)(b),c))},{})})}))},function(a){n.reject(a)}),n})},function(d,b,a){a.d(b,"a",function(){return f});a.d(b,"b",function(){return c});
var f="CHANGE_SEARCH_STRING",c=function(a){return{type:f,payload:a}}},function(d,b,a){a.d(b,"a",function(){return c});a.d(b,"b",function(){return k});var f=a(48),c="VIEW_ITEM_DETAILS",k=function(a){return function(b){b({type:c,payload:a});b(Object(f.c)(a))}}},function(d,b,a){a.d(b,"b",function(){return f});a.d(b,"a",function(){return c});var f="SHOW_EMPTY_RESULTS",c="CHANGE_RESULT_DISPLAY"},,function(d,b,a){function f(a){return Object(h.a)(Object(h.a)(g.a,u(a),z(a),Object(e.a)(a.parameters.filter.orgGroup),
Object(m.a)(a.parameters.filter.status,a.settings.utils.portal.user),w(a)),Object(h.a)(Object(l.a)(a.parameters.filter.shared),Object(q.a)(a.parameters.filter.dateCreated),Object(q.b)(a.parameters.filter.dateModified),Object(n.a)(p.b,{allowedItemTypes:a.settings.config.allowedItemTypes,itemTypeFilter:a.parameters.filter.itemType,specialItemQ:a.settings.config.specialItemQ}),Object(t.b)(a.parameters.filter.tags)))([a.parameters.searchString.current]).join(" ")}function c(a){return Object(h.a)(g.a,
u(a),w(a),Object(n.a)(p.b,{allowedItemTypes:a.settings.config.allowedItemTypes,specialItemQ:a.settings.config.specialItemQ}))([a.parameters.searchString.current]).join(" ")}function k(a,b){return Object(h.a)(g.a,u(a),w(a),Object(n.a)(p.b,{allowedItemTypes:a.settings.config.allowedItemTypes,specialItemQ:a.settings.config.specialItemQ}),Object(t.a)(b))([a.parameters.searchString.current]).join(" ")}a.d(b,"b",function(){return f});a.d(b,"a",function(){return c});a.d(b,"c",function(){return k});var h=
a(14),g=a(55),e=a(304),m=a(305),l=a(306),q=a(246),n=a(164),t=a(247);d=a(7);var r=a(24),v=a(39),p=a(45),y=a(31),x=a(18),w=Object(d.a)(function(a,b){a.parameters.section;var e=a.parameters.filter,c=a.settings.config,g=Object(y.a)(a);switch(a.parameters.section){case "myContent":return g.user?g.user&&e.folder?b.concat(["(owner:"+g.user.username+") (ownerfolder:"+e.folder.id+")"]):b.concat(["(owner:"+g.user.username+")"]):b;case "myFavorites":return g.user?b.concat(["(group:"+g.user.favGroupId+")"]):
b;case "myGroups":if(a.results.user.groups){if(a.parameters.filter.group)return b.concat(["(group:"+a.parameters.filter.group.id+")"]);e=a.results.user.groups.map(function(a){return a.id});return b.concat(["(group:"+e.join(" OR group:")+")"])}return b;case "myOrganization":return b.concat(["(orgid:"+g.id+")"]);case "subscription":return b.concat(["("+a.results.user.provisionedContent.map(function(a){return"id:"+a}).join(" OR ")+")"]);case "all":return b;default:return(e=c.customSections.filter(function(b){return a.parameters.section===
b.name})[0])?b.concat([e.baseQuery]):b}}),u=Object(d.a)(function(a,b){var e=a.settings.config.addQueryParameters;return e&&"function"==typeof e?b.concat([e(a)]):b}),z=Object(d.a)(function(a,b){var e=Object(x.b)(a.settings.config.customSections,a.parameters.section);if(e&&!Object(r.a)(a.parameters.filter.customFilter)){var c=Object.keys(a.parameters.filter.customFilter).filter(function(b){return!!a.parameters.filter.customFilter[b]}).reduce(function(b,c){c=parseInt(c,10);var g=a.parameters.filter.customFilter[c].value;
return e.filters&&e.filters[c]&&(c=Object(v.a)("children","value",e.filters[c],g))?b.concat(["("+c.q+")"]):b},[]).join(" AND ");return b.concat([""+c])}return b})},,function(d,b,a){a.d(b,"a",function(){return k});a.d(b,"b",function(){return h});a.d(b,"c",function(){return g});d=a(1);b=a(110);var f=a(133),c=a(140);a=a(155);var k=b.b.config,h={parameters:f.b,settings:b.b,results:c.b,ui:a.b},g=Object(d.combineReducers)({settings:b.a,parameters:f.a,results:c.a,ui:a.a})},function(d,b,a){var f=a(25);a.d(b,
"a",function(){return f.b});a.d(b,"b",function(){return f.e});a.d(b,"c",function(){return f.f});a.d(b,"d",function(){return f.g});a.d(b,"e",function(){return f.h});var c=a(3);a.d(b,"f",function(){return c.h})},,function(d,b,a){a.d(b,"a",function(){return k});var f=a(0),c=a(34),k=function(a){return f.a({},a,{thumbURI:function(a){var b=Object(c.a)(a);return a.thumbnail?b+"/sharing/rest/portals/"+a.id+"/resources/"+a.thumbnail:b+"/home/images/group-no-image.png"}(a)})}},function(d,b,a){a.d(b,"a",function(){return k});
var f=a(0),c=a(34),k=function(a){return f.a({},a,{orgUrl:Object(c.a)(a)+"/home/index.html"})}},function(d,b,a){a.d(b,"a",function(){return c});var f=a(0);d=a(7);var c=Object(d.a)(function(a,b){return f.a({},b,{thumbURI:function(a,b){if(b.thumbnail)return a.restUrl+"/community/users/"+b.username+"/info/"+b.thumbnail+(a.credential?"?token\x3d"+a.credential.token:"")}(a,b)})})},function(d,b){d.exports=U},function(d,b,a){a.d(b,"b",function(){return c});a.d(b,"a",function(){return k});a.d(b,"c",function(){return h});
var f=a(3),c="UPDATE_EXTENT",k="UNTHROTTLE_EXTENT",h=function(a){return function(b,g){g=g();g.parameters.extent.throttling||(b({type:c,payload:a}),g.parameters.filter.searchMapArea&&b(Object(f.h)()),setTimeout(function(){b({type:k})},g.settings.config.mapAreaThrottleTime))}}},function(d,b,a){a.d(b,"a",function(){return f});a.d(b,"b",function(){return c});var f="VIEW_FILTERS",c=function(){return{type:f}}},function(d,b,a){a.d(b,"a",function(){return f});a.d(b,"b",function(){return c});var f="VIEW_SORT",
c=function(){return{type:f}}},function(d,b,a){var f=a(0),c=a(2);d=a(1);var k=a(4),h=a(3),g=a(209),e=a.n(g),m=a(18),l=a(24),q={itemType:Object(k.w)(),modified:Object(k.A)(),created:Object(k.r)(),shared:Object(k.E)(),folder:Object(k.t)(),group:Object(k.v)(),status:Object(k.F)(),orgGroup:Object(k.C)()};a=function(a){function b(b){b=a.call(this,b)||this;return b.handleRemoveMapAreaFilter=b.handleRemoveMapAreaFilter.bind(b),b.handleRemoveSearchOrgFilter=b.handleRemoveSearchOrgFilter.bind(b),b.handleRemoveGeneralFilter=
b.handleRemoveGeneralFilter.bind(b),b.handleRemoveOrgCategoriesFilter=b.handleRemoveOrgCategoriesFilter.bind(b),b.handleRemoveLACategoriesFilter=b.handleRemoveLACategoriesFilter.bind(b),b.handleRemoveLARegionFilter=b.handleRemoveLARegionFilter.bind(b),b.handleRemoveGroupCategoriesFilter=b.handleRemoveGroupCategoriesFilter.bind(b),b.handleClearAll=b.handleClearAll.bind(b),b.handleRemoveTagsFilter=b.handleRemoveTagsFilter.bind(b),b.handleRemoveCustomFilter=b.handleRemoveCustomFilter.bind(b),b}return f.b(b,
a),b.prototype.render=function(a){var b=this,g=this.props.stateTree.parameters.filter,h=[];if(g.searchOrg&&"all"===this.props.stateTree.parameters.section&&this.props.stateTree.settings.utils.portal.user&&this.props.stateTree.settings.utils.portal.user.credential&&this.props.stateTree.settings.utils.portal.name&&h.push({filterId:"searchOrg",onRemove:this.handleRemoveSearchOrgFilter,text:"Organization: "+this.props.stateTree.settings.utils.portal.name}),g.searchMapArea&&h.push({filterId:"searchMapArea",
onRemove:this.handleRemoveMapAreaFilter,text:c.filterChips.mapArea}),g.itemType&&h.push({filterId:"itemType",onRemove:this.handleRemoveGeneralFilter,text:c.filterChips.type+": "+g.itemType.text}),g.dateModified&&h.push({filterId:"modified",onRemove:this.handleRemoveGeneralFilter,text:c.filterChips.dateModified+": "+g.dateModified.label}),g.dateCreated&&h.push({filterId:"created",onRemove:this.handleRemoveGeneralFilter,text:c.filterChips.dateCreated+": "+g.dateCreated.label}),g.shared&&h.push({filterId:"shared",
onRemove:this.handleRemoveGeneralFilter,text:c.filterChips.access+": "+g.shared.text}),g.group&&"myGroups"===this.props.stateTree.parameters.section?h.push({filterId:"group",onRemove:this.handleRemoveGeneralFilter,text:c.filterChips.group+": "+g.group.title}):g.orgGroup&&"myOrganization"===this.props.stateTree.parameters.section&&h.push({filterId:"orgGroup",onRemove:this.handleRemoveGeneralFilter,text:c.filterChips.group+": "+g.orgGroup.title}),g.folder&&"myContent"===this.props.stateTree.parameters.section&&
h.push({filterId:"folder",onRemove:this.handleRemoveGeneralFilter,text:c.filterChips.folder+": "+g.folder.title}),g.status&&h.push({filterId:"status",onRemove:this.handleRemoveGeneralFilter,text:c.filterChips.status+": "+g.status.text}),g.orgCategories){var d=g.orgCategories;h.push({filterId:d.value,onRemove:this.handleRemoveOrgCategoriesFilter,text:c.filterChips.category+": "+d.text})}g.livingAtlasCategories&&(d=g.livingAtlasCategories,h.push({filterId:d.value,onRemove:this.handleRemoveLACategoriesFilter,
text:c.filterChips.category+": "+d.text}));g.groupCategories&&(d=g.groupCategories,h.push({filterId:d.value,onRemove:this.handleRemoveGroupCategoriesFilter,text:c.filterChips.category+": "+d.text}));g.livingAtlasRegion&&(d=g.livingAtlasRegion,h.push({filterId:d.value,onRemove:this.handleRemoveLARegionFilter,text:c.filterChips.region+": "+d.text}));g.tags&&Object.keys(g.tags).forEach(function(a){h.push({filterId:a,onRemove:b.handleRemoveTagsFilter,text:c.filterChips.tagged+": "+a})});var f=Object(m.b)(this.props.stateTree.settings.config.customSections,
this.props.stateTree.parameters.section);if(f&&!Object(l.a)(g.customFilter)&&Object.keys(g.customFilter).filter(function(a){return!!g.customFilter[a]}).forEach(function(a){var e=parseInt(a,10);f.filters&&f.filters[e]&&h.push({filterId:""+e,onRemove:b.handleRemoveCustomFilter,text:f.filters[e].displayName+": "+g.customFilter[a].text})}),0<h.length)return a("div",{key:"active-filter-area",class:"ib__active-filters"},a(e.a,{key:"item-browser-filter-controller",filters:h.sort(function(a,b){return a.text.localeCompare(b.text)}),
onClear:this.handleClearAll,mode:"light"===this.props.theme?"full-width":"expanding",startOpen:"light"!==this.props.theme,theme:this.props.theme}))},b.prototype.handleRemoveCustomFilter=function(a){this.props.dispatch(Object(k.s)(parseInt(a.target.value,10)));this.props.dispatch(Object(h.h)())},b.prototype.handleRemoveGeneralFilter=function(a){this.props.dispatch(q[a.target.value]);this.props.dispatch(Object(h.h)("folder"===a.target.value))},b.prototype.handleRemoveMapAreaFilter=function(a){this.props.dispatch(Object(k.z)(!1));
this.props.dispatch(Object(h.h)())},b.prototype.handleRemoveSearchOrgFilter=function(a){this.props.dispatch(Object(k.D)(!1));this.props.dispatch(Object(h.h)())},b.prototype.handleClearAll=function(){var a=!!this.props.stateTree.parameters.filter.folder;this.props.dispatch({type:k.a});this.props.dispatch(Object(h.h)(a))},b.prototype.handleRemoveOrgCategoriesFilter=function(a){this.props.dispatch(Object(k.B)());this.props.dispatch(Object(h.h)())},b.prototype.handleRemoveLACategoriesFilter=function(a){this.props.dispatch(Object(k.x)());
this.props.dispatch(Object(h.h)())},b.prototype.handleRemoveGroupCategoriesFilter=function(a){this.props.dispatch(Object(k.u)());this.props.dispatch(Object(h.h)())},b.prototype.handleRemoveLARegionFilter=function(a){this.props.dispatch(Object(k.y)());this.props.dispatch(Object(h.h)())},b.prototype.handleRemoveTagsFilter=function(a){var b=this.props.stateTree.parameters.filter.tags;b&&b[a.target.value]&&(b=f.a({},b),delete b[a.target.value],0<Object.keys(b).length?this.props.dispatch(Object(k.G)(b)):
this.props.dispatch(Object(k.G)()),this.props.dispatch(Object(h.h)()))},b}(d.Component);b.a=Object(d.connect)(function(a){return{stateTree:a}},function(a){return{dispatch:a}})(a)},,,,function(d,b,a){a.d(b,"b",function(){return c});d=a(1);var f=a(131);a=a(132);var c={config:f.b,utils:a.b};b.a=Object(d.combineReducers)({config:f.a,utils:a.a})},,,,,,,,,,,,,,,,,,,,,function(d,b,a){a.d(b,"b",function(){return g});d=a(2);var f=a(50),c=a(45),k=a(55),h=a(18),g={asynchronousItemSelect:!1,dialogTitle:"Item Browser",
disableMainAction:!1,mainActionTitle:d.itemDetails.addToMap,mainInverseActionTitle:d.itemDetails.removeFromMap,onSelect:function(){},onDeselect:function(){},baseSections:"all myContent myFavorites myGroups myOrganization livingAtlas".split(" "),layoutMode:"adjustable",detailsPaneType:"flyout",singleItemSelect:!1,enableMapAreaFilter:!0,mapAreaThrottleTime:2500,enableSelectAllItemsFromQuery:!1,showSubmitButton:!0,submitButtonText:"Submit Selection",clearSelectionBetweenSearches:!1,resultsPerQuery:10,
allowedItemTypes:c.a,availableItemTypeFilters:"maps webMaps mapFiles layers featureLayers tileLayers mapImageLayers imageryLayers sceneLayers tables layerFiles scenes apps webApps mobileApps desktopApps tools locators geodatabaseAccess geometricOperations geoprocessingTasks networkAnalysis files documents images pdfs notebooks".split(" "),disableItemTypeFilters:!1,customActions:[],customSections:[],showCloseBtn:!1,showBackBtn:!0,onBack:function(){},hideEllipses:!1,replaceSectionDropdownWithTitle:!1};
b.a=function(a,b){switch(void 0===a&&(a=g),b.type){case f.b:return Object(k.c)("id",a.customSections.filter(h.f).map(h.a).reduce(function(a,b){return a.concat(b)},[]).filter(function(a){return"object"==typeof a&&"group"===a.type})).forEach(function(a,e){a.id=b.payload.groups[e].id;delete a.fetchGroupIdByQuery}),a;default:return a}}},function(d,b,a){a.d(b,"b",function(){return h});var f=a(0),c=a(88),k=a(34),h={iconDir:"",portal:{},request:function(a){return null}};b.a=function(a,b){switch(void 0===
a&&(a=h),b.type){case c.a:return f.a({},a,{self:b.payload.self});default:return a.portal.portalHostname&&!a.portal.baseUrl&&(a.portal.baseUrl=Object(k.a)(a.portal)),a}}},function(d,b,a){a.d(b,"b",function(){return e});d=a(1);var f=a(134),c=a(135),k=a(136),h=a(139),g=a(137);a=a(138);var e={extent:f.b,filter:c.b,nextQuery:k.b,searchString:g.b,section:a.b,sort:h.b};b.a=Object(d.combineReducers)({extent:f.a,filter:c.a,nextQuery:k.a,searchString:g.a,section:a.a,sort:h.a})},function(d,b,a){a.d(b,"b",function(){return k});
var f=a(0),c=a(103),k={area:{minx:-180,miny:-90,maxx:180,maxy:90},throttling:!1};b.a=function(a,b){switch(void 0===a&&(a=k),b.type){case c.a:return f.a({},a,{throttling:!1});case c.b:return{area:b.payload,throttling:!0};default:return a}}},function(d,b,a){a.d(b,"b",function(){return h});var f=a(0),c=a(4),k=a(51),h={customFilter:{},searchMapArea:!1};b.a=function(a,b){var e;switch(void 0===a&&(a=h),b.type){case c.a:return{customFilter:{},searchMapArea:!1};case c.m:return f.a({},a,{orgGroup:b.payload});
case c.i:return f.a({},a,{livingAtlasRegion:b.payload});case c.h:return f.a({},a,{livingAtlasCategories:b.payload});case c.l:return f.a({},a,{orgCategories:b.payload});case c.e:return f.a({},a,{groupCategories:b.payload});case c.g:return f.a({},a,{itemType:b.payload});case c.k:return f.a({},a,{dateModified:b.payload.modified});case c.b:return f.a({},a,{dateCreated:b.payload.created});case c.o:return f.a({},a,{shared:b.payload});case c.d:return f.a({},a,{folder:b.payload});case c.f:return f.a({},a,
{groupCategories:void 0,group:b.payload});case c.p:return f.a({},a,{status:b.payload});case c.j:return f.a({},a,{searchMapArea:b.payload});case c.n:return f.a({},a,{searchOrg:b.payload,orgCategories:void 0});case c.q:return f.a({},a,{tags:b.payload});case c.c:return f.a({},a,{customFilter:f.a({},a.customFilter,(e={},e[b.payload.index]=b.payload.filter,e))});case k.a:return{customFilter:{},searchMapArea:!1};default:return a}}},function(d,b,a){a.d(b,"b",function(){return k});var f=a(0),c=a(3),k={nextStart:-1,
total:0};b.a=function(a,b){switch(void 0===a&&(a=k),b.type){case c.a:return f.a({},a,{total:0});case c.c:return{nextStart:b.payload.search.nextStart,total:b.payload.search.total};case c.f:return{nextStart:b.payload.nextStart,total:b.payload.total};default:return a}}},function(d,b,a){a.d(b,"b",function(){return h});var f=a(0),c=a(3),k=a(90),h={current:"",previous:""};b.a=function(a,b){switch(void 0===a&&(a=h),b.type){case c.a:return f.a({},a,{previous:a.current});case k.a:return f.a({},a,{current:b.payload});
default:return a}}},function(d,b,a){a.d(b,"b",function(){return k});var f=a(51),c=a(88),k="all";b.a=function(a,b){switch(void 0===a&&(a=k),b.type){case f.a:return b.payload.newSection;case c.a:var e=b.payload.config.baseSections;b=b.payload.config.customSections.map(function(a){return a.name});return-1<e.indexOf(a)||-1<b.indexOf(a)?a:0<e.length?e[0]:0<b.length?b[0]:"all";default:return a}}},function(d,b,a){a.d(b,"b",function(){return m});var f=a(0),c=a(37),k=a(51),h=a(50),g=a(18),e=a(55),m={field:"relevance",
order:"desc"},l={myContent:"modified",myFavorites:"relevance",myGroups:"relevance",myOrganization:"relevance",livingAtlas:"relevance",all:"relevance"},q={relevance:"desc",title:"asc",created:"desc",owner:"asc",modified:"desc",numviews:"desc",avgrating:"desc"};b.a=function(a,b){switch(void 0===a&&(a=m),b.type){case c.b:return f.a({},a,{order:b.payload});case c.a:return b=b.payload,{field:b,order:q[b]?q[b]:a.order};case k.a:return(a=Object(g.b)(b.payload.customSections,b.payload.newSection))&&a.filters&&
(a=a.filters.filter(function(a){return"object"==typeof a&&"group"===a.type})[0])&&a.id&&(a=b.payload.customSectionGroupSort[a.id])?a:{field:l[b.payload.newSection]||"relevance",order:"desc"};case h.b:var d=b.payload,n=d.customSections;return(d=Object(g.b)(n,d.currentSection))&&d.filters&&(n=Object(e.c)("id",n.filter(g.f).map(g.a).reduce(function(a,b){return a.concat(b)},[]).filter(function(a){return"object"==typeof a&&"group"===a.type})),d=d.filters.filter(function(a){return"object"==typeof a&&"group"===
a.type})[0],b=b.payload.groups[n.indexOf(d)])?{field:b.sortField?b.sortField:"relevance",order:b.sortOrder?b.sortOrder:"desc"}:a;default:return a}}},function(d,b,a){a.d(b,"b",function(){return r});d=a(1);var f=a(141),c=a(144),k=a(145),h=a(146),g=a(147),e=a(149),m=a(148),l=a(150),q=a(151),n=a(152),t=a(153);a=a(154);var r={counts:f.b,displayItems:c.b,livingAtlas:k.b,loadingItems:h.b,selectedItems:g.b,failedItemDetails:m.b,fullItemDetails:e.b,organization:l.b,user:q.b,customSections:n.b,allOrganizations:t.b,
users:a.b};b.a=Object(d.combineReducers)({counts:f.a,displayItems:c.a,loadingItems:h.a,selectedItems:g.a,failedItemDetails:m.a,fullItemDetails:e.a,livingAtlas:k.a,organization:l.a,user:q.a,customSections:n.a,allOrganizations:t.a,users:a.a})},function(d,b,a){a.d(b,"b",function(){return c});d=a(1);var f=a(142);a=a(143);var c={access:f.b,contentStatus:a.b};b.a=Object(d.combineReducers)({access:f.a,contentStatus:a.a})},function(d,b,a){a.d(b,"b",function(){return c});var f=a(3),c={org:void 0,private:void 0,
public:void 0,shared:void 0};b.a=function(a,b){switch(void 0===a&&(a=c),b.type){case f.c:if(b.payload.aggregations&&b.payload.aggregations.counts&&(b=b.payload.aggregations.counts.filter(function(a){return"access"===a.fieldName})[0])){a=b.fieldValues.filter(function(a){return"account"===a.value})[0];var g=b.fieldValues.filter(function(a){return"private"===a.value})[0],e=b.fieldValues.filter(function(a){return"public"===a.value})[0];b=b.fieldValues.filter(function(a){return"shared"===a.value})[0];
return{org:a?a.count:void 0,private:g?g.count:void 0,public:e?e.count:void 0,shared:b?b.count:void 0}}return a;default:return a}}},function(d,b,a){a.d(b,"b",function(){return c});var f=a(3),c={publicAuthoritative:0,orgAuthoritative:0,deprecated:0};b.a=function(a,b){switch(void 0===a&&(a=c),b.type){case f.c:if(b.payload.aggregations&&b.payload.aggregations.counts&&(b=b.payload.aggregations.counts.filter(function(a){return"contentstatus"===a.fieldName})[0])){a=b.fieldValues.filter(function(a){return"org_authoritative"===
a.value})[0];var g=b.fieldValues.filter(function(a){return"public_authoritative"===a.value})[0];b=b.fieldValues.filter(function(a){return"deprecated"===a.value})[0];return{publicAuthoritative:g?g.count:0,orgAuthoritative:a?a.count:0,deprecated:b?b.count:0}}return a;default:return a}}},function(d,b,a){a.d(b,"b",function(){return c});var f=a(3),c=[];b.a=function(a,b){switch(void 0===a&&(a=[]),b.type){case f.c:return b.payload.search.results;case f.f:return a.concat(b.payload.results);default:return a}}},
function(d,b,a){a.d(b,"b",function(){return g});var f=a(0),c=a(64),k=a(3),h=a(23),g={categorySchema:void 0,groupId:void 0,status:"initial"};b.a=function(a,b){switch(void 0===a&&(a=g),b.type){case c.a:return f.a({},a,{status:"loading"});case c.b:return f.a({},a,{categorySchema:{displayName:b.payload.id,value:b.payload.id,children:Object(h.b)(b.payload.schema)},groupId:b.payload.id,status:"loaded"});case k.c:return a.categorySchema&&b.payload.aggregations&&b.payload.aggregations.countInfo&&"livingAtlas"===
b.payload.aggregations.countInfo.section?f.a({},a,{categorySchema:Object(h.c)(b.payload.aggregations,Object(h.a)(a.categorySchema),"groupCategories")}):a;case c.c:return f.a({},a,{status:"failed"});default:return a}}},function(d,b,a){a.d(b,"b",function(){return e});var f=a(0),c=a(25),k=a(65),h=a(6),g=a(26),e={};b.a=function(a,b){var e,d,l,m,v,p,y,x,w,u,z,A;switch(void 0===a&&(a={}),b.type){case c.f:return f.a({},a,((e={})[b.payload.id]=b.payload,e));case c.e:return f.a({},a,((d={})[b.payload.id]=
void 0,d));case c.h:return f.a({},a,((l={})[b.payload.id]=void 0,l));case c.g:return f.a({},a,((m={})[b.payload.id]=void 0,m));case k.b:return f.a({},a,((v={})[b.payload.id]=b.payload,v));case k.a:return f.a({},a,((p={})[b.payload.id]=void 0,p));case h.a:return{};case g.a:return f.a({},a,((y={})[b.payload.id]=b.payload,y));case g.c:return f.a({},a,((x={})[b.payload.id]=void 0,x));case g.b:return f.a({},a,((w={})[b.payload.id]=void 0,w));case g.e:return f.a({},a,((u={})[b.payload.id]=b.payload,u));
case g.g:return f.a({},a,((z={})[b.payload.id]=void 0,z));case g.f:return f.a({},a,((A={})[b.payload.id]=void 0,A));default:return a}}},function(d,b,a){a.d(b,"b",function(){return h});var f=a(0),c=a(25),k=a(6),h={};b.a=function(a,b){var e,g;switch(void 0===a&&(a={}),b.type){case c.a:return{};case c.c:return f.a({},a,b.payload.reduce(function(a,b){var e;return f.a({},a,((e={})[b.id]=b,e))},{}));case c.b:return a=f.a({},a),delete a[b.payload.id],a;case c.e:return f.a({},a,((e={})[b.payload.id]=b.payload,
e));case c.h:return(g={})[b.payload.id]=b.payload,g;case c.d:return f.a({},a,b.payload);case k.a:return{};default:return a}}},function(d,b,a){a.d(b,"b",function(){return h});var f=a(0),c=a(48),k=a(91),h={};b.a=function(a,b){var e;switch(void 0===a&&(a=h),b.type){case c.b:return a[b.payload.item.id]?(delete (g=f.a({},a))[b.payload.item.id],g):a;case k.a:var g;return a[b.payload.id]?(delete (g=f.a({},a))[b.payload.id],g):a;case c.a:return f.a({},a,((e={})[b.payload]=!0,e));default:return a}}},function(d,
b,a){a.d(b,"b",function(){return k});var f=a(0),c=a(48),k={};b.a=function(a,b){var e;switch(void 0===a&&(a=k),b.type){case c.b:return f.a({},a,((e={})[b.payload.item.id]=b.payload.item,e));case c.a:return a[b.payload]?(a=f.a({},a),delete a[b.payload],a):a;default:return a}}},function(d,b,a){a.d(b,"b",function(){return g});var f=a(0),c=a(57),k=a(3),h=a(23),g={categorySchema:void 0,groups:void 0,status:"initial"};b.a=function(a,b){switch(void 0===a&&(a=g),b.type){case c.a:return f.a({},a,{status:"loading"});
case c.b:return f.a({},a,{groups:b.payload.groups,categorySchema:{displayName:"##orgCatRoot--1337!",value:"##orgCatRoot--1337!",children:Object(h.b)(b.payload.schema)},status:"loaded"});case k.c:return a.categorySchema&&b.payload.aggregations&&b.payload.aggregations.countInfo&&("myOrganization"===b.payload.aggregations.countInfo.section||"myContent"===b.payload.aggregations.countInfo.section||"all"===b.payload.aggregations.countInfo.section)?f.a({},a,{categorySchema:Object(h.c)(b.payload.aggregations,
Object(h.a)(a.categorySchema),"categories")}):a;case c.c:return f.a({},a,{status:"failed"});default:return a}}},function(d,b,a){a.d(b,"b",function(){return g});var f=a(0),c=a(26),k=a(3),h=a(23),g={favorites:void 0,folders:void 0,groups:void 0,groupCategories:{},provisionedContent:[],status:"initial"};b.a=function(a,b){var e,d,n,m,r;switch(void 0===a&&(a=g),b.type){case c.d:return f.a({},a,{status:"loading"});case c.i:return f.a({},a,{favorites:b.payload.favorites,folders:b.payload.folders,groups:b.payload.groups,
provisionedContent:b.payload.provisionedContent,status:"loaded"});case c.h:return f.a({},a,{groupCategories:f.a({},a.groupCategories,(e={},e[b.payload.id]={value:b.payload.id,children:Object(h.b)(b.payload.categorySchema)},e))});case k.c:return b.payload.aggregations&&b.payload.aggregations.countInfo&&"myGroups"===b.payload.aggregations.countInfo.section&&b.payload.aggregations.countInfo.group&&(e=b.payload.aggregations.countInfo.group.id,a.groupCategories[e])?f.a({},a,{groupCategories:f.a({},a.groupCategories,
(d={},d[e]=Object(h.c)(b.payload.aggregations,Object(h.a)(a.groupCategories[e]),"groupCategories"),d))}):a;case c.j:return f.a({},a,{status:"failed"});case c.c:return f.a({},a,{favorites:a.favorites?f.a({},a.favorites,(n={},n[b.payload.id]=!0,n)):(m={},m[b.payload.id]=!0,m)});case c.g:return f.a({},a,{favorites:a.favorites?f.a({},a.favorites,(r={},r[b.payload.id]=!1,r)):{}});default:return a}}},function(d,b,a){function f(a,b,e){return b.filter(function(b){return b.type===a}).reduce(function(a,b){return a[b.id]||
(a[b.id]={value:b.id,children:Object(g.b)(b.response.categorySchema)}),a},c.a({},e))}a.d(b,"b",function(){return e});var c=a(0),k=a(50),h=a(3),g=a(23),e={groupSchemas:{},groupSort:{},orgSchemas:{},status:"initial"};b.a=function(a,b){switch(void 0===a&&(a=e),b.type){case k.a:return c.a({},a,{status:"loading"});case k.b:return c.a({},a,{groupSort:b.payload.groups.reduce(function(a,b){return a[b.id]={field:b.sortField,order:b.sortOrder},a},a.groupSort)});case k.c:return c.a({},a,{orgSchemas:f("org",
b.payload,a.orgSchemas),groupSchemas:f("group",b.payload,a.groupSchemas),status:"loaded"});case k.d:return c.a({},a,{status:"failed"});case h.c:if(b.payload.aggregations){var d=b.payload.aggregations.countInfo;if(d.custom&&d.custom.filters)return d.custom.filters.filter(function(a){return"object"==typeof a}).reduce(function(e,d){var f,h;return"group"===d.type?c.a({},a,{groupSchemas:c.a({},a.groupSchemas,(f={},f[d.id]=Object(g.c)(b.payload.aggregations,Object(g.a)(a.groupSchemas[d.id]),"groupCategories"),
f))}):"org"===d.type?c.a({},a,{orgSchemas:c.a({},a.orgSchemas,(h={},h[d.id]=Object(g.c)(b.payload.aggregations,Object(g.a)(a.orgSchemas[d.id]),"categories"),h))}):e},a)}return a;default:return a}}},function(d,b,a){a.d(b,"b",function(){return h});var f=a(0),c=a(3),k=a(46),h={};b.a=function(a,b){switch(void 0===a&&(a=h),b.type){case c.c:return f.a({},a,b.payload.search.organizations);case c.f:case k.b:return f.a({},a,b.payload.organizations);default:return a}}},function(d,b,a){a.d(b,"b",function(){return k});
var f=a(0),c=a(48),k={};b.a=function(a,b){var e;switch(void 0===a&&(a=k),b.type){case c.b:return f.a({},a,((e={})[b.payload.owner.username]=b.payload.owner,e));default:return a}}},function(d,b,a){a.d(b,"b",function(){return e});d=a(1);var f=a(156),c=a(157),k=a(160),h=a(161),g=a(162);a=a(163);var e={sidePanel:f.b,expanded:c.b,resultPanel:k.b,filters:h.b,tagsFilter:g.b,pagination:a.b};b.a=Object(d.combineReducers)({sidePanel:f.a,expanded:c.a,resultPanel:k.a,filters:h.a,tagsFilter:g.a,pagination:a.a})},
function(d,b,a){a.d(b,"b",function(){return m});var f=a(0),c=a(54),k=a(91),h=a(104),g=a(105),e=a(3),m={closing:!1,type:"hidden"};b.a=function(a,b){switch(void 0===a&&(a=m),b.type){case c.b:return f.a({},a,{closing:!0});case c.a:return f.a({},a,{closing:!1,type:"hidden",item:void 0});case k.a:return f.a({},a,{type:"item",item:b.payload});case h.a:return f.a({},a,{type:"filter",item:void 0});case g.a:return f.a({},a,{type:"sort",item:void 0});case e.c:return"item"===a.type&&a.item&&!b.payload.search.results.filter(function(b){return a.item&&
b.id===a.item.id})[0]?f.a({},a,{closing:!0}):a;default:return a}}},function(d,b,a){a.d(b,"b",function(){return h});d=a(158);var f=a(159),c=a(1),k=a(38),h={filters:d.b,sort:f.b,maximized:!1,closing:!1};b.a=Object(c.combineReducers)({filters:d.a,sort:f.a,maximized:function(a,b){switch(b.type){case k.b:return!0;case k.c:return!1;default:return a}},closing:function(a,b){switch(b.type){case k.a:return!0;default:return a}}})},function(d,b,a){a.d(b,"b",function(){return c});var f=a(38),c=!1;b.a=function(a,
b){switch(b.type){case f.d:return!a;default:return a}}},function(d,b,a){a.d(b,"b",function(){return k});var f=a(38),c=a(37),k=!1;b.a=function(a,b){switch(b.type){case f.e:case c.a:case c.b:return!a;default:return a}}},function(d,b,a){a.d(b,"b",function(){return h});var f=a(0),c=a(3),k=a(92),h={display:"list",status:"empty"};b.a=function(a,b){switch(void 0===a&&(a=h),b.type){case c.b:return f.a({},a,{status:"failed"});case c.c:return f.a({},a,{status:"success"});case c.e:return f.a({},a,{status:"failed"});
case c.f:return f.a({},a,{status:"success"});case c.a:return f.a({},a,{status:"loading"});case c.d:return f.a({},a,{status:"loadingNext"});case k.a:return f.a({},a,{display:"table"===a.display?"list":"table"});case k.b:return f.a({},a,{status:"empty"});default:return a}}},function(d,b,a){a.d(b,"b",function(){return h});var f=a(0),c=a(4),k=a(51),h={};b.a=function(a,b){switch(void 0===a&&(a=h),b.type){case c.a:return{};case c.k:return f.a({},a,{modifiedSection:b.payload.section});case c.b:return f.a({},
a,{createdSection:b.payload.section});case k.a:return{};default:return a}}},function(d,b,a){a.d(b,"b",function(){return e});var f=a(0);d=a(14);var c=a(55),k=a(51),h=a(58),g=a(3),e={allTags:[],filterString:"",visibleTags:[]};b.a=function(a,b){switch(void 0===a&&(a=e),b.type){case k.a:return f.a({},a,{filterString:""});case h.d:return f.a({},a,{filterString:b.payload,visibleTags:a.allTags.filter(function(a){return 0===b.payload.length||-1<a.value.indexOf(b.payload)})});case h.a:return a;case h.c:return b.payload.aggregations&&
(c=b.payload.aggregations.counts.filter(function(a){return"tags"===a.fieldName})[0])?(c=m(a.allTags.concat(c.fieldValues)),f.a({},a,{allTags:c,visibleTags:c.filter(function(b){return 0===a.filterString.length||-1<b.value.indexOf(a.filterString)})})):a;case h.b:return a;case g.c:var c;return b.payload.aggregations&&(c=b.payload.aggregations.counts.filter(function(a){return"tags"===a.fieldName})[0])?(c=m(c.fieldValues),f.a({},a,{allTags:c,visibleTags:c.filter(function(b){return 0===a.filterString.length||
-1<b.value.indexOf(a.filterString)})})):a;default:return a}};b=Object(c.c)("value");var m=Object(d.a)(b,function(a){return a.map(function(a){var b=a.count;return{value:a.value.trim(),count:b}})},function(a){return a.sort(function(a,b){return b.count-a.count})})},function(d,b,a){a.d(b,"b",function(){return h});var f=a(0),c=a(46),k=a(3),h={page:1,displayItems:[],status:"loading"};b.a=function(a,b){switch(void 0===a&&(a=h),b.type){case c.c:return f.a({},a,{status:"loading"});case c.b:return f.a({},a,
{displayItems:b.payload.displayItems,page:b.payload.page,status:"success"});case c.a:return f.a({},a,{status:"failed"});case k.c:return f.a({},a,{displayItems:b.payload.search.results,status:"success",page:1});default:return a}}},function(d,b,a){function f(a){var b=c.a.filter(function(b){return-1===a.indexOf(b)}).filter(function(b){return a.reduce(function(a,c){return-1<b.indexOf(c)||a},!1)});return'((type:"'+a.join('" OR type:"')+'")'+(0<b.length?' AND (-type:"'+b.join('" AND -type:"')+'")':"")+
")"}a.d(b,"a",function(){return k});var c=a(45);d=a(7);var k=Object(d.a)(function(a,b,c){var e=b.itemTypeFilter,d=b.allowedItemTypes;b=b.specialItemQ;return e?c.concat([a[e.value]+" AND ("+f(d)+(b?" OR ("+b+")":"")+")"]):b?c.concat(["("+f(d)+" OR ("+b+"))"]):c.concat([f(d)])})},function(d,b,a){var f=a(51);a.d(b,"a",function(){return f.b});var c=a(103);a.d(b,"b",function(){return c.c})},function(d,b,a){var f=a(167);a.d(b,"a",function(){return f.a})},function(d,b,a){var f=a(91);a.d(b,"a",function(){return f.b})},
,,,,,,,,,,,,,,,,,,function(d,b){d.exports=V},function(d,b,a){var f=a(0);d=a(1);var c=a(189),k=a(192),h=a(188),g=a.n(h);a=function(a){function b(b){return a.call(this,b)||this}return f.b(b,a),b.prototype.render=function(a){return a("div",{id:"item-browser-container",classes:this.props.containerClasses,key:"ib-expanded"},a(g.a,{closing:this.props.closing,key:"ib-big-overlay",scrollable:!this.props.filtersVisible&&!this.props.sortVisible||!window.matchMedia("(max-width: 860px)").matches},a(c.a,{key:"big-browser-header"}),
a(k.a,{key:"big-browser-body"})))},b}(d.Component);b.a=Object(d.connect)(function(a){return{closing:a.ui.expanded.closing,filtersVisible:a.ui.expanded.filters,sortVisible:a.ui.expanded.sort}},function(){return{}})(a)},function(d,b){d.exports=W},function(d,b,a){var f=a(0),c=a(2);d=a(1);var k=a(22),h=a.n(k),g=a(190);a=function(a){function b(b){b=a.call(this,b)||this;return b.handleContract=b.handleContract.bind(b),b.handleClose=b.handleClose.bind(b),b}return f.b(b,a),b.prototype.render=function(a){return a("header",
{class:"ib__big-header"},a("div",{class:"ib__big-header-title-section"},a("h4",{class:"ib__big-header-title"},this.props.dialogTitle),"adjustable"===this.props.layoutMode?a(h.a,{key:"contract-btn",focusable:!0,handleClick:this.handleContract},a("svg",{width:"24",height:"24",viewBox:"0 0 32 32"},a("path",{d:"M20 20h12v3h-6.915L32 29.723v2.109l-.168.168h-2.117L23 25.09V32h-3V20zM0 23h6.915L0 29.723v2.109L.168 32h2.117L9 25.09V32h3V20H0v3zM9 6.91L2.285 0H.168L0 .168v2.109L6.915 9H0v3h12V0H9v6.91zM32 .168L31.832 0h-2.117L23 6.91V0h-3v12h12V9h-6.915L32 2.277V.168z"}))):
a(h.a,{key:"main-close-btn",focusable:!0,handleClick:this.handleClose,title:c.close},a("svg",{width:"24",height:"24",viewBox:"0 0 32 32"},a("path",{d:"M18.404 16l9.9 9.9-2.404 2.404-9.9-9.9-9.9 9.9L3.696 25.9l9.9-9.9-9.9-9.898L6.1 3.698l9.9 9.899 9.9-9.9 2.404 2.406-9.9 9.898z"})))),a(g.a,{key:"big-browser-section-tabs"}))},b.prototype.handleContract=function(){this.props.onBack()},b.prototype.handleClose=function(){this.props.onBack()},b}(d.Component);b.a=Object(d.connect)(function(a){return{dialogTitle:a.settings.config.dialogTitle,
layoutMode:a.settings.config.layoutMode,onBack:function(){a.settings.config.onBack&&a.settings.config.onBack()}}},function(){return{}})(a)},function(d,b,a){var f=a(0),c=a(2);d=a(1);var k=a(51),h=a(3),g=a(191),e=a.n(g);a=function(a){function b(b){b=a.call(this,b)||this;return b.state={options:(b.props.user?b.props.baseSections:b.props.baseSections.filter(function(a){return"livingAtlas"===a||"all"===a})).map(function(a){return{value:a,text:c.header.sectionTitles[a]}}).concat(b.props.customSections.map(function(a){return{value:a.name,
text:a.name}}))},b.handleTabSelect=b.handleTabSelect.bind(b),b}return f.b(b,a),b.prototype.render=function(a){return a(e.a,{key:"ib-expanded-nav",options:this.state.options,onSelect:this.handleTabSelect,selectedOptionValue:this.props.currentSection})},b.prototype.handleTabSelect=function(a){this.props.changeSearchSection(a);this.props.search(!0)},b}(d.Component);b.a=Object(d.connect)(function(a){return{user:a.settings.utils.portal.user,baseSections:a.settings.config.baseSections,customSections:a.settings.config.customSections,
currentSection:a.parameters.section}},function(a){return{changeSearchSection:function(b){a(Object(k.b)(b))},search:function(b){a(Object(h.h)(b))}}})(a)},function(d,b){d.exports=X},function(d,b,a){var f=a(0),c=a(2);d=a(1);var k=a(195),h=a(208),g=a(210),e=a(194),m=a(75),l=a.n(m),q=a(46),m=a(30),n=a.n(m),m=a(193),t=a.n(m),r=a(62),v=a(38);a=function(a){function b(b){b=a.call(this,b)||this;return b.handlePageChange=b.handlePageChange.bind(b),b.handleCloseMobileFilters=b.handleCloseMobileFilters.bind(b),
b}return f.b(b,a),b.prototype.render=function(a){var b=this.props.expandedFiltersActive,b={"ib__big-section":!0,"ib__big-filters":!0,"ib__big-filters--hidden":!b,"ib__big-filters--visible":b},d="loading"===this.props.resultStatus||"loading"===this.props.paginationStatus,f={"ib__big-wrapper":!0,"ib__big-wrapper--faded":d,"ib__big-wrapper--transparent":d&&0===this.props.pageDisplayItems.length},p=Math.ceil(1E4<this.props.itemTotal?1E4/this.props.resultsPerQuery:this.props.itemTotal/this.props.resultsPerQuery);
return a("main",{class:"ib__big-body"},a(e.a,{key:"ib__big-search-area"}),a("div",{class:"ib__big-row"},a("section",{classes:b,key:"fullscreen-filters"},a(k.a,null)),a("div",{class:"ib__big-overlay-filters"},a(t.a,{key:"mobile-filter-wrap",maxHeight:!0,open:this.props.expandedFiltersActive,onClose:this.handleCloseMobileFilters,title:"Filter",footer:a("button",{class:"ib__big-filter-results-btn",onclick:this.handleCloseMobileFilters},c.viewResults)},a(r.a,{key:"mobile-filters"}))),a("section",{class:"ib__big-section ib__big-results",
key:"results-section"},a("div",{classes:f},a(h.a,{key:"big-browser-input-area"}),a(g.a,{key:"big-browser-result-panel"}),1<p?a(l.a,{key:"big-browser-pager",onPageChange:this.handlePageChange,numPages:p,currentPage:this.props.currentPage,paginationLimitReached:1E4<this.props.itemTotal}):null),d?a("div",{class:"ib-ex__load-container",key:"ib-ex__load-container"},a(n.a,{key:"item-ex-loading"})):null)))},b.prototype.handlePageChange=function(a){this.props.changePage(a)},b.prototype.handleCloseMobileFilters=
function(){this.props.toggleExpandedFilters()},b}(d.Component);b.a=Object(d.connect)(function(a){return{expandedFiltersActive:a.ui.expanded.filters,resultStatus:a.ui.resultPanel.status,paginationStatus:a.ui.pagination.status,pageDisplayItems:a.ui.pagination.displayItems,currentPage:a.ui.pagination.page,itemTotal:a.parameters.nextQuery.total,resultsPerQuery:a.settings.config.resultsPerQuery}},function(a){return{changePage:function(b){a(Object(q.d)(b))},toggleExpandedFilters:function(){a(Object(v.f)())}}})(a)},
function(d,b){d.exports=Y},function(d,b,a){var f=a(0),c=a(2);d=a(1);var k=a(59),h=a.n(k),g=a(38),e=a(37),m=a(90),l=a(3),k=a(76),q=a.n(k),n="relevance title owner created modified numviews".split(" "),t={myContent:["modified","title"],myFavorites:["relevance","modified","title","numviews","owner"],myGroups:["relevance","modified","title","numviews","owner"],myOrganization:["relevance","modified","title","numviews","owner"],livingAtlas:["relevance","modified","title","numviews","owner"],all:["relevance",
"title","owner","modified","numviews"]};a=function(a){function b(b){b=a.call(this,b)||this;return b.handleToggleFilters=b.handleToggleFilters.bind(b),b.handleSearchChange=b.handleSearchChange.bind(b),b.handleSearchKeyDown=b.handleSearchKeyDown.bind(b),b.handleSortFieldChange=b.handleSortFieldChange.bind(b),b.handleSortOrderChange=b.handleSortOrderChange.bind(b),b.handleSortClick=b.handleSortClick.bind(b),b}return f.b(b,a),b.prototype.render=function(a){var b=this.props.searchPlaceholderText?this.props.searchPlaceholderText:
c.searchPlaceholders.generic,e=this.props.section,e=t[e]?t[e].slice():n.slice();return a("div",{class:"ib-ex-search-area__container"},a("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},a("path",{d:"M19.205 18.295l-7.036-7.035A6.874 6.874 0 0 0 6.875 0 6.874 6.874 0 0 0 0 6.875a6.874 6.874 0 0 0 11.286 5.27l7.035 7.034.884-.884zM1.25 6.875A5.632 5.632 0 0 1 6.875 1.25 5.632 5.632 0 0 1 12.5 6.875 5.632 5.632 0 0 1 6.875 12.5 5.632 5.632 0 0 1 1.25 6.875z",fill:"#595959","fill-rule":"nonzero"})),
a("input",{id:"ib-ex-search-area__input",class:"ib-ex-search-area__input",type:"search",oninput:this.handleSearchChange,onkeydown:this.handleSearchKeyDown,value:this.props.searchString,placeholder:b,title:c.header.search,"aria-label":c.header.search}),a("div",{class:"ib-ex-search-area__btn-section"},a(q.a,{active:this.props.sortActive,key:"ib-ex-sort-dropdown",field:this.props.sortField,order:this.props.sortOrder,availableFields:e,onFieldChange:this.handleSortFieldChange,onOrderChange:this.handleSortOrderChange,
onClick:this.handleSortClick}),a(h.a,{key:"ib-ex-filter-btn",active:this.props.expandedFiltersActive,handleClick:this.handleToggleFilters},a("div",{class:"drp-sort__btn-body"},a("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16"},a("g",{stroke:"none","stroke-width":"1"},a("g",{id:"filter-sliders-1px-16"},a("path",{d:"M7,13 L0,13 L0,12 L7,12 L7,10 L8,10 L8,15 L7,15 L7,13 Z M12,8 L0,8 L0,7 L12,7 L12,5 L13,5 L13,10 L12,10 L12,8 Z M2,3 L0,3 L0,2 L2,2 L2,0 L3,0 L3,5 L2,5 L2,3 Z M4,2 L16,2 L16,3 L4,3 L4,2 Z M14,7 L16,7 L16,8 L14,8 L14,7 Z M9,12 L16,12 L16,13 L9,13 L9,12 Z"})))),
a("span",{class:"drp-sort__btn-label"},c.filterPane.filter)))))},b.prototype.handleToggleFilters=function(){this.props.toggleExpandedFilters()},b.prototype.handleSearchChange=function(a){this.props.changeSearchString(a.target.value);""===a.target.value&&""!==this.props.previousSearchString&&this.props.search(!0)},b.prototype.handleSearchKeyDown=function(a){"Enter"===a.key&&this.props.search(!0)},b.prototype.handleSortFieldChange=function(a){this.props.changeSortField(a);this.props.search()},b.prototype.handleSortOrderChange=
function(a){this.props.changeSortOrder(a);this.props.search()},b.prototype.handleSortClick=function(){this.props.toggleExpandedSort()},b}(d.Component);b.a=Object(d.connect)(function(a){return{searchPlaceholderText:a.settings.config.searchPlaceholderText,section:a.parameters.section,searchString:a.parameters.searchString.current,previousSearchString:a.parameters.searchString.previous,sortActive:a.ui.expanded.sort,sortField:a.parameters.sort.field,sortOrder:a.parameters.sort.order,expandedFiltersActive:a.ui.expanded.filters}},
function(a){return{toggleExpandedFilters:function(){a(Object(g.f)())},toggleExpandedSort:function(){a(Object(g.g)())},changeSortField:function(b){a(Object(e.c)(b))},changeSortOrder:function(b){a(Object(e.d)(b))},changeSearchString:function(b){a(Object(m.b)(b))},search:function(b){a(Object(l.h)(b))}}})(a)},function(d,b,a){var f=a(62);b.a=function(a,b){return b(f.a,{key:"big-browser-filters"})}},function(d,b){d.exports=Z},function(d,b){d.exports=aa},function(d,b){d.exports=ba},function(d,b){d.exports=
ca},function(d,b){d.exports=da},function(d,b){d.exports=ea},function(d,b){d.exports=fa},function(d,b){d.exports=ga},function(d,b){d.exports=ha},function(d,b,a){function f(a){var b,d=a.settings.utils.portal.user,e=!d,d=!e&&!d.orgId;if(e||d)if(d)e=function(a){switch(a.parameters.section){case "myContent":return"folder itemType modified created tags shared".split(" ");case "myFavorites":return["itemType","modified","created","tags","status"];case "myGroups":return"groupCategories group itemType modified tags created".split(" ");
case "livingAtlas":return["livingAtlasCategories","livingAtlasRegion","itemType","tags","status"];case "all":return["itemType","modified","status"];default:return c(a)}}(a);else a:switch(a.parameters.section){case "livingAtlas":e=["livingAtlasCategories","livingAtlasRegion","itemType","tags","status"];break a;case "all":e=["itemType","modified","status"];break a;default:e=c(a)}else e=function(a){switch(a.parameters.section){case "myContent":return"folder orgCategories itemType modified created tags shared status".split(" ");
case "myFavorites":return"itemType modified created tags shared status".split(" ");case "myGroups":return"groupCategories group itemType modified created tags shared status".split(" ");case "myOrganization":return"orgCategories itemType modified created tags shared status".split(" ");case "livingAtlas":return["livingAtlasCategories","livingAtlasRegion","itemType","tags","status"];case "all":return["itemType","modified","shared","status"];default:return c(a)}}(a);return b=e,function(a,b){var c=b.indexOf("itemType");
a&&-1<c&&b.splice(c,1);return b}(a.settings.config.disableItemTypeFilters,b)}function c(a){return a.settings.config.customSections.reduce(function(b,c){return c.name===a.parameters.section&&c.filters?c.filters:b},["itemType","modified","shared"])}a.d(b,"a",function(){return f})},function(d,b,a){var f=a(0);d=a(1);var c=a(66),k=a.n(c),c=a(207),h=a.n(c);a=function(a){function b(b){b=a.call(this,b)||this;return b.handleClear=b.handleClear.bind(b),b.handleClick=b.handleClick.bind(b),b}return f.b(b,a),
b.prototype.render=function(a){var b=this,c=this.props.filter;return a(h.a,{key:c.displayName+"-filter-accordion",clearable:!1,onClear:this.handleClear,title:c.displayName},a("ul",{"aria-label":c.displayName,id:c.displayName+"-filter-accordion-tree",class:"ftr-custom__tree",role:"tree"},c.children?c.children.map(function(c){return a(k.a,{key:c.value,value:c.value,name:c.displayName,onToggleClick:b.handleClick,selectedToggle:b.props.selectedOption,childOptions:c.children})}):null))},b.prototype.handleClear=
function(){this.props.onClear(this.props.index)},b.prototype.handleClick=function(a,b){a===this.props.selectedOption?this.props.onClick(this.props.index,void 0):this.props.onClick(this.props.index,a,b)},b}(d.Component);b.a=a},function(d,b){d.exports=ia},function(d,b,a){var f=a(0),c=a(2);d=a(1);var k=a(106);a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return f.b(b,a),b.prototype.render=function(a){return a("div",{class:"ib-ex-input__container",key:"ib-result-count-container"},
a("span",{class:"ib-ex-input-area__result-count"},this.props.itemTotal.toLocaleString()+" "+(this.props.itemName?this.props.itemName:c.resultCount)),a(k.a,{staticFilters:this.props.staticFilters,key:"ib-ex__active-filters",theme:"dark"}))},b}(d.Component);b.a=Object(d.connect)(function(a){return{itemName:a.settings.config.itemName,itemTotal:a.parameters.nextQuery.total,staticFilters:a.settings.config.staticFilters}},function(){return{}})(a)},function(d,b){d.exports=ja},function(d,b,a){var f=a(0),
c=a(2);d=a(1);var k=a(211);a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return f.b(b,a),b.prototype.render=function(a){return"success"!==this.props.resultStatus&&"loading"!==this.props.resultStatus||"success"!==this.props.pageStatus&&"loading"!==this.props.pageStatus?a("div",{key:"request-error",class:"ib__results"},a("div",{class:"ib-results__message-container"},a("span",{class:"ib-results__message"},c.results.requestError))):a(k.a,{key:"ib-ex-item-list"})},b}(d.Component);
b.a=Object(d.connect)(function(a){return{resultStatus:a.ui.resultPanel.status,pageStatus:a.ui.pagination.status}},function(){return{}})(a)},function(d,b,a){var f=a(0),c=a(2);d=a(1);var k=a(212),h=a.n(k),g=a(31);a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return f.b(b,a),b.prototype.render=function(a){var b=this,e=Object(g.a)(this.props.stateTree),d=this.props.stateTree.ui.pagination.displayItems.map(function(c){return a(h.a,{key:c.id,item:c,organization:"public_authoritative"===
c.contentStatus&&b.props.stateTree.results.allOrganizations[c.orgId]?b.props.stateTree.results.allOrganizations[c.orgId]:void 0,portal:e,mainAction:b.props.stateTree.settings.config.onSelect,mainActionTitle:b.props.stateTree.settings.config.mainActionTitle,customActions:b.props.stateTree.settings.config.customActions,sortField:b.props.stateTree.parameters.sort.field})});return 0<d.length?a("div",{key:this.props.key,class:"ib-ex-results__item-list"},d):a("div",{key:this.props.key,class:"ib-ex-results__item-list"},
a("div",{class:"ib-ex-results__no-items-container"},a("div",{class:"ib-ex-results__no-items-centered"},a("svg",{viewBox:"0 0 256 256",width:"256"},a("path",{fill:"#ccc",d:"M149.375 182.444l56.463-56.471-25.376-25.376 5.523-14.541-59.827-22.726L110.828 48H56v124h18.365l12.437 4.724 34.182 34.101 15.33-15.294 7.07 2.686 5.164-13.597zm50.806-56.472l-47.34 47.35 26.064-68.626zM112 54.828L141.172 84H112zM60 52h48v36h36v80H60zm60.984 153.17L95.95 180.199l36.263 13.775zm20.081-12.113L85.632 172H148V85.172L133.059 70.23l47.766 18.144-34.628 91.171z"})),
a("p",{class:"ib-ex-results__no-items-text"},c.results.noItemsFound))))},b}(d.Component);b.a=Object(d.connect)(function(a){return{stateTree:a}},function(){return{}})(a)},function(d,b){d.exports=ka},function(d,b,a){var f=a(0),c=a(2);d=a(1);var k=a(54),h=a(215),g=a(216),e=a(214),m=a(227);a=function(a){function b(b){b=a.call(this,b)||this;return b.handleCloseDetailsPane=b.handleCloseDetailsPane.bind(b),b}return f.b(b,a),b.prototype.render=function(a){var b,d=this.props.detailsPaneType,f=this.props.sidePanelType,
k=this.props.closing,l={"ib-side__container--fade-in":!k,"ib-side__container--fade-out":k,"ib-side__container--flyout":"flyout"===d,"ib-side__container--flyover":"flyover"===d},d={"ib-side__content--flyout":"flyout"===d,"ib-side__content--in-right":!k&&"flyout"===d,"ib-side__content--out-left":k&&"flyout"===d,"ib-side__content--flyover":"flyover"===d,"ib-side__content--in-left":!k&&"flyover"===d,"ib-side__content--out-right":k&&"flyover"===d};if("sort"===f)b=a(e.a,{key:"sort-pane"});else if("filter"===
f)b=a(h.a,{key:"filter-pane"});else if("item"===f&&this.props.sidePanelItem)b=a(g.a,{key:this.props.sidePanelItem.id,item:this.props.sidePanelItem});else if("hidden"===f)return;return a(m.a,{key:"item"===f&&this.props.sidePanelItem?""+this.props.sidePanelItem.id:f,containerClasses:l,contentClasses:d,handleClose:this.handleCloseDetailsPane,i18n:c,type:f},b)},b.prototype.componentWillReceiveProps=function(a){var b=this;!this.props.closing&&a.closing&&("item"===this.props.sidePanelType&&this.props.sidePanelItem?
(a=document.getElementById("item-"+this.props.sidePanelItem.id+"-card-title"))&&a.focus():"filter"===this.props.sidePanelType?(a=document.getElementById("filter-button"))&&a.focus():"sort"===this.props.sidePanelType&&(a=document.getElementById("sort-button"))&&a.focus(),setTimeout(function(){b.props.closeDetailsPaneImmediately()},300))},b.prototype.handleCloseDetailsPane=function(){this.props.closeDetailsPane()},b}(d.Component);b.a=Object(d.connect)(function(a){return{detailsPaneType:a.settings.config.detailsPaneType,
sidePanelType:a.ui.sidePanel.type,sidePanelItem:a.ui.sidePanel.item}},function(a){return{closeDetailsPane:function(){a(Object(k.c)())},closeDetailsPaneImmediately:function(){a({type:k.a})}}})(a)},function(d,b,a){var f=a(0),c=a(2);d=a(1);var k=a(37),h=a(3),g=a(66),e=a.n(g),m="relevance title owner created modified numviews".split(" "),l={myContent:["modified","title"],myFavorites:["relevance","modified","title","numviews","owner"],myGroups:["relevance","modified","title","numviews","owner"],myOrganization:["relevance",
"modified","title","numviews","owner"],livingAtlas:["relevance","modified","title","numviews","owner"],all:["relevance","title","owner","modified","numviews"]};a=function(a){function b(b){b=a.call(this,b)||this;return b.handleChangeSortField=b.handleChangeSortField.bind(b),b.handleChangeSortAsc=b.handleChangeSortAsc.bind(b),b.handleChangeSortDesc=b.handleChangeSortDesc.bind(b),b}return f.b(b,a),b.prototype.render=function(a){var b=this,d=this.props.section,d=(l[d]?l[d].slice():m.slice()).map(function(d){return a(e.a,
{key:d,name:c.sortOptions[d],value:d,selectedToggle:b.props.sortField,onToggleClick:b.handleChangeSortField})}),f=this.props.sortField,g=this.props.sortOrder;return a("div",{id:"sort-pane-container",key:"sort-pane-container",class:"ib-sort-pane__container"},a("h4",{class:"ib-sort-pane__title"},c.sortOptions.sort),a("div",{class:"ib-sort-pane__body"},a("h5",{id:"sort-options-title",class:"ib-sort-pane__label"},c.sortOptions.sortBy),a("ul",{key:"sort-option-section",class:"ib-sort-pane__option-section",
role:"radiogroup","aria-labelledby":"sort-options-title","aria-activedescendent":this.props.sortField+"-option"},d),a("h5",{id:"sort-dir-title",class:"ib-sort-pane__label",style:"display: "+("relevance"===f?"none":"auto")},c.sortOptions.sortDir),a("ul",{key:"sort-direction-section",class:"ib-sort-pane__dir-section",role:"radiogroup","aria-labelledby":"sort-dir-title","aria-activedescendent":g+"-option",style:"display: "+("relevance"===f?"none":"auto")},a(e.a,{key:"sort-asc-toggle",name:c.sortOptions.ascending[f],
value:"asc",onToggleClick:this.handleChangeSortAsc,selectedToggle:g}),a(e.a,{key:"sort-desc-toggle",name:c.sortOptions.descending[f],value:"desc",onToggleClick:this.handleChangeSortDesc,selectedToggle:g}))))},b.prototype.handleChangeSortField=function(a){this.props.changeSortField(a);this.props.search()},b.prototype.handleChangeSortAsc=function(a){"desc"===this.props.sortOrder&&(this.props.changeSortOrder("asc"),this.props.search())},b.prototype.handleChangeSortDesc=function(a){"asc"===this.props.sortOrder&&
(this.props.changeSortOrder("desc"),this.props.search())},b}(d.Component);b.a=Object(d.connect)(function(a){return{section:a.parameters.section,sortField:a.parameters.sort.field,sortOrder:a.parameters.sort.order}},function(a){return{changeSortField:function(b){a(Object(k.c)(b))},changeSortOrder:function(b){a(Object(k.d)(b))},search:function(b){a(Object(h.h)(b))}}})(a)},function(d,b,a){var f=a(0),c=a(2);d=a(1);var k=a(62);a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return f.b(b,
a),b.prototype.render=function(a){return a("div",{id:"filter-pane-container",key:"filter-pane-container",class:"ib-filter-pane__container"},a("h4",{class:"ib-filter-pane__title"},c.filterPane.filter),a(k.a,{key:"filter-options"}))},b}(d.Component);b.a=a},function(d,b,a){var f=a(0),c=a(2);d=a(1);var k=a(26),h=a(31),g=a(30),e=a.n(g),m=a(225),g=a(217),l=a.n(g),g=a(218),q=a.n(g),g=a(219),n=a.n(g),g=a(220),t=a.n(g),g=a(221),r=a.n(g),g=a(222),v=a.n(g),g=a(223),p=a.n(g),g=a(22),y=a.n(g),x=a(224),w=a(226),
u=a(20);a=function(a){function b(b){b=a.call(this,b)||this;return b.handleItemDetails=b.handleItemDetails.bind(b),b.handleFavorites=b.handleFavorites.bind(b),b}return f.b(b,a),b.prototype.render=function(a){if(!(this.props.stateTree.results.fullItemDetails[this.props.item.id]&&this.props.stateTree.results.users[this.props.item.owner]||this.props.stateTree.results.failedItemDetails[this.props.item.id]))return a(e.a,{key:"loading-item-details"});if(this.props.stateTree.results.failedItemDetails[this.props.item.id])return a("div",
{class:"ib-item-pane__message-container"},a("span",{class:"ib-results__message"},c.results.requestError));var b=this.props.stateTree.results.fullItemDetails[this.props.item.id],d=this.props.stateTree.results.users[b.owner],f=Object(h.a)(this.props.stateTree),g=(b&&this.props.stateTree.results.selectedItems[b.id],b&&this.props.stateTree.results.loadingItems[b.id]),k={"ib-item-pane__fader":!0,"ib-item-pane__fader--loading":g},l=new Date(b.modified),p=new Date(b.created),n=this.props.stateTree.results.allOrganizations[b.orgId],
r="public_authoritative"===b.contentStatus&&b.orgId&&!!n;return[a("div",{class:"ib-item-pane__thumb-container"},a("img",{src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",class:"ib-item-pane__thumbnail",style:"\n                            display: block;\n                            padding: none;\n                            margin: none;\n                            background-image: url("+b.thumbURI+");\n                            width: 15rem;\n                            height: 10rem;\n                        ",
alt:""}),a(x.a,{favorites:this.props.stateTree.results.user.favorites,item:b,onToggleFavorite:this.handleFavorites})),a("div",{id:"item-pane-container",class:"ib-item-pane__container",key:b.id+"-container"},a("div",{classes:k},a("div",{key:"item-details"},a("h4",{class:"ib-item-pane__title"},b.title,"\u00a0",a(y.a,{key:"view-full-item-details",title:c.itemDetails.viewDetails,handleClick:this.handleItemDetails,focusable:!0},a("svg",{width:"16",height:"16",viewBox:"0 0 16 16",style:"transform: translate(0, -2px);"},
a("path",{d:"M13 15h-12v-12h10v-1h-11v14h14v-6h-1z"}),a("path",{d:"M13 7.536l3-3-3-3v1.061l1.404 1.404h-1.404c-3.85 0-7 3.15-7 7v1h1v-1c0-3.309 2.691-6 6-6h1.475l-1.475 1.475v1.061z"})))),a("span",{key:"item-owner",class:"ib-item-pane__owner-text"},a("img",{src:b.iconURI,class:"ib-item-pane__type-icon",title:b.displayName}),b.displayName," ",c.itemDetails.by,"\u00a0",a("a",{class:"ib-item-pane__owner-link",title:r?c.itemDetails.viewOrg:c.itemDetails.viewUser,target:"_blank",href:r?n.orgUrl:f.baseUrl+
"/home/user.html?user\x3d"+b.owner},r?n.name:b.owner)),a("span",{key:"modified-date",class:"ib-item-pane__modified"},c.itemDetails.lastModified,": "+u.format(l,{selector:"date",formatLength:"long"})),a("div",{class:"ib-item-pane__badges"},this.renderBadges(b,a)),a("div",{class:"ib-item-pane__line",style:"width: 100%; border-bottom: 1px solid #ccc"}),a("span",{key:"snippet",class:"ib-item-pane__snippet"},b.snippet?b.snippet:c.itemDetails.noSnippet),a("h5",{class:"ib-item-pane__details"},c.itemDetails.details),
b.patchedDescription?a("span",{key:"item-description",innerHTML:b.patchedDescription,class:"ib-item-pane__description"}):a("span",{key:"item-no-description",class:"ib-item-pane__description"},c.itemDetails.noDescription),a("h5",{class:"ib-item-pane__terms-of-use"},c.itemDetails.termsOfUse),b.licenseInfo?a("span",{key:"item-terms-of-use",innerHTML:b.licenseInfo,class:"ib-item-pane__license-info"}):a("span",{key:"item-no-terms-of-use",class:"ib-item-pane__license-info"},c.itemDetails.noTermsOfUse),
a("h5",{class:"ib-item-pane__credits"},c.itemDetails.attribution),b.accessInformation?a("span",{key:"item-access-information",innerHTML:b.accessInformation,class:"ib-item-pane__attribution"}):a("span",{key:"item-no-access-information",class:"ib-item-pane__attribution"},c.itemDetails.noAttribution),r?a("p",null,a("h5",{class:"ib-item-pane__pa-owner"},c.sortOptions.owner),a("div",{class:"ib-item-pane__pa-org"},a("img",{src:n.thumbURI,alt:n.name,class:"ib-item-pane__pa-org-thumb user-image-small-inline padding-right-half display-block js-owner-thumbnail"}),
n.name),a("div",{class:"ib-item-pane__pa-managed"},a("span",{class:"ib-item-pane__pa-managed-label"},c.itemDetails.managedBy),a("div",{class:"ib-item-pane__pa-manager"},d.thumbURI?a("img",{src:d.thumbURI,class:"ib-item-pane__pa-managed-thumb"}):a(m.a,{class:"ib-item-pane__pa-managed-thumb"}),b.owner))):null,a("span",{key:"num-views",class:"ib-item-pane__num-views"},a("strong",null,c.itemDetails.views),": "+b.numViews),a("span",{key:"created-date",class:"ib-item-pane__num-views"},a("strong",null,c.itemDetails.created),
": "+u.format(p,{selector:"date",formatLength:"long"})),a(w.a,{baseUrl:f.baseUrl,item:b}))),g?a(e.a,{key:"item-pane-loading"}):null)]},b.prototype.renderBadges=function(a,b){var c=this,d=this.props.stateTree.settings.utils.portal.user;return a.badges.map(function(e){switch(e){case "authoritative":return b(l.a,{altOrg:"public_authoritative"===a.contentStatus&&c.props.stateTree.results.allOrganizations[a.orgId]?c.props.stateTree.results.allOrganizations[a.orgId].name:void 0});case "deprecated":return b(q.a,
null);case "livingAtlas":return b(n.a,null);case "marketplace":return b(t.a,null);case "openData":return b(r.a,null);case "premium":return b(v.a,{user:d});case "subscriber":return b(p.a,{user:d})}return null})},b.prototype.handleItemDetails=function(){var a=Object(h.a)(this.props.stateTree),b=this.props.stateTree.ui.sidePanel.item;b&&window.open(a.baseUrl+"/home/item.html?id\x3d"+b.id,"_blank")},b.prototype.formatSize=function(a,b){return a?1024>=a?["1 ",b("small",{key:"1kb-size"},"KB")]:1048576>
a?[Math.round(a/1024).toLocaleString()+" ",b("small",{key:"1kb-size"},"KB")]:[Math.round(a/1048576).toLocaleString()+" ",b("small",{key:"1kb-size"},"MB")]:["0 ",b("small",{key:"0kb-size"},"KB")]},b.prototype.handleFavorites=function(){var a=this.props.stateTree.ui.sidePanel.item,b=this.props.stateTree.results.user.favorites;a&&b&&b[a.id]?this.props.removeFromFavorites(a):a&&b&&!b[a.id]&&this.props.addToFavorites(a)},b}(d.Component);b.a=Object(d.connect)(function(a){return{stateTree:a}},function(a){return{addToFavorites:function(b){a(Object(k.k)(b))},
removeFromFavorites:function(b){a(Object(k.m)(b))}}})(a)},function(d,b){d.exports=la},function(d,b){d.exports=ma},function(d,b){d.exports=na},function(d,b){d.exports=oa},function(d,b){d.exports=pa},function(d,b){d.exports=qa},function(d,b){d.exports=ra},function(d,b,a){var f=a(2);b.a=function(a,b){var c=a.favorites;if(!c)return null;c=!!c[a.item.id];return b("button",{onclick:a.onToggleFavorite,classes:{"ib-item-pane__favorites-btn":!0,"ib-item-pane__favorites-btn--active":c}},b("svg",{xmlns:"http://www.w3.org/2000/svg",
width:"32",height:"32",viewBox:"0 0 32 32"},b("path",{d:"M16.043.367L19.813 12H32l-9.859 7.172 3.789 11.625-9.887-7.193-9.889 7.193 3.787-11.625L0 12h12.271z"})),c?f.itemDetails.removeFromFavorites:f.itemDetails.addToFavorites)}},function(d,b,a){b.a=function(a,b){return b("div",{class:a.class},b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 150 150",height:"100%",width:"100%"},b("path",{id:"path3727",d:"m 52,148.35766 c -2.475,-0.18484 -10.8,-0.45343 -18.5,-0.59687 L 19.5,147.5 19.194994,142.1708 C 18.780069,134.92106 24.675201,110.99518 28,106.43495 c 2.119734,-2.90738 3.184268,-3.40501 11.820245,-5.52557 14.015326,-3.441464 12.799724,-4.197584 21.447495,13.34062 4.135724,8.3875 8.291761,16.93353 9.235637,18.99118 0.943876,2.05765 2.065683,3.52516 2.492905,3.26112 0.427221,-0.26404 4.718162,-8.47257 9.535425,-18.24118 4.817262,-9.76862 9.137298,-18.24997 9.600081,-18.847444 1.07417,-1.386813 10.747512,-0.129937 19.839562,2.577794 7.37115,2.19522 11.16896,5.44708 12.85677,11.00853 6.69283,22.05341 7.84944,32.33763 3.67188,32.64913 -1.1,0.082 -6.95,0.62022 -13,1.19598 -11.23048,1.06878 -55.365488,2.12006 -63.5,1.51255 z m 20,-17.37753 c 0,-0.56093 -1.107043,-2.77354 -2.460095,-4.91692 -1.353052,-2.14337 -2.772339,-5.17193 -3.153972,-6.73012 C 66.0043,117.77489 65.377929,116.275 64.993998,116 c -0.383932,-0.275 -2.303235,-3.7147 -4.265118,-7.64379 -2.997369,-6.00286 -3.476188,-7.83951 -2.998076,-11.499996 0.312942,-2.395918 0.973535,-4.62137 1.467986,-4.94545 0.494451,-0.32408 2.959173,0.453755 5.47716,1.728522 2.517988,1.274768 6.181951,2.618632 8.142141,2.986366 3.484798,0.653752 4.619546,0.375908 12.565461,-3.076659 3.34951,-1.455391 3.803432,-1.47865 3.300927,-0.169142 -0.398242,1.037802 -0.124039,1.342318 0.866449,0.962233 C 92.04719,93.384178 91.914975,93.739792 82.242203,114 79.747646,119.225 76.801902,125.4125 75.696105,127.75 73.817142,131.72187 72,133.30992 72,130.98013 Z M 70.29923,93.893977 C 68.538807,93.384871 66.824749,92.525456 66.490213,91.984165 66.155677,91.442874 65.211939,91 64.393017,91 c -1.502433,0 -6.302871,-4.784056 -6.361416,-6.339707 -0.01738,-0.461839 -0.887451,-1.586839 -1.933489,-2.5 C 50.802328,77.537229 48.879628,58.999483 52.441931,46.909154 54.720369,39.176219 55.37403,38.7615 68,37.038257 72.675,36.400195 79.341587,35.480846 82.814638,34.995261 86.28769,34.509675 89.663822,34.317502 90.317154,34.568209 91.693801,35.096478 97,43.197939 97,44.771524 c 0,0.583995 0.454771,1.2134 1.010602,1.398677 1.503878,0.501292 2.439668,18.675087 1.175539,22.829799 -2.185196,7.181885 -3.87855,11.047986 -5.800118,13.242269 -1.087422,1.241752 -2.586953,3.479873 -3.332291,4.973602 -0.745338,1.493728 -1.684447,2.51236 -2.086909,2.263625 -0.402462,-0.248735 -1.79714,0.347041 -3.099286,1.323947 -5.368623,4.027692 -8.806128,4.756927 -14.568307,3.090534 z M 47.015313,60.25 C 47.006891,59.5625 46.333573,59 45.519052,59 43.283015,59 42.644845,54.707151 43.38075,44.616059 44.166271,33.844619 44.896556,30 46.15707,30 c 1.316225,0 7.090208,-4.174219 8.645304,-6.25 0.721069,-0.9625 1.890773,-1.75 2.599342,-1.75 0.70857,0 2.102798,-0.9 3.098284,-2 1.625205,-1.795832 3.079967,-2 14.250617,-2 14.795202,0 15.235286,0.195009 24.330624,10.781341 1.078019,1.254737 2.667599,4.179737 3.532399,6.5 0.86481,2.320262 1.94546,5.118659 2.40144,6.218659 1.51768,3.661163 2.10273,13.653118 0.88532,15.120015 -2.35184,2.833785 -3.74627,1.464615 -4.45065,-4.370015 -0.68461,-5.670783 -5.785078,-16.623556 -8.973492,-19.269704 -1.58533,-1.315707 -2.444358,-1.239512 -24.630153,2.184678 -15.102822,2.330992 -14.275738,1.799234 -17.29574,11.119973 -0.852701,2.631721 -1.557256,6.456721 -1.565678,8.5 C 48.976265,56.828226 48.533156,59.175 48,60 c -0.64625,1 -0.974479,1.083333 -0.984687,0.25 z",
fill:"#fff"})))}},function(d,b,a){var f=a(2);b.a=function(a,b){var c=a.item,d=a.baseUrl;a=f.itemDetails.shared[c.access];if(c.sharedToGroups&&0<c.sharedToGroups.length){var e=c.sharedToGroups.map(function(a){return b("a",{class:"ib-item-pane__group-link",href:d+"/home/group.html?owner\x3d"+a.owner+"\x26title\x3d"+a.title,key:a.id,target:"_blank"},a.title)}).reduce(function(a,b,c){return a[c-1]&&a.push(", "),a.push(b),a},[]);a="public"===c.access||"org"===c.access?[a+", ",e]:e}else if("shared"===c.access&&
(!c.sharedToGroups||0===c.sharedToGroups.length))return null;return b("span",{key:"shared-with",class:"ib-item-pane__shared"},b("strong",null,f.itemDetails.sharedWith),": ",a)}},function(d,b,a){function f(a){a.focus()}d=a(22);var c=a.n(d),k=a(228);b.a=function(a,b){var d=a.key,g=a.containerClasses,h=a.contentClasses,q=a.handleClose,n=a.i18n,t=a.children,r=null;return"item"===a.type&&(r=b(k.a,{key:"item-details-footer"})),b("div",{key:"details-pane",classes:g,"aria-expanded":"true"},b("div",{key:"content-container",
classes:h},b("header",{class:"ib-side-body__header"},b("div",{class:"ib-side-body__btn-container"},b(c.a,{afterCreate:f,focusable:!0,handleClick:q,key:"side-panel-close-btn",title:n.close},b("svg",{width:"16",height:"16",viewBox:"0 0 16 16",style:"transform: translate(0, -1px);"},b("path",{d:"M13.314 1.99l0.707 0.707-11.314 11.313-0.707-0.707 11.314-11.313z"}),b("path",{d:"M2 2.697l0.707-0.707 11.313 11.314-0.707 0.707-11.313-11.314z"}))))),b("section",{key:d,class:"ib-side-body__content"},t),r))}},
function(d,b,a){var f=a(0);d=a(1);var c=a(25),k=a(65);a=function(a){function b(b){b=a.call(this,b)||this;return b.handleAddBtnClick=b.handleAddBtnClick.bind(b),b.handleCustomActionClick=b.handleCustomActionClick.bind(b),b}return f.b(b,a),b.prototype.render=function(a){var b=this,c=this.props.stateTree.ui.sidePanel.item,d=c&&!!this.props.stateTree.results.selectedItems[c.id],e={"ib-item-pane__btn--disabled":c&&!!this.props.stateTree.results.loadingItems[c.id]},g=f.a({},e,{"ib-item-pane__btn--active":d}),
h=this.props.stateTree.settings.config.customActions.filter(function(a){return a.allowed(c||{})});return a("footer",{class:"ib-item-pane__footer"},this.props.stateTree.settings.config.disableMainAction?null:a("button",{key:"select-btn",class:"ib-item-pane__select-btn",classes:g,onclick:this.handleAddBtnClick},d?this.props.stateTree.settings.config.mainInverseActionTitle:this.props.stateTree.settings.config.mainActionTitle),h.map(function(c){return a("button",{key:"usage",class:"ib-item-pane__btn",
classes:e,value:c.name,onclick:b.handleCustomActionClick},c.name)}))},b.prototype.handleAddBtnClick=function(){var a=this.props.stateTree.ui.sidePanel.item;a&&(this.props.stateTree.results.selectedItems[a.id]?this.props.deselectItem(a):this.props.selectItem(a))},b.prototype.handleCustomActionClick=function(a){var b=this.props.stateTree.ui.sidePanel.item;b&&this.props.customAction(a.target.value,b)},b}(d.Component);b.a=Object(d.connect)(function(a){return{stateTree:a}},function(a){return{deselectItem:function(b){a(Object(c.i)(b))},
selectItem:function(b){a(Object(c.j)(b))},customAction:function(b,c){a(Object(k.c)(b,c))}}})(a)},function(d,b,a){var f=a(0),c=a(2);d=a(1);var k=a(230),h=a(22),g=a.n(h);a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return f.b(b,a),b.prototype.render=function(a){var b=a("div",{class:"ib-header__spacer"});this.props.showBackBtn&&(b=a(g.a,{handleClick:this.props.onBack,key:"main-back-btn",title:c.back,focusable:!0},a("svg",{width:"16",height:"16",viewBox:"0 0 16 16",style:"transform: translate(0, -1px);"},
a("path",{d:"M8 1.288l-7.212 7.212 7.212 7.212v-1.414l-5.288-5.297h13.288v-0.99h-13.307l5.307-5.307z"}))));var d=a("div",{class:"ib-header__spacer"});return this.props.showCloseBtn&&(d=a(g.a,{key:"main-close-btn",title:c.close,focusable:!0,handleClick:this.props.onBack},a("svg",{width:"16",height:"16",viewBox:"0 0 32 32"},a("path",{d:"M31.047 28h-5l-12-12 12-12h5l-12 12 12 12zm-26-12l12-12h-5l-12 12 12 12h5l-12-12z"})))),a("div",{classes:{ib__header:!0},key:"header"},a("div",{key:"section-title-container",
class:"ib-header__search-section"},b,a(k.a,{key:"section-dropdown"}),d))},b}(d.Component);b.a=Object(d.connect)(function(a){return{showBackBtn:a.settings.config.showBackBtn,showCloseBtn:a.settings.config.showCloseBtn,onBack:function(){a.settings.config.onBack()}}},function(){return{}})(a)},function(d,b,a){var f=a(0),c=a(2);d=a(1);var k=a(51),h=a(3),g=a(77),e=a.n(g),g=a(22),m=a.n(g);a=function(a){function b(b){b=a.call(this,b)||this;var d=(b.props.portal.user?b.props.baseSections:b.props.baseSections.filter(function(a){return"livingAtlas"===
a||"all"===a})).map(function(a){return{value:a,text:c.header.sectionTitles[a]}});return b.props.customSections.forEach(function(a){var b={value:a.name,text:a.name};a.addToFront?d.splice(0,0,b):d.push(b)}),b.state={options:d},b.handleOptionSelect=b.handleOptionSelect.bind(b),b}return f.b(b,a),b.prototype.render=function(a){var b=this.props.section,d=c.header.sectionTitles[b];return 2>this.state.options.length||this.props.replaceSectionDropdownWithTitle?a("h3",{id:"ib-dialog-title",class:"ib-header__dialog-title"},
this.props.dialogTitle):a(e.a,{key:"section-dropdown-base",options:this.state.options,onSelect:this.handleOptionSelect,selectedOptionValue:this.props.section},a("h3",{key:"search-"+b+"-dropdown",id:"section-dropdown-toggle",class:"ib-section-dropdown__toggle"},d||b,"\u00a0",a(m.a,{key:"section-dropdown-button"},a("svg",{width:"12",height:"12",viewBox:"0 0 16 16"},a("path",{d:"M1.5,4 L8,11 L14.5,4 C11.893,4 4.101,4 1.5,4 Z"})))))},b.prototype.handleOptionSelect=function(a){this.props.changeSearchSection(a);
this.props.search(!0)},b}(d.Component);b.a=Object(d.connect)(function(a){return{baseSections:a.settings.config.baseSections,customSections:a.settings.config.customSections,portal:a.settings.utils.portal,replaceSectionDropdownWithTitle:a.settings.config.replaceSectionDropdownWithTitle,dialogTitle:a.settings.config.dialogTitle,section:a.parameters.section}},function(a){return{changeSearchSection:function(b){a(Object(k.b)(b))},search:function(b){a(Object(h.h)(b))}}})(a)},function(d,b,a){var f=a(0),c=
a(2);d=a(1);var k=a(59),h=a.n(k),g=a(106),e=a(3),m=a(92),l=a(90),q=a(54),n=a(104),t=a(105);a=function(a){function b(b){b=a.call(this,b)||this;return b.handleSearchChange=b.handleSearchChange.bind(b),b.handleSearchKeyDown=b.handleSearchKeyDown.bind(b),b.handleListClick=b.handleListClick.bind(b),b.handleTableClick=b.handleTableClick.bind(b),b.handleSortClick=b.handleSortClick.bind(b),b.handleFilterClick=b.handleFilterClick.bind(b),b}return f.b(b,a),b.prototype.render=function(a){var b=this.props.nextTotal.toLocaleString()+
" "+(this.props.replacementItemName?this.props.replacementItemName:c.resultCount),d=this.props.placeholderText?this.props.placeholderText:c.searchPlaceholders.generic;return a("div",null,a("div",{key:"search-input-area",class:"ib__input-area"},a("div",{key:"search-bar-container",class:"ib-input-area__search-bar"},a("input",{id:"item-browser-search-input",class:"ib-input-area__search-input",type:"search",oninput:this.handleSearchChange,onkeydown:this.handleSearchKeyDown,placeholder:d,"aria-label":d,
value:this.props.searchString})),a("div",{class:"ib-input-area__result-bar-container"},a("span",{class:"ib-input-area__result-count"},b),a("div",{class:"ib-input-area__icon-button-container"},a(h.a,{active:"table"===this.props.resultPanelType,key:"table-button",handleClick:this.handleTableClick,title:c.compactView},a("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16"},a("g",{stroke:"none","stroke-width":"1"},a("g",null,a("path",{d:"M4 14h11v1H4v-1zm0-4h11v1H4v-1zm0-3h11V6H4v1zm0-4h11V2H4v1zM3 14H1v1h2v-1zm0-4H1v1h2v-1zm0-4H1v1h2V6zm0-4H1v1h2V2z"}))))),
a(h.a,{active:"list"===this.props.resultPanelType,handleClick:this.handleListClick,key:"list-button",title:c.listView},a("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16"},a("g",{stroke:"none","stroke-width":"1"},a("g",null,a("path",{d:"M7 13h8v1H7zm-2-1H2v3h3zm2-8h8V3H7zm0 5h8V8H7zM5 2H2v3h3zm0 5H2v3h3z"}))))),a("div",{class:"ib-input-area__spacer"}),a(h.a,{active:"filter"===this.props.sidePanelType,handleClick:this.handleFilterClick,key:"filter-button",title:"filter"===this.props.sidePanelType?
c.close:c.filterPane.filter},a("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16"},a("g",{stroke:"none","stroke-width":"1"},a("g",{id:"filter-sliders-1px-16"},a("path",{d:"M7,13 L0,13 L0,12 L7,12 L7,10 L8,10 L8,15 L7,15 L7,13 Z M12,8 L0,8 L0,7 L12,7 L12,5 L13,5 L13,10 L12,10 L12,8 Z M2,3 L0,3 L0,2 L2,2 L2,0 L3,0 L3,5 L2,5 L2,3 Z M4,2 L16,2 L16,3 L4,3 L4,2 Z M14,7 L16,7 L16,8 L14,8 L14,7 Z M9,12 L16,12 L16,13 L9,13 L9,12 Z"}))))),a(h.a,{active:"sort"===this.props.sidePanelType,handleClick:this.handleSortClick,
key:"sort-button",title:"sort"===this.props.sidePanelType?c.close:c.sortOptions.sort},a("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16"},a("g",{stroke:"none","stroke-width":"1"},a("g",{id:"sort-1px-16"},a("path",{d:"M1,1 L15,1 L15,2 L1,2 L1,1 Z M4,5 L15,5 L15,6 L4,6 L4,5 Z M7,9 L15,9 L15,10 L7,10 L7,9 Z M11,13 L15,13 L15,14 L11,14 L11,13 Z"})))))))),a(g.a,{key:"active-filters",theme:"light"}))},b.prototype.handleSearchChange=function(a){this.props.changeSearchString(a.target.value);""===a.target.value&&
""!==this.props.previousSearchString&&this.props.search(!0)},b.prototype.handleSearchKeyDown=function(a){"Enter"===a.key&&this.props.search(!0)},b.prototype.handleTableClick=function(a){a.preventDefault();"list"===this.props.resultPanelType&&this.props.changeResultDisplay()},b.prototype.handleListClick=function(a){a.preventDefault();"table"===this.props.resultPanelType&&this.props.changeResultDisplay()},b.prototype.handleFilterClick=function(a){a.preventDefault();"filter"===this.props.sidePanelType?
this.props.closeDetailsPane():this.props.viewFilters()},b.prototype.handleSortClick=function(a){a.preventDefault();"sort"===this.props.sidePanelType?this.props.closeDetailsPane():this.props.viewSort()},b}(d.Component);b.a=Object(d.connect)(function(a){return{nextTotal:a.parameters.nextQuery.total,placeholderText:a.settings.config.searchPlaceholderText,previousSearchString:a.parameters.searchString.previous,replacementItemName:a.settings.config.itemName,resultPanelType:a.ui.resultPanel.display,searchString:a.parameters.searchString.current,
sidePanelType:a.ui.sidePanel.type}},function(a){return{search:function(b){a(Object(e.h)(b))},changeResultDisplay:function(){a({type:m.a})},changeSearchString:function(b){a(Object(l.b)(b))},closeDetailsPane:function(){a(Object(q.c)())},viewFilters:function(){a(Object(n.b)())},viewSort:function(){a(Object(t.b)())}}})(a)},function(d,b,a){var f=a(0),c=a(2);d=a(1);var k=a(3),h=a(233),g=a(234),e=a(30),m=a.n(e);a=function(a){function b(b){b=a.call(this,b)||this;return b.handleScroll=b.handleScroll.bind(b),
b.handleCreate=b.handleCreate.bind(b),b}return f.b(b,a),b.prototype.render=function(a){var b=this.props.resultPanelStatus;return"success"===b||"loadingNext"===b?a(h.a,{key:"item-list-"+this.props.resultPanelDisplayType,i18n:c,showSubmitButton:this.props.showSubmitButton,results:this.props.displayItems,loadingNext:"loadingNext"===this.props.resultPanelStatus,handleScroll:this.handleScroll,handleCreate:this.handleCreate},a(g.a,{key:"result-items"})):"loading"===b?a("div",{key:"loading-items",class:"ib__results"},
a(m.a,{key:"item-loader",text:c.results.loadingItems})):"empty"===b?a("div",{key:"empty-state",class:"ib__results"},a("div",{class:"ib-results__message-container"},a("span",{class:"ib-results__message"},c.results.empty))):a("div",{key:"request-error",class:"ib__results"},a("div",{class:"ib-results__message-container"},a("span",{class:"ib-results__message"},c.results.requestError)))},b.prototype.handleScroll=function(a){.99<=(a.target.scrollTop+a.target.offsetHeight)/a.target.scrollHeight&&"loadingNext"!==
this.props.resultPanelStatus&&-1!==this.props.nextStart&&this.props.loadMoreContent()},b.prototype.handleCreate=function(a){var b=this;setTimeout(function(){a.scrollHeight<=a.clientHeight&&"loadingNext"!==b.props.resultPanelStatus&&-1!==b.props.nextStart&&b.props.loadMoreContent(50)},10)},b}(d.Component);b.a=Object(d.connect)(function(a){return{displayItems:a.results.displayItems,nextStart:a.parameters.nextQuery.nextStart,showSubmitButton:a.settings.config.showSubmitButton,resultPanelDisplayType:a.ui.resultPanel.display,
resultPanelStatus:a.ui.resultPanel.status}},function(a){return{loadMoreContent:function(b){a(Object(k.g)(b))}}})(a)},function(d,b,a){d=a(30);var f=a.n(d);b.a=function(a,b){var c=a.key,d=a.i18n,e=a.loadingNext,k=a.handleScroll,l=a.handleCreate,q=a.children;return 0<a.results.length?b("div",{key:c,class:"ib-results__item-list",onscroll:k,afterCreate:l},q,e?b("div",{class:"ib-results__load-container"},b(f.a,{key:"more-items-loader"})):null):b("div",{key:"no-items-found",class:"ib-results__item-list ib-results__item-list--none"},
b("span",{style:"font-size: 0.9375rem;"},d.results.noItemsFound))}},function(d,b,a){var f=a(0);d=a(1);var c=a(31),k=a(54),h=a(91),g=a(25),e=a(65),m=a(235),l=a.n(m),m=a(236),q=a.n(m);a=function(a){function b(b){b=a.call(this,b)||this;return b.handleShowItemDetails=b.handleShowItemDetails.bind(b),b.handleSelectionClick=b.handleSelectionClick.bind(b),b.handleCustomActionClick=b.handleCustomActionClick.bind(b),b.startResizePoll=b.startResizePoll.bind(b),b.resizePoll=b.resizePoll.bind(b),b}return f.b(b,
a),b.prototype.render=function(a){var b=this.props.stateTree.results;if(0<b.displayItems.length)return a("div",{key:"item-wrapper",id:"resize-detector",afterCreate:this.startResizePoll},this.mapItemsToChildren(b.displayItems,a))},b.prototype.mapItemsToChildren=function(a,b){var d=this;return a.map(function(a){var e=Object(c.a)(d.props.stateTree);return"list"===d.props.stateTree.ui.resultPanel.display?b(l.a,{constrained:d.state.constrained,key:a.id+"-card",item:a,loadingItems:d.props.stateTree.results.loadingItems,
selectedItems:d.props.stateTree.results.selectedItems,activeItem:d.props.stateTree.ui.sidePanel.item,portal:e,onShowItemDetails:d.handleShowItemDetails,onSelectionClick:d.handleSelectionClick,customActions:d.props.stateTree.settings.config.customActions,onCustomActionClick:d.handleCustomActionClick,disableMainAction:d.props.stateTree.settings.config.disableMainAction,sortField:d.props.stateTree.parameters.sort.field,hideEllipses:d.props.stateTree.settings.config.hideEllipses,organization:"public_authoritative"===
a.contentStatus&&d.props.stateTree.results.allOrganizations[a.orgId]?d.props.stateTree.results.allOrganizations[a.orgId]:void 0}):b(q.a,{key:a.id+"-cardrow",item:a,loadingItems:d.props.stateTree.results.loadingItems,selectedItems:d.props.stateTree.results.selectedItems,activeItem:d.props.stateTree.ui.sidePanel.item,portal:e,onShowItemDetails:d.handleShowItemDetails,onSelectionClick:d.handleSelectionClick,customActions:d.props.stateTree.settings.config.customActions,onCustomActionClick:d.handleCustomActionClick,
disableMainAction:d.props.stateTree.settings.config.disableMainAction,sortField:d.props.stateTree.parameters.sort.field,hideEllipses:d.props.stateTree.settings.config.hideEllipses})})},b.prototype.handleShowItemDetails=function(a){var b=this.props.stateTree.ui.sidePanel;b.item&&b.item.id===a.id?this.props.closeDetailsPane():this.props.viewItemDetails(a)},b.prototype.handleSelectionClick=function(a){this.props.stateTree.results.selectedItems[a.id]?this.props.deselectItem(a):this.props.selectItem(a)},
b.prototype.handleCustomActionClick=function(a,b){this.props.customAction(a,b)},b.prototype.startResizePoll=function(a){this.resizePoll(a)},b.prototype.resizePoll=function(a){var b=this;a&&0<a.clientWidth&&(300>a.clientWidth&&!this.state.constrained?this.setState({constrained:!0}):300<a.clientWidth&&this.state.constrained&&this.setState({constrained:!1}),setTimeout(function(){b.resizePoll(a)},250))},b}(d.Component);b.a=Object(d.connect)(function(a){return{stateTree:a}},function(a){return{closeDetailsPane:function(){a(Object(k.c)())},
viewItemDetails:function(b){a(Object(h.b)(b))},deselectItem:function(b){a(Object(g.i)(b))},selectItem:function(b){a(Object(g.j)(b))},customAction:function(b,c){a(Object(e.c)(b,c))}}})(a)},function(d,b){d.exports=sa},function(d,b){d.exports=ta},,,,,,,,,function(d,b,a){a.d(b,"a",function(){return c});d=a(14);b=a(34);var f=a(99);a=a(100);var c=Object(d.a)(f.a,a.a,b.b)},function(d,b,a){a.d(b,"b",function(){return f});a.d(b,"a",function(){return c});d=a(7);d=Object(d.a)(function(a,b,c){return b?c.concat(["("+
a+":"+("[000000"+b.start+" TO 000000"+b.end+"]")+")"]):c});var f=d("modified"),c=d("uploaded")},function(d,b,a){a.d(b,"b",function(){return f});a.d(b,"a",function(){return c});d=a(7);var f=Object(d.a)(function(a,b){return a&&(a=Object.keys(a),0<a.length)?b.concat(["tags:("+a.join(" AND ")+")"]):b}),c=Object(d.a)(function(a,b){return 2<a.length?b.concat(["tags:("+a+"* OR "+a+")"]):b})},function(d,b,a){function f(a){return"string"==typeof a?-1<["myContent","myFavorites","myGroups","myOrganization",
"livingAtlas"].indexOf(a):!!a.filters&&-1<a.filters.indexOf("tags")}a.d(b,"a",function(){return f})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(d,b,a){a.r(b);var f=a(0);d=a(1);var c=a(96);a.d(b,"defaultConfig",function(){return c.a});a.d(b,"reducers",function(){return c.c});a.d(b,"initialState",function(){return c.b});var k=a(6);a.d(b,"SELECT_ITEM_SINGLE",function(){return k.f});a.d(b,"SELECT_ITEM",function(){return k.c});a.d(b,"DESELECT_ITEM",function(){return k.b});a.d(b,"SELECT_ITEM_ASYNC",
function(){return k.d});a.d(b,"SELECT_ITEM_ASYNC_FAILED",function(){return k.e});a.d(b,"search",function(){return k.h});a.d(b,"updateExtent",function(){return k.i});a.d(b,"viewItemDetails",function(){return k.j});a.d(b,"changeSearchSection",function(){return k.g});var h=a(229),g=a(231),e=a(232),m=a(213),l=a(187);a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return f.b(b,a),b.prototype.render=function(a){var b=this.props.layoutMode,c={ib__container:!0,"ib__container--expanded":this.props.expanded&&
"adjustable"===b||"fullscreen"===b};return"fullscreen"===b?a(l.a,{key:"big-browser",containerClasses:c}):a("div",{id:"item-browser-container",classes:c},a(m.a,{key:"side-panel",closing:this.props.sidePanelClosing}),a(h.a,{key:"header"}),a(g.a,{key:"input-area"}),a(e.a,{key:"result-panel"}))},b}(d.Component);b.default=Object(d.connect)(function(a){return{layoutMode:a.settings.config.layoutMode,expanded:a.ui.expanded.maximized,sidePanelClosing:a.ui.sidePanel.closing}},function(){return{}})(a)},,,,,
,,,,,,,,,,function(d,b,a){a.d(b,"a",function(){return f});d=a(7);var f=Object(d.a)(function(a,b){return a?b.concat(["(group:"+a.id+")"]):b})},function(d,b,a){a.d(b,"a",function(){return f});d=a(7);var f=Object(d.a)(function(a,b,d){if(a)switch(a.value){case "authoritative":return b&&b.orgId?d.concat(["((contentstatus:org_authoritative orgid:"+b.orgId+") OR contentstatus:public_authoritative)"]):d.concat(["(contentstatus:public_authoritative)"]);case "deprecated":return d.concat(["(contentstatus:deprecated)"])}return d})},
function(d,b,a){a.d(b,"a",function(){return f});d=a(7);var f=Object(d.a)(function(a,b){return a?b.concat(["(access:"+a.value+")"]):b})},function(d,b,a){a.d(b,"a",function(){return k});var f=a(13),c=a(12),k=function(a,b,d,k){function e(e){x=e.categorySchema[0].source.split(".")[1];Object(c.c)(a,b,d.contentCategorySetsGroupQuery).then(g,p);Object(c.m)(a,b.restUrl+"/portals/regions",{culture:k}).then(r,p)}function g(d){d.results[0]?Object(c.m)(a,b.restUrl+"/content/groups/"+d.results[0].id+"/search",
{q:"typekeywords: "+x}).then(h,p):p("The content category sets group could not be found.")}function h(d){1===d.results.length&&d.results[0]?Object(c.f)(a,b,d.results[0].id).then(m,p):p("The item containing the living atlas categories could not be determined.")}function m(a){w=a.categorySchema[0];d.isPortal&&u?v([w]):u&&v([w,u])}function r(a){u={categories:a.map(function(a){return{displayName:a.localizedName,title:a.region}}).sort(function(a,b){return"wo"===a.title.toLowerCase()?-1:a.displayName.localeCompare(b.displayName)}),
description:"2.0",displayName:"Regions",title:"region"};d.isPortal&&w?v([w]):w&&v([w,u])}function v(a){z.resolve({schema:a,id:y})}function p(a){z.reject(a)}void 0===k&&(k="en");var y,x,w,u,z=new f;return Object(c.c)(a,b,d.livingAtlasGroupQuery).then(function(d){d.results[0]&&d.results[0].id?(y=d.results[0].id,Object(c.d)(a,b,y).then(e,p)):p("The living atlas group could not be found.")},p),z}},function(d,b,a){a.d(b,"a",function(){return k});var f=a(14),c=a(101),k=function(a,b){return Object(f.a)(Object(c.a)(a))(b)}}])});